{"version":3,"sources":["./src/app/modules/sys-organization/app/handler/organization-addchild.ts","./src/app/modules/sys-organization/app/handler/organization-additem.ts","./src/app/modules/sys-organization/app/handler/organization-cancle.ts","./src/app/modules/sys-organization/app/handler/organization-edit.ts","./src/app/modules/sys-organization/app/handler/organization-formload.ts","./src/app/modules/sys-organization/app/handler/organization-remove.ts","./src/app/modules/sys-organization/app/handler/organization-save.ts","./src/app/modules/sys-organization/app/index.ts","./src/app/modules/sys-organization/app/sys-organization-form.ts","./src/app/modules/sys-organization/app/sys-organization-uistate.ts","./src/app/modules/sys-organization/app/sys-organization-viewmodel.ts","./src/app/modules/sys-organization/app/sys-organization.bindingdata.ts","./src/app/modules/sys-organization/app/sys-organization.statemachine.ts","./src/app/modules/sys-organization/domain/entities/organization.entity.ts","./src/app/modules/sys-organization/domain/index.ts","./src/app/modules/sys-organization/domain/sys-organization-dataservice.ts","./src/app/modules/sys-organization/domain/sys-organization-datastorage.ts","./src/app/modules/sys-organization/domain/sys-organization-repository.ts","./src/app/modules/sys-organization/shared/data-util.ts","./src/app/modules/sys-organization/sys-organization-routing.module.ts","./src/app/modules/sys-organization/sys-organization.component.css","./src/app/modules/sys-organization/sys-organization.component.html","./src/app/modules/sys-organization/sys-organization.component.ts","./src/app/modules/sys-organization/sys-organization.module.js"],"names":[],"mappings":"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","file":"sys-organization.module.chunk.js","sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { NgCommandHandler, CommandHandler, EntityFactory } from \"@farris/devkit\";\r\nimport { OrganizationStateMachine } from \"../sys-organization.statemachine\";\r\nimport { OrganizationRepository, OrgnizationEntity } from \"../../domain\";\r\nimport { OrganizationBindingData } from \"../sys-organization.bindingdata\";\r\nimport { DataUtil } from \"../../shared/data-util\";\r\nimport { OrganizationUistate } from \"../sys-organization-uistate\";\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'addchild'\r\n})\r\nexport class OrgAddChildHandler extends CommandHandler {\r\n\r\n    constructor(\r\n        private uiState: OrganizationUistate,\r\n        private stateMachine: OrganizationStateMachine,\r\n        private repository: OrganizationRepository,\r\n        private bindingData: OrganizationBindingData\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule() {\r\n\r\n        this.addTask('addchild', () => {\r\n            this.uiState.action = 'add';\r\n            var item = this.bindingData.list.currentItem;\r\n            var data = {\r\n                id: DataUtil.createNM(),\r\n                code: '',\r\n                name: '',\r\n                parentId: item['Id'],\r\n                layer: item['Layer'] + 1\r\n            };\r\n\r\n            const newEntity = EntityFactory<OrgnizationEntity>(OrgnizationEntity, data);\r\n            this.repository.addEntity(newEntity);\r\n\r\n            this.stateMachine['edit']();\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-addchild.ts","import { Injectable } from \"@angular/core\";\r\nimport { NgCommandHandler, CommandHandler, EntityFactory } from \"@farris/devkit\";\r\nimport { OrganizationStateMachine } from \"../sys-organization.statemachine\";\r\nimport { OrganizationRepository, OrgnizationEntity } from \"../../domain\";\r\nimport { DataUtil } from \"../../shared/data-util\";\r\nimport { OrganizationUistate } from \"../sys-organization-uistate\";\r\nimport { OrganizationBindingData } from \"../sys-organization.bindingdata\";\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'additem'\r\n})\r\nexport class OrgAdditemHandler extends CommandHandler {\r\n    \r\n    constructor(\r\n        private uiState: OrganizationUistate,\r\n        private stateMachine: OrganizationStateMachine,\r\n        private repository: OrganizationRepository,\r\n        private bindingData: OrganizationBindingData,\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule() {\r\n        this.addTask('additem', () => {\r\n            this.uiState.action = 'add';     \r\n            var item = this.bindingData.list.currentItem;\r\n            var data = {\r\n                id: DataUtil.createNM(),\r\n                code: '',\r\n                name: '',\r\n                parentId: item['ParentId'],\r\n                layer: item['Layer'],\r\n                path: ''\r\n            };\r\n            const newEntity = EntityFactory<OrgnizationEntity>(OrgnizationEntity, data);\r\n            this.repository.addEntity(newEntity);\r\n\r\n            this.stateMachine['edit']();\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-additem.ts","import { Injectable } from \"@angular/core\";\r\nimport { NgCommandHandler, CommandHandler } from \"@farris/devkit\";\r\nimport { OrganizationRepository } from \"../../domain\";\r\nimport { OrganizationStateMachine } from \"../sys-organization.statemachine\";\r\nimport { OrganizationBindingData } from \"../sys-organization.bindingdata\";\r\nimport { OrganizationUistate } from \"../sys-organization-uistate\";\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'cancle'\r\n})\r\nexport class OrgCancleHandler extends CommandHandler {\r\n    \r\n    constructor(\r\n        private repository: OrganizationRepository,\r\n        private bindingData: OrganizationBindingData,\r\n        private stateMachine: OrganizationStateMachine,\r\n        private uiState: OrganizationUistate\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule() {\r\n        this.addTask('cancle', () => {\r\n            this.stateMachine['view']();\r\n            if(this.uiState.action !== 'add') {\r\n                return;\r\n            }\r\n            var id = this.bindingData.list.currentId;\r\n            this.repository.removeEntityById(id.toString());\r\n            this.uiState.action = 'cancle';\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-cancle.ts","import { Injectable } from \"@angular/core\";\r\nimport { NgCommandHandler, CommandHandler } from \"@farris/devkit\";\r\nimport { OrganizationUistate } from \"../sys-organization-uistate\";\r\nimport { OrganizationStateMachine } from \"../sys-organization.statemachine\";\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'edit'\r\n})\r\nexport class OrgEditHandler extends CommandHandler {\r\n\r\n    constructor(\r\n        private uiState: OrganizationUistate,\r\n        private stateMachine: OrganizationStateMachine\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule(){\r\n        this.addTask('tranState', () => {\r\n            this.uiState.action = 'edit';\r\n            this.stateMachine['edit']();\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-edit.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { OrganizationDataServcie } from '../../domain';\r\nimport { OrganizationUistate } from '../sys-organization-uistate';\r\nimport { OrganizationStateMachine } from '../sys-organization.statemachine';\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'formLoad'\r\n})\r\nexport class OrgFormLoadHandler extends CommandHandler {\r\n    constructor(\r\n        private dataService: OrganizationDataServcie,\r\n        private uiState: OrganizationUistate,\r\n        private stateMachine: OrganizationStateMachine\r\n      ) {\r\n        super();\r\n      }\r\n    \r\n      schedule() {\r\n    \r\n        // 数据加载\r\n        this.addTask('loadData', () => {\r\n            this.uiState.action ='load';\r\n            this.dataService.loadData();        \r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-formload.ts","import { Injectable } from \"@angular/core\";\r\nimport { NgCommandHandler, CommandHandler } from \"@farris/devkit\";\r\nimport { OrganizationBindingData } from \"../sys-organization.bindingdata\";\r\nimport { OrganizationUistate } from \"../sys-organization-uistate\";\r\nimport { OrganizationStateMachine } from \"../sys-organization.statemachine\";\r\nimport { OrganizationDataServcie } from \"../../domain\";\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'remove'\r\n})\r\nexport class OrgRemoveHandler extends CommandHandler {\r\n\r\n    constructor(\r\n        private bindingData: OrganizationBindingData,\r\n        private uiState: OrganizationUistate,\r\n        private stateMachine: OrganizationStateMachine,\r\n        private dataService: OrganizationDataServcie\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule(){\r\n        this.addTask('remove', () => {\r\n            const id = this.bindingData['Id'];\r\n            this.uiState.action = 'remove';\r\n            this.dataService.remove(id);\r\n\r\n            this.stateMachine['view']();\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-remove.ts","import { Injectable } from \"@angular/core\";\r\nimport { NgCommandHandler, CommandHandler } from \"@farris/devkit\";\r\nimport { OrganizationDataServcie } from \"../../domain\";\r\nimport { OrganizationBindingData } from \"../sys-organization.bindingdata\";\r\nimport { OrganizationStateMachine } from \"../sys-organization.statemachine\";\r\nimport { OrganizationUistate } from \"../sys-organization-uistate\";\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'save'\r\n})\r\nexport class OrgSaveHandler extends CommandHandler {\r\n    \r\n    constructor(\r\n        private dataService: OrganizationDataServcie,\r\n        private bindingData: OrganizationBindingData,\r\n        private uiState: OrganizationUistate,\r\n        private stateMachine: OrganizationStateMachine,\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule() {\r\n        this.addTask('save', () => {\r\n            let item = this.bindingData.list.currentItem;\r\n            if (!item['Name']) {\r\n                alert('组织名称不能为空!');\r\n                return;\r\n            }\r\n            if(!item['Code']) {\r\n                alert('组织编号不能为空!');\r\n                return;\r\n            }\r\n\r\n            if (this.uiState.action == 'edit') {\r\n                this.dataService.savePut(item);\r\n            } else {\r\n                this.dataService.savePost(item);\r\n            }\r\n            \r\n\r\n            this.uiState.action = 'save';\r\n            this.stateMachine['view']();\r\n        })\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/handler/organization-save.ts","import { OrgFormLoadHandler } from \"./handler/organization-formload\";\r\nimport { Provider } from \"@angular/compiler/src/core\";\r\nimport { OrganizationBindingData } from \"./sys-organization.bindingdata\";\r\nimport { OrganizationForm } from \"./sys-organization-form\";\r\nimport { OrganizationStateMachine } from \"./sys-organization.statemachine\";\r\nimport { OrganizationUistate } from \"./sys-organization-uistate\";\r\nimport { OrganizationViewModel } from \"./sys-organization-viewmodel\";\r\nimport { OrgAdditemHandler } from \"./handler/organization-additem\";\r\nimport { OrgSaveHandler } from \"./handler/organization-save\";\r\nimport { OrgAddChildHandler } from \"./handler/organization-addchild\";\r\nimport { OrgCancleHandler } from \"./handler/organization-cancle\";\r\nimport { OrgEditHandler } from \"./handler/organization-edit\";\r\nimport { OrgRemoveHandler } from \"./handler/organization-remove\";\r\n\r\n//Handler\r\nconst commandHandler = [OrgFormLoadHandler, \r\n    OrgAdditemHandler, \r\n    OrgSaveHandler, \r\n    OrgAddChildHandler, \r\n    OrgCancleHandler,\r\n    OrgEditHandler,\r\n    OrgRemoveHandler\r\n];\r\n\r\n//Providers\r\nconst APP_PROVIDERS: Provider[] = [\r\n    OrganizationBindingData,\r\n    OrganizationForm,\r\n    OrganizationStateMachine,\r\n    OrganizationUistate,\r\n    OrganizationViewModel\r\n]\r\n\r\nexport {\r\n    OrganizationBindingData,\r\n    OrganizationForm,\r\n    OrganizationStateMachine,\r\n    OrganizationUistate,\r\n    OrganizationViewModel,\r\n\r\n    APP_PROVIDERS,\r\n    commandHandler\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/index.ts","import { Injectable, Injector } from \"@angular/core\";\r\nimport { FormControl } from '@angular/forms';\r\nimport { NgForm, Form, NgFormControl, NgChildForm, NgChildFormArray } from '@farris/devkit';\r\nimport { OrganizationBindingData } from \"./sys-organization.bindingdata\";\r\n\r\n\r\n@Injectable()\r\n@NgForm({\r\n    bindingData: OrganizationBindingData\r\n})\r\nexport class OrganizationForm extends Form {\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n      }\r\n    \r\n      /**\r\n       * id\r\n       */\r\n      @NgFormControl({\r\n        name: 'Id',\r\n        binding: 'Id'\r\n      })\r\n      Id: FormControl;\r\n\r\n      @NgFormControl({\r\n        name: 'ParentId',\r\n        binding: 'ParentId'\r\n      })\r\n      ParentId: FormControl;\r\n    \r\n      /**\r\n       * code\r\n       */\r\n      @NgFormControl({\r\n        name: 'code',\r\n        binding: 'Code'\r\n      })\r\n      Code: FormControl;\r\n    \r\n      /**\r\n       * 名称\r\n       */\r\n      @NgFormControl({\r\n        name: 'name',\r\n        binding: 'Name'\r\n      })\r\n      Name: FormControl;\r\n    \r\n\r\n      @NgFormControl({\r\n        name: 'path',\r\n        binding: 'Path'\r\n    })\r\n    Path: FormControl;\r\n\r\n    @NgFormControl({\r\n      name: 'layer',\r\n      binding: 'Layer'\r\n    })\r\n    Layer: FormControl;\r\n\r\n    @NgFormControl({\r\n      name: 'isdetail',\r\n      binding: 'IsDetail'\r\n    })\r\n    IsDetail: FormControl;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/sys-organization-form.ts","\r\nexport class OrganizationUistate {\r\n    action: string;//上个状态\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/sys-organization-uistate.ts","import { Injectable, Injector } from \"@angular/core\";\r\nimport { NgViewModel, ViewModel, NgCommand } from \"@farris/devkit\";\r\nimport { OrganizationBindingData } from \"./sys-organization.bindingdata\";\r\nimport { OrganizationForm } from \"./sys-organization-form\";\r\nimport { OrganizationStateMachine } from \"./sys-organization.statemachine\";\r\nimport { OrganizationUistate } from \"./sys-organization-uistate\";\r\n\r\n\r\n@Injectable()\r\n@NgViewModel({\r\n    children: [],\r\n    binding: OrganizationBindingData,\r\n    form: OrganizationForm,\r\n    stateMachine: OrganizationStateMachine\r\n})\r\nexport class OrganizationViewModel extends ViewModel {\r\n    \r\n    public uiState: OrganizationUistate;\r\n    public stateMachine:OrganizationStateMachine;\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n        this.uiState = this.injector.get<OrganizationUistate>(OrganizationUistate);\r\n      }\r\n\r\n      /**\r\n   * 表单加载\r\n   */\r\n  @NgCommand({\r\n    name: 'formLoad'\r\n   })\r\n  public formLoad() {}\r\n\r\n  /**\r\n   * 新增子级\r\n   */\r\n  @NgCommand({\r\n    name: 'addchild'\r\n   })\r\n  public addchild() {}\r\n\r\n  /**\r\n   * 新增平级\r\n   */\r\n  @NgCommand({\r\n    name: 'additem'\r\n   })\r\n  public additem() {}\r\n\r\n  /**\r\n   * 编辑\r\n   */\r\n  @NgCommand({\r\n    name: 'edit'\r\n   })\r\n  public edit() {}\r\n\r\n\r\n  /**\r\n   * 删除\r\n   */\r\n  @NgCommand({\r\n    name: 'remove'\r\n   })\r\n  public remove() {}\r\n\r\n  /**\r\n   * 保存\r\n   */\r\n  @NgCommand({\r\n    name: 'save'\r\n   })\r\n  public save() {}\r\n\r\n  /**\r\n   * 取消\r\n   */\r\n  @NgCommand({\r\n    name: 'cancle'\r\n   })\r\n  public cancel() {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/sys-organization-viewmodel.ts","import { Injectable, Injector } from \"@angular/core\";\r\nimport { NgBindingData, BindingData } from \"@farris/devkit\";\r\nimport { OrgnizationEntity, OrganizationRepository } from \"../domain\";\r\n\r\n/*\r\n*bindingdata是实体集合的影射，与entity双向通信，ui与实体间的一个管道\r\n*/\r\n@Injectable()\r\n@NgBindingData({\r\n    entity: OrgnizationEntity,\r\n    repository: OrganizationRepository\r\n})\r\nexport class OrganizationBindingData extends BindingData {\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/sys-organization.bindingdata.ts","import { Injectable } from \"@angular/core\";\r\nimport { NgStatemachine, StateMachine, NgState, State, RenderState,  NgRenderState, Action, NgAction } from \"@farris/devkit\";\r\n\r\n\r\n@Injectable()\r\n@NgStatemachine()\r\nexport class OrganizationStateMachine extends StateMachine {\r\n    \r\n    /**\r\n   * --------------------------------------------------------------------------------\r\n   * 基本状态定义\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n\r\n  /**\r\n   * 查看状态\r\n   */\r\n  @NgState({ initialState: true })\r\n  viewState: State;\r\n\r\n  /**\r\n   * 新增状态\r\n   */\r\n  @NgState()\r\n  addState: State;\r\n\r\n  /**\r\n   * 编辑状态\r\n   */\r\n  @NgState()\r\n  editState: State;\r\n\r\n\r\n  /**\r\n   * --------------------------------------------------------------------------------\r\n   * 渲染状态定义\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n\r\n  /**\r\n   * 新增按钮是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'viewState'\r\n  })\r\n  canAdd: RenderState;\r\n\r\n  /**\r\n   * 编辑按钮是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'viewState'\r\n  })\r\n  canEdit: RenderState;\r\n\r\n\r\n  /**\r\n   * 取消按钮是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'addState' || context.state === 'editState'\r\n  })\r\n  canCancel: RenderState;\r\n\r\n\r\n  /**\r\n   * 删除\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'viewState'\r\n  })\r\n  canDelete: RenderState;\r\n\r\n  /**\r\n   * 保存按钮是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'addState' || context.state === 'editState'\r\n  })\r\n  canSave: RenderState;\r\n\r\n  /**\r\n   * 上一条、下一条是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'viewState'\r\n  })\r\n  canSwitch: RenderState;\r\n\r\n  /**\r\n   * 输入控件是否允许输入\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'addState' || context.state === 'editState'\r\n  })\r\n  canInput: RenderState;\r\n\r\n\r\n  /**\r\n   * --------------------------------------------------------------------------------\r\n   * 迁移动作定义\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n  @NgAction({transitTo: 'addState' })\r\n  add: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  edit: Action;\r\n\r\n  @NgAction({ transitTo: 'viewState' })\r\n  view: Action;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/app/sys-organization.statemachine.ts","import { Entity, NgField } from \"@farris/devkit\";\r\n\r\n//定义此实体与服务端实体对应\r\nexport class OrgnizationEntity extends Entity {\r\n\r\n    @NgField({\r\n        dataField: 'id',\r\n        primary: true\r\n    })\r\n    Id: string;\r\n\r\n    @NgField({\r\n        dataField: 'code'\r\n    })\r\n    Code: string;\r\n\r\n    @NgField({\r\n        dataField: 'name'   \r\n    })\r\n    Name: string;\r\n\r\n    @NgField({\r\n        dataField: 'parentId'\r\n    })\r\n    ParentId: string;\r\n\r\n    @NgField({\r\n        dataField: 'path'\r\n    })\r\n    Path: string;\r\n\r\n    @NgField({\r\n        dataField: 'layer'\r\n    })\r\n    Layer: number;\r\n\r\n    @NgField({\r\n        dataField: 'isDetail'\r\n    })\r\n    IsDetail: boolean;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/domain/entities/organization.entity.ts","import { Provider } from \"@angular/core\";\r\nimport { OrganizationDataStorage } from \"./sys-organization-datastorage\";\r\nimport { OrganizationRepository } from \"./sys-organization-repository\";\r\nimport { OrganizationDataServcie } from \"./sys-organization-dataservice\";\r\nimport { OrgnizationEntity } from \"./entities/organization.entity\"\r\n\r\n//归集当前子模块中的服务，injectabal 可注入的那些\r\nconst DOMAIN_PROVIDERS: Provider[] = [\r\n    OrganizationDataStorage,\r\n    OrganizationRepository,\r\n    OrganizationDataServcie\r\n]\r\n\r\n//当前子模块中暴露出一些对外可用的东西\r\nexport {\r\n    OrgnizationEntity,\r\n    OrganizationDataStorage,\r\n    OrganizationRepository,\r\n    OrganizationDataServcie,\r\n    DOMAIN_PROVIDERS\r\n}\r\n\r\n/**\r\n * DOMAIN 中定义了一些实体，及实体取数与相关映射的服务\r\n */\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/domain/index.ts","import { Injectable } from \"@angular/core\";\r\nimport { RestfulService } from \"@farris/devkit\";\r\nimport { OrganizationDataStorage } from \"./sys-organization-datastorage\";\r\nimport { OrganizationRepository } from \"./sys-organization-repository\";\r\nimport { DataUtil } from \"../shared/data-util\";\r\nimport { HttpHeaders, HttpErrorResponse } from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class OrganizationDataServcie {\r\n    \r\n    private url = '/api/runtime/sys/v1.0/sysOrgs';\r\n    public sessionId: string;\r\n    \r\n    constructor(private rest: RestfulService, \r\n        private orgDataStore: OrganizationDataStorage,\r\n        private repository: OrganizationRepository) { }\r\n\r\n    loadData() {\r\n        const headers = new HttpHeaders().set(\"SessionId\", this.sessionId); \r\n        return this.rest.get(`${this.url}/${'all'}`, null, { headers }).subscribe(\r\n            (org: any) => {              \r\n                if(org instanceof Array) {\r\n                    org.forEach((item) => {\r\n                        if(item.parentId === \"\") {\r\n                          item.parentId = undefined;\r\n                        }\r\n                      })\r\n                    this.orgDataStore.load(org);\r\n                } else { \r\n                    this.orgDataStore.load([org]);\r\n                }\r\n            });\r\n        }\r\n\r\n    addNewData(parentId: any) {\r\n        var data = {\r\n            id: DataUtil.createNM(),\r\n            code: '',\r\n            name: '',\r\n            parentId: parentId,\r\n            path: ''\r\n        };\r\n        //const newEntity = EntityFactory<OrgnizationEntity>(OrgnizationEntity, data);\r\n        this.orgDataStore.addItem([data]);\r\n    }\r\n\r\n    remove(id: string){\r\n        const headers = new HttpHeaders().set(\"SessionId\", this.sessionId);\r\n        //todo http请求先从服务端remove 然后datastore重新load\r\n        this.rest.delete(`${this.url}/${id}`, null, {headers}).subscribe((res: any) => {\r\n            this.repository.removeEntityById(id);\r\n          })\r\n    }\r\n\r\n     /**\r\n   * 保存\r\n   */\r\n  savePost(data: any) {\r\n    const headers = new HttpHeaders().set(\"SessionId\", this.sessionId);\r\n    let entities = this.repository.getAllEntities();\r\n            entities.forEach(element => {\r\n                if(element.Id === data.Id) {\r\n                  element.Code = data.Code;\r\n                  element.Name = data.Name;\r\n                  element.ParentId = data.ParentId;\r\n                  element.Path = data.Path\r\n                  var postRes = this.convert2Json(data);\r\n                  this.rest.post(this.url, postRes, null, {headers}).subscribe(\r\n                    (res: any) => {\r\n                    //this.loadData();\r\n                    }, \r\n                    (error: HttpErrorResponse) => {\r\n                        alert(error.error.Message);\r\n                    });      \r\n                }          \r\n              }); \r\n  }\r\n\r\n  savePut(data: any) {\r\n    const headers = new HttpHeaders().set(\"SessionId\", this.sessionId);\r\n    let dataBody = this.convert2Json(data);\r\n    this.rest.put(this.url, dataBody, null, { headers }).subscribe(\r\n        (res: any) => {}\r\n    )\r\n  }\r\n\r\n  /**\r\n   * 保存变更集\r\n   */\r\n  saveChanges(changes: any) {\r\n    console.log('变更集保存成功');\r\n  }\r\n\r\n  convert2Json(item: any): any {\r\n      var result = {\r\n          id: item.Id,\r\n          code: item.Code,\r\n          name: item.Name,\r\n          parentId: item.ParentId || '',\r\n          path: item.Path,\r\n          layer: item.Layer\r\n      }\r\n      return result;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/domain/sys-organization-dataservice.ts","import { Injectable } from \"@angular/core\";\r\nimport { MemoryStorage } from \"@farris/devkit\";\r\n\r\n//服务端取回的实体数据存放在此\r\n@Injectable()\r\nexport class OrganizationDataStorage extends MemoryStorage {\r\n    constructor() {\r\n        super();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/domain/sys-organization-datastorage.ts","import { Injectable, Injector } from \"@angular/core\";\r\nimport { NgRepository, Repository } from \"@farris/devkit\";\r\nimport { OrganizationDataStorage } from \"./sys-organization-datastorage\";\r\nimport { OrgnizationEntity } from \"./entities/organization.entity\";\r\n\r\n//将本地存放的数据与相应实体建立映射关系\r\n@Injectable()\r\n@NgRepository({\r\n    from: OrganizationDataStorage,\r\n    entityType: OrgnizationEntity\r\n})\r\nexport class OrganizationRepository extends Repository<OrgnizationEntity> {\r\n    constructor(injector: Injector) {\r\n        super(injector);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/domain/sys-organization-repository.ts","class DataUtil {\r\n\r\n  /**\r\n   * 创建内码\r\n   */\r\n  static createNM() {\r\n    // const S4 = function() {\r\n    //     return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    // };\r\n    // return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    return '' + Math.round(Math.random() * 10000);\r\n  }\r\n\r\n  /**\r\n   * 创建编号\r\n   */\r\n  static createBH(prefix: string) {\r\n    const d = new Date();\r\n    return `${prefix}${d.getFullYear()}${d.getMonth()}${d.getDate()}${d.getHours()}${d.getMinutes()}${d.getSeconds()}`;\r\n  }\r\n\r\n}\r\n\r\nexport { DataUtil };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/shared/data-util.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SysOrganizationComponent } from './sys-organization.component';\r\n\r\n//添加路由定义\r\nconst routes: Routes = [\r\n    { path: '', component: SysOrganizationComponent}\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)//引入路由监听\r\n  ],\r\n  exports: [\r\n    RouterModule//导出路由模块，因此配置此路由的模块下的组件，可以用此路由的相关命令\r\n  ]\r\n})\r\nexport class SysOrganizationRoutingModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/sys-organization-routing.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/sys-organization/sys-organization.component.css\n// module id = ./src/app/modules/sys-organization/sys-organization.component.css\n// module chunks = sys-organization.module","module.exports = \"<div class=\\\"pt-2 mb-2\\\"> \\r\\n    <div class=\\\"pr-2 text-left\\\">\\r\\n                <button type=\\\"button\\\" (click)= \\\"viewmodel.additem()\\\" [disabled]=\\\"!viewmodel.stateMachine.canAdd\\\"  class=\\\"btn btn-sm btn-default\\\">新增同级 </button>\\r\\n                <button type=\\\"button\\\" (click)= \\\"viewmodel.addchild()\\\" [disabled]=\\\"!viewmodel.stateMachine.canAdd\\\"  class=\\\"btn btn-sm btn-default\\\">新增子级 </button>\\r\\n                <button type=\\\"button\\\"  [disabled]=\\\"!viewmodel.stateMachine.canEdit\\\"  (click)= \\\"viewmodel.edit()\\\"  class=\\\"btn btn-sm btn-default\\\">编辑 </button>\\r\\n                <button type=\\\"button\\\"   [disabled]=\\\"!viewmodel.stateMachine.canCancel\\\" (click)= \\\"viewmodel.cancel()\\\" class=\\\"btn btn-sm btn-default\\\">取消 </button>\\r\\n                <button type=\\\"button\\\"  [disabled]=\\\"!viewmodel.stateMachine.canSave\\\" (click)= \\\"viewmodel.save()\\\" class=\\\"btn btn-sm btn-default\\\">保存 </button>\\r\\n                <button type=\\\"button\\\"  [disabled]=\\\"!viewmodel.stateMachine.canDelete\\\"  (click)= \\\"viewmodel.remove()\\\" class=\\\"btn btn-sm btn-default\\\">删除 </button>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"functioninfos\\\" style=\\\"height: 1300px\\\">\\r\\n    <kendo-splitter orientation=\\\"horizontal\\\" style=\\\"height: 100%;\\\">\\r\\n        <kendo-splitter-pane [collapsible]=\\\"true\\\"  size=\\\"30%\\\" min = \\\"20%\\\" max =\\\"70%\\\">\\r\\n            <!--工具栏了 BEGIN-->\\r\\n            <div class=\\\"row pt-2 mb-2\\\">\\r\\n                <div class=\\\"col-md-12 col-lg-12 funcinfo-col\\\">\\r\\n                    <h2>系统组织</h2>\\r\\n                    <div class=\\\"card\\\" >\\r\\n                            <!--tree -->\\r\\n                        <div class=\\\"col-xs-12 col-sm-12 col-md-3 col-lg-3 \\\">                  \\r\\n                            <kendo-treeview style=\\\"width:500px\\\"  [nodes]=\\\"data\\\" textField=\\\"Name\\\" kendoTreeViewExpandable  kendoTreeViewFlatDataBinding  idField=\\\"Id\\\"  parentIdField=\\\"ParentId\\\" (selectionChange)=\\\"handleSelection($event)\\\" > </kendo-treeview>                  \\r\\n                        </div>\\r\\n                        <!--tree end -->\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </kendo-splitter-pane>\\r\\n        <kendo-splitter-pane   [resizable]=\\\"true\\\" style=\\\"height: 1300px;\\\">\\r\\n            <kendo-tabstrip >\\r\\n                <kendo-tabstrip-tab [title]=\\\"'基本信息'\\\" [selected]=\\\"true\\\" style=\\\"height : 1300px\\\">\\r\\n                    <ng-template kendoTabContent style=\\\"height : 1300px\\\">\\r\\n                        <!--info  -->\\r\\n                        <div class=\\\"row funcinfo-wrapper\\\">\\r\\n                            <div class=\\\"col-xs-12 col-sm-12 col-md-12 col-lg-12 funcinfo-col\\\">                        \\r\\n                                <div class=\\\"card col-xs-12 col-sm-12 col-md-12 col-lg-12\\\">\\r\\n                                    <div class=\\\"card-block \\\">\\r\\n                                        <form class=\\\"k-form\\\" [formGroup]=\\\"viewmodel.form\\\"  >\\r\\n                                            <label class=\\\"k-form-field\\\">\\r\\n                                                <span>内码 </span>\\r\\n                                                <input formControlName=\\\"Id\\\" disabled=\\\"false\\\" class=\\\"k-textbox w-100\\\" />\\r\\n                                            </label>\\r\\n                                            <label class=\\\"k-form-field\\\">\\r\\n                                                <span>编号 </span>\\r\\n                                                <input class=\\\"k-textbox\\\" [readonly]=\\\"!viewmodel.stateMachine.canInput\\\" formControlName=\\\"code\\\" required = 'true'/>\\r\\n                                            </label>\\r\\n                                            <label class=\\\"k-form-field\\\">\\r\\n                                                <span>名称</span>\\r\\n                                                <input class=\\\"k-textbox\\\" [readonly]=\\\"!viewmodel.stateMachine.canInput\\\" formControlName=\\\"name\\\" required = 'true'/>\\r\\n                                            </label>                                                        \\r\\n                                        </form>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </kendo-tabstrip-tab>\\r\\n                \\r\\n            </kendo-tabstrip> \\r\\n        </kendo-splitter-pane>\\r\\n</kendo-splitter>\\r\\n</div>\\r\\n        <!--info end -->\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/sys-organization/sys-organization.component.html\n// module id = ./src/app/modules/sys-organization/sys-organization.component.html\n// module chunks = sys-organization.module","import { Component, OnInit } from '@angular/core';\r\nimport { OrganizationViewModel } from './app/sys-organization-viewmodel';\r\nimport { ChangeType, Change } from '@farris/devkit';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { OrganizationDataServcie } from './domain';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\n\r\n@Component({\r\n  selector: 'app-sys-organization',\r\n  templateUrl: './sys-organization.component.html',\r\n  styleUrls: ['./sys-organization.component.css']\r\n})\r\nexport class SysOrganizationComponent implements OnInit {\r\n\r\n  public data: any[];\r\n  currentId: string;\r\n  sessionid: string;\r\n\r\n  constructor(public viewmodel: OrganizationViewModel, \r\n    private route: ActivatedRoute, \r\n    private orgDataService: OrganizationDataServcie,\r\n    private frmService: FrameworkService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      if (params.has('funcid')) {\r\n        const funcid = params.get('funcid');\r\n        this.orgDataService.sessionId = this.frmService.getSession(funcid);\r\n      }\r\n    });\r\n\r\n    this.viewmodel.bindingData.changes.subscribe((changes: Change) => {\r\n      console.log(\"changetype =\" + changes.type);\r\n      if(changes.type === ChangeType.SelectionChanged)\r\n         return;\r\n      this.data = this.viewmodel.bindingData.list.toJSON();\r\n    });\r\n\r\n    this.viewmodel.form.valueChanges.subscribe(\r\n      (changes:Change ) =>{\r\n        console.log(\"changetype =\" + changes.type);  \r\n        this.data = this.viewmodel.bindingData.list.toJSON();\r\n        console.log(JSON.stringify(this.data));\r\n    })\r\n\r\n    this.viewmodel.formLoad();\r\n  }\r\n\r\n  handleSelection({dataItem}: any): void {\r\n    this.viewmodel.bindingData.list.setCurrentId(dataItem.Id);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/sys-organization/sys-organization.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SysOrganizationComponent } from './sys-organization.component';\r\nimport { SysOrganizationRoutingModule } from './sys-organization-routing.module';\r\nimport { RestfulService, CommandModule } from '@farris/devkit';\r\nimport { DOMAIN_PROVIDERS } from '../sys-organization/domain/index';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { APP_PROVIDERS, commandHandler } from '../sys-organization/app/index';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nvar SysOrganizationModule = /** @class */ (function () {\r\n    function SysOrganizationModule() {\r\n    }\r\n    SysOrganizationModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                CommonModule,\r\n                TreeViewModule,\r\n                LayoutModule,\r\n                SysOrganizationRoutingModule,\r\n                CommandModule.setup(commandHandler, []),\r\n                //FormsModule,\r\n                ReactiveFormsModule\r\n            ],\r\n            providers: [\r\n                RestfulService,\r\n                DOMAIN_PROVIDERS,\r\n                APP_PROVIDERS\r\n            ],\r\n            declarations: [SysOrganizationComponent]\r\n        })\r\n    ], SysOrganizationModule);\r\n    return SysOrganizationModule;\r\n}());\r\nexport { SysOrganizationModule };\r\n//# sourceMappingURL=sys-organization.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/sys-organization/sys-organization.module.js\n// module id = ./src/app/modules/sys-organization/sys-organization.module.js\n// module chunks = sys-organization.module"],"sourceRoot":"webpack:///"}