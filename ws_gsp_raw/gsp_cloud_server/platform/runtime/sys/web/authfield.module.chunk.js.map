{"version":3,"sources":["./src/app/modules/authfield/app/authfield-bindingdata.ts","./src/app/modules/authfield/app/authfield-form.ts","./src/app/modules/authfield/app/authfield-statemachine.ts","./src/app/modules/authfield/app/authfield-uistate.ts","./src/app/modules/authfield/app/authfield-viewmodel.ts","./src/app/modules/authfield/app/handler/add-child.handler.ts","./src/app/modules/authfield/app/handler/add-item.handler.ts","./src/app/modules/authfield/app/handler/add.handler.ts","./src/app/modules/authfield/app/handler/form-load.handler.ts","./src/app/modules/authfield/app/handler/index.ts","./src/app/modules/authfield/app/handler/remove.handler.ts","./src/app/modules/authfield/app/handler/save.handler.ts","./src/app/modules/authfield/app/index.ts","./src/app/modules/authfield/authfield.component.css","./src/app/modules/authfield/authfield.component.html","./src/app/modules/authfield/authfield.component.ts","./src/app/modules/authfield/authfield.module.js","./src/app/modules/authfield/authfield.routing.module.ts","./src/app/modules/authfield/domain/authfield-datastorage.ts","./src/app/modules/authfield/domain/authfield-repository.ts","./src/app/modules/authfield/domain/authfield.service.ts","./src/app/modules/authfield/domain/entities/authfield-datafetcher.entity.ts","./src/app/modules/authfield/domain/entities/authfield.entity.ts","./src/app/modules/authfield/domain/index.ts","./src/app/modules/authfield/help/key-help/key-help.component.css","./src/app/modules/authfield/help/key-help/key-help.component.html","./src/app/modules/authfield/help/key-help/key-help.component.ts","./src/app/modules/authfield/help/list-help/list-help.component.css","./src/app/modules/authfield/help/list-help/list-help.component.html","./src/app/modules/authfield/help/list-help/list-help.component.ts","./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.css","./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.html","./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.ts","./src/app/modules/common/entity/result-package.ts","./src/app/modules/common/index.ts","./src/app/modules/common/util/sys-manager-util.ts"],"names":[],"mappings":"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","file":"authfield.module.chunk.js","sourcesContent":["import { Injectable, Injector } from '@angular/core';\nimport { NgBindingData, BindingData } from '@farris/devkit';\nimport { AuthFieldEntity, AuthFieldRepository } from '../domain';\n\n\n@Injectable()\n@NgBindingData({\n  entity:     AuthFieldEntity,\n  repository: AuthFieldRepository\n})\nclass AuthFieldBindingdata extends BindingData {\n  constructor(injector: Injector) {\n    super(injector);\n  }\n}\n\nexport { AuthFieldBindingdata };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/authfield-bindingdata.ts","import { Injectable, Injector } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { NgForm, Form, NgFormControl, NgChildForm, NgChildFormArray } from '@farris/devkit';\nimport { AuthFieldBindingdata } from './authfield-bindingdata';\n\n\n\n@Injectable()\n@NgForm({\n  bindingData: AuthFieldBindingdata\n})\nclass AuthFieldForm extends Form {\n\n  constructor(injector: Injector) {\n    super(injector);\n  }\n\n  /**\n   * id\n   */\n  @NgFormControl({\n    name: 'id',\n    binding: 'id'\n  })\n  id: FormControl;\n\n  /**\n   * code\n   */\n  @NgFormControl({\n    name: 'code',\n    binding: 'code'\n  })\n  code: FormControl;\n\n  /**\n   * 权限全称\n   */\n  @NgFormControl({\n    name: 'name',\n    binding: 'name'\n  })\n  name: FormControl;\n\n  /**\n * 数据源\n */\n  @NgFormControl({\n    name: 'dataSourceId',\n    binding: 'dataSourceId'\n  })\n  dataSourceId: FormControl;\n\n  /**\n * 数据源\n */\n  @NgFormControl({\n    name: 'dataSource',\n    binding: 'dataFetcher.dataSource'\n  })\n  dataSource: FormControl;\n\n  /**\n * 取数列\n */\n  @NgFormControl({\n    name: 'datakey',\n    binding: 'dataFetcher.key'\n  })\n  datakey: FormControl;\n\n\n  @NgFormControl({\n    name: 'dataFetcher',\n    binding: 'dataFetcher'\n  })\n  dataFetcher: FormControl;\n\n\n  /**\n * 展示列\n */\n  @NgFormControl({\n    name: 'listElements',\n    binding: 'dataFetcher.listElements'\n  })\n  listElements: FormControl;\n\n}\n\n\nexport { AuthFieldForm };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/authfield-form.ts","import { Injectable } from '@angular/core';\nimport { StateMachine, NgStatemachine, State, NgState, RenderState,  NgRenderState, Action, NgAction } from '@farris/devkit';\n\n@Injectable()\n@NgStatemachine()\nclass AuthFieldStatemachine extends StateMachine {\n\n  /**\n   * --------------------------------------------------------------------------------\n   * 基本状态定义\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * 查看状态\n   */\n  @NgState({ initialState: true })\n  viewState: State;\n\n  /**\n   * 新增状态\n   */\n  @NgState()\n  addState: State;\n\n  /**\n   * 编辑状态\n   */\n  @NgState()\n  editState: State;\n\n\n  /**\n   * --------------------------------------------------------------------------------\n   * 渲染状态定义\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * 新增按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canAdd: RenderState;\n\n  /**\n   * 编辑按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canEdit: RenderState;\n\n\n  /**\n   * 取消按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'addState' || context.state === 'editState'\n  })\n  canCancel: RenderState;\n\n\n  /**\n   * 删除\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canDelete: RenderState;\n\n  /**\n   * 保存按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'addState' || context.state === 'editState'\n  })\n  canSave: RenderState;\n\n  /**\n   * 上一条、下一条是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canSwitch: RenderState;\n\n  /**\n   * 输入控件是否允许输入\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'addState' || context.state === 'editState'\n  })\n  canInput: RenderState;\n\n\n  /**\n   * --------------------------------------------------------------------------------\n   * 迁移动作定义\n   * --------------------------------------------------------------------------------\n   */\n  @NgAction({transitTo: 'addState' })\n  add: Action;\n\n  @NgAction({ transitTo: 'editState' })\n  edit: Action;\n\n  @NgAction({ transitTo: 'viewState' })\n  view: Action;\n}\n\nexport { AuthFieldStatemachine };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/authfield-statemachine.ts","class AuthFieldUistate {\n\n    //上个状态\n    action: string;\n    /** 设置帮助的状态值*/\n    posRoleHelpFlag = false;\n    /**当前界面上内码 */\n    curPosIdList: string[] = [];\n\n    /** 设置帮助的状态值*/\n    keyRoleHelpFlag = false;\n    /**当前界面上内码 */\n    curKeyIdList: string[] = [];\n\n    /** 设置帮助的状态值*/\n    mulkeyRoleHelpFlag = false;\n    /**当前界面上内码 */\n    curMulkeyIdList: string[] = [];\n\n    //展示列\n    list: any[];\n\n    //是否可编辑\n    isedit = '';\n}\nexport { AuthFieldUistate };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/authfield-uistate.ts","import { Injector, Injectable } from '@angular/core';\nimport { NgViewModel, ViewModel, NgCommand } from '@farris/devkit';\nimport { AuthFieldUistate } from './authfield-uistate';\nimport { AuthFieldBindingdata } from './authfield-bindingdata';\nimport { AuthFieldForm } from './authfield-form';\nimport { AuthFieldStatemachine } from './authfield-statemachine';\n\n\n\n/**\n * 视图模型\n */\n@Injectable()\n@NgViewModel({\n  children: [],\n  binding: AuthFieldBindingdata,\n  form: AuthFieldForm,\n  stateMachine: AuthFieldStatemachine,\n})\nclass AuthFieldViewmodel extends ViewModel {\n\n  public uiState: AuthFieldUistate;\n  public form: AuthFieldForm;\n  /**\n   * 构造函数\n   */\n  constructor(injector: Injector) {\n    super(injector);\n    this.uiState = this.injector.get(AuthFieldUistate);\n  }\n\n  /**\n   * 表单加载\n   */\n  @NgCommand({\n    name: 'formLoad'\n  })\n  public formLoad() { }\n\n  /**\n   * 新增子级\n   */\n  @NgCommand({\n    name: 'addchild'\n  })\n  public addchild() { }\n\n  /**\n  * 新行权限\n  */\n  @NgCommand({\n    name: 'add'\n  })\n  public add() { }\n\n  /**\n   * 新增平级\n   */\n  @NgCommand({\n    name: 'additem'\n  })\n  public additem() { }\n\n  /**\n   * 编辑\n   */\n  @NgCommand({\n    name: 'edit'\n  })\n  public edit() { }\n\n\n  /**\n   * 删除\n   */\n  @NgCommand({\n    name: 'remove'\n  })\n  public remove() { }\n\n  /**\n   * 保存\n   */\n  @NgCommand({\n    name: 'save'\n  })\n  public save() { }\n\n  /**\n   * 取消\n   */\n  @NgCommand({\n    name: 'cancel'\n  })\n  public cancel() { }\n\n\n}\n\nexport { AuthFieldViewmodel };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/authfield-viewmodel.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext, EntityFactory } from '@farris/devkit';\r\n\r\nimport { AuthFieldUistate } from '../authfield-uistate';\r\nimport { AuthFieldRepository, AuthFieldService, AuthFieldEntity } from '../../domain';\r\nimport { SysManagerUtil } from '../../../common';\r\nimport { AuthFieldStatemachine } from '../authfield-statemachine';\r\nimport { AuthFieldBindingdata } from '../authfield-bindingdata';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'addchild'\r\n})\r\nclass AddChildHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuthFieldService,\r\n    private uiState: AuthFieldUistate,\r\n    private stateMachine: AuthFieldStatemachine,\r\n    private repository: AuthFieldRepository,\r\n    private bindingData: AuthFieldBindingdata,\r\n    private sessionmanager: SysManagerUtil\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('addchild', () => {\r\n\r\n      this.uiState.action = 'add';\r\n      let item = this.bindingData.list.currentItem;\r\n      if (item['isDetail'] === true) {\r\n        alert('行权限不允许添加分组！');\r\n        return;\r\n      }\r\n\r\n      else {\r\n        let data = {\r\n          farrisid: this.sessionmanager.getGuid36(),\r\n          id: '',\r\n          name: '',\r\n          code: '',\r\n          isDetail: false,\r\n          parentId: item['id'],\r\n          path: '',\r\n          dataSourceId: '',\r\n          dataFetcher: {\r\n            key: '',\r\n            dataSource: ''\r\n          },\r\n          aoFetcherType: 0,\r\n          type: 0\r\n        };\r\n        const newEntity = EntityFactory<AuthFieldEntity>(AuthFieldEntity, data);\r\n        this.repository.addEntity(newEntity);\r\n        this.uiState.isedit = '';\r\n      }\r\n    });\r\n\r\n    // 状态迁移\r\n    // this.addTask('transitState', () => {\r\n    //   this.stateMachine['add']();\r\n    // });\r\n  }\r\n}\r\n\r\nexport { AddChildHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/add-child.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext, EntityFactory } from '@farris/devkit';\r\n\r\nimport { AuthFieldBindingdata } from '../authfield-bindingdata';\r\nimport { AuthFieldService, AuthFieldRepository, AuthFieldEntity } from '../../domain';\r\nimport { SysManagerUtil } from '../../../common';\r\nimport { AuthFieldUistate } from '../authfield-uistate';\r\nimport { AuthFieldStatemachine } from '../authfield-statemachine';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'additem'\r\n})\r\nclass AddItemHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuthFieldService,\r\n    private uiState: AuthFieldUistate,\r\n    private stateMachine: AuthFieldStatemachine,\r\n    private repository: AuthFieldRepository,\r\n    private bindingData: AuthFieldBindingdata,\r\n    private sessionmanager: SysManagerUtil\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('additem', () => {\r\n      this.uiState.action = 'add';\r\n      let item = this.bindingData.list.currentItem;\r\n      let data = {\r\n        id: this.sessionmanager.getGuid36(),\r\n        code: '',\r\n        name: '',\r\n        isDetail: false,\r\n        parentId: '',\r\n        path: ''\r\n      };\r\n      const newEntity = EntityFactory<AuthFieldEntity>(AuthFieldEntity, data);\r\n      this.repository.addEntity(newEntity);\r\n    });\r\n\r\n    // 状态迁移\r\n    // this.addTask('transitState', () => {\r\n    //   this.stateMachine['add']();\r\n    // });\r\n  }\r\n}\r\n\r\nexport { AddItemHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/add-item.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext, EntityFactory } from '@farris/devkit';\r\nimport { AuthFieldUistate } from '../authfield-uistate';\r\nimport { AuthFieldService } from '../../domain/authfield.service';\r\nimport { SysManagerUtil } from '../../../common/util/sys-manager-util';\r\nimport { AuthFieldRepository } from '../../domain/authfield-repository';\r\nimport { AuthFieldEntity } from '../../domain/entities/authfield.entity';\r\nimport { AuthFieldStatemachine } from '../authfield-statemachine';\r\nimport { AuthFieldBindingdata } from '../authfield-bindingdata';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'add'\r\n})\r\nclass AddHandler extends CommandHandler {\r\n\r\n    constructor(\r\n        private dataService: AuthFieldService,\r\n        private uiState: AuthFieldUistate,\r\n        private stateMachine: AuthFieldStatemachine,\r\n        private repository: AuthFieldRepository,\r\n        private bindingData: AuthFieldBindingdata,\r\n        private sessionmanager: SysManagerUtil\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    schedule() {\r\n\r\n        // 数据加载\r\n        this.addTask('add', () => {\r\n            \r\n            this.uiState.action = 'add';\r\n            let item = this.bindingData.list.currentItem;\r\n            let data = {};\r\n            if (item['isDetail'] === true) {\r\n                data = {\r\n                    farrisid: this.sessionmanager.getGuid36(),\r\n                    id: '',\r\n                    name: '',\r\n                    code: '',\r\n                    isDetail: true,\r\n                    parentId: item['parentId'],\r\n                    path: '',\r\n                    dataSourceId: '',\r\n                    dataFetcher: {\r\n                        key: '',\r\n                        dataSource: '',\r\n                        listElements: [],\r\n                    },\r\n                    aoFetcherType: 1,\r\n                    type: 1\r\n                };\r\n            }\r\n            else {\r\n                data = {\r\n                    farrisid: this.sessionmanager.getGuid36(),\r\n                    id: '',\r\n                    name: '',\r\n                    code: '',\r\n                    isDetail: true,\r\n                    parentId: item['id'],\r\n                    path: '',\r\n                    dataSourceId: '',\r\n                    dataFetcher: {\r\n                        key: '',\r\n                        dataSource: '',\r\n                        listElements: [],\r\n                    },\r\n                    aoFetcherType: 1,\r\n                    type: 1\r\n                };\r\n            }\r\n\r\n            const newEntity = EntityFactory<AuthFieldEntity>(AuthFieldEntity, data);\r\n            this.repository.addEntity(newEntity);\r\n            document.getElementById('page2').style.display = '';\r\n            this.uiState.isedit = '';\r\n        });\r\n\r\n        // 状态迁移\r\n        // this.addTask('transitState', () => {\r\n        //     this.stateMachine['add']();\r\n        // });\r\n    }\r\n}\r\n\r\nexport { AddHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/add.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuthFieldService } from '../../domain/authfield.service';\r\nimport { AuthFieldUistate } from '../authfield-uistate';\r\nimport { AuthFieldStatemachine } from '../authfield-statemachine';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'formLoad'\r\n})\r\nclass FormLoadHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuthFieldService,\r\n    private uiState: AuthFieldUistate,\r\n    private stateMachine: AuthFieldStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('loadData', () => {\r\n        this.uiState.action ='edit';\r\n        this.dataService.getdata();\r\n      \r\n    });\r\n\r\n    // 状态迁移\r\n    // this.addTask('transitState', () => {\r\n    //   this.stateMachine['edit']();\r\n    // });\r\n  }\r\n}\r\n\r\nexport { FormLoadHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/form-load.handler.ts","import { FormLoadHandler } from \"./form-load.handler\";\r\nimport { RemoveHandler } from \"./remove.handler\";\r\nimport { SaveHandler } from \"./save.handler\";\r\nimport { AddItemHandler } from \"./add-item.handler\";\r\nimport { AddChildHandler } from \"./add-child.handler\";\r\nimport { AddHandler } from \"./add.handler\";\r\n\r\n\r\n\r\nconst commandHandlers = [\r\n  FormLoadHandler,\r\n  RemoveHandler,\r\n  SaveHandler,\r\n  AddItemHandler,\r\n  AddChildHandler,\r\n  AddHandler\r\n];\r\n\r\nexport { commandHandlers };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/index.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuthFieldService, AuthFieldRepository } from '../../domain';\r\nimport { AuthFieldBindingdata } from '../authfield-bindingdata';\r\nimport { AuthFieldStatemachine } from '../authfield-statemachine';\r\nimport { AuthFieldUistate } from '../authfield-uistate';\r\n\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'remove'\r\n})\r\nclass RemoveHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuthFieldService,\r\n    private repository: AuthFieldRepository,\r\n    private bindingData: AuthFieldBindingdata,\r\n    private stateMachine: AuthFieldStatemachine,\r\n    private uiState: AuthFieldUistate,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('remove', () => {\r\n\r\n      const fid = this.bindingData['id'];\r\n      this.dataService.remove(fid);\r\n      this.uiState.action = 'edit';\r\n    });\r\n\r\n    // 状态迁移\r\n    // this.addTask('transitState', () => {\r\n    //   this.stateMachine['view']();\r\n    // });\r\n  }\r\n}\r\n\r\nexport { RemoveHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/remove.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuthFieldService } from '../../domain/authfield.service';\r\nimport { AuthFieldBindingdata } from '../authfield-bindingdata';\r\nimport { AuthFieldUistate } from '../authfield-uistate';\r\nimport { AuthFieldStatemachine } from '../authfield-statemachine';\r\nimport { AuthFieldRepository } from '../../domain/authfield-repository';\r\n\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'save'\r\n})\r\nclass SaveHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuthFieldService,\r\n    private repository: AuthFieldRepository,\r\n    private bindingData: AuthFieldBindingdata,\r\n    private uiState: AuthFieldUistate,\r\n    private stateMachine: AuthFieldStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('save', () => {\r\n      let item = this.bindingData.list.currentItem;\r\n      this.dataService.save(item);\r\n      this.uiState.isedit = 'true';\r\n    });\r\n\r\n    // 状态迁移\r\n    // this.addTask('transitState', () => {\r\n    //   this.stateMachine['view']();\r\n    // });\r\n  }\r\n}\r\n\r\nexport { SaveHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/handler/save.handler.ts","import { Provider } from '@angular/core';\r\nimport { AuthFieldBindingdata } from './authfield-bindingdata';\r\nimport { AuthFieldForm } from './authfield-form';\r\nimport { AuthFieldStatemachine } from './authfield-statemachine';\r\nimport { AuthFieldViewmodel } from './authfield-viewmodel';\r\nimport { AuthFieldUistate } from './authfield-uistate';\r\nimport { commandHandlers } from './handler';\r\n\r\n\r\n\r\n\r\nconst APP_PROVIDERS: Provider[] = [\r\n    AuthFieldBindingdata,\r\n    AuthFieldForm,\r\n    AuthFieldStatemachine,\r\n    AuthFieldViewmodel,\r\n    AuthFieldUistate\r\n];\r\n\r\nexport {\r\n    AuthFieldBindingdata,\r\n    AuthFieldForm,\r\n    AuthFieldStatemachine,\r\n    AuthFieldViewmodel,\r\n    AuthFieldUistate,\r\n\r\n    APP_PROVIDERS,\r\n    commandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/app/index.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/authfield.component.css\n// module id = ./src/app/modules/authfield/authfield.component.css\n// module chunks = authfield.module","module.exports = \"<div class=\\\"d-flex g-main\\\" style=\\\" overflow-y:auto; overflow-x:auto;width:100%; height:100%;\\\">\\n    <div class=\\\"col\\\">\\n        <div class=\\\"d-flex flex-row  g-main px-2\\\" style=\\\"overflow:auto;\\\">\\n            <div class=\\\"col\\\">\\n                <div class=\\\"d-flex flex-column g-main\\\">\\n                    <div class=\\\"pt-2 mb-2\\\">\\n                        <div class=\\\"row pt-2 mb-2\\\">\\n                            <div class=\\\"col-sm-12 col-md-3 pt-2\\\">\\n                                <h1 class=\\\"h4 d-inline-block\\\">权限字段维护</h1>\\n                                <div class=\\\"card\\\">\\n                                    <div class=\\\"col-xs-12 col-sm-12 col-md-3 col-lg-3 \\\">\\n                                        <kendo-treeview style=\\\"width:200px\\\" [nodes]=\\\"data\\\" textField=\\\"name\\\" kendoTreeViewExpandable kendoTreeViewFlatDataBinding\\n                                            idField=\\\"id\\\" parentIdField=\\\"parentId\\\" (selectionChange)=\\\"handleSelection($event)\\\">\\n                                        </kendo-treeview>\\n                                    </div>\\n                                </div>\\n                            </div>\\n\\n\\n                            <div class=\\\"col-sm-12 col-md-9\\\">\\n                                <div class=\\\"pr-2 text-right\\\">\\n                                    <!-- <button type=\\\"button\\\" (click)=\\\"viewmodel.additem()\\\" class=\\\"btn btn-sm btn-default\\\">新增分组 </button> -->\\n                                    <button type=\\\"button\\\" (click)=\\\"viewmodel.addchild()\\\" class=\\\"btn btn-sm btn-default\\\">新增子分组 </button>\\n                                    <button type=\\\"button\\\" (click)=\\\"viewmodel.add()\\\" class=\\\"btn btn-sm btn-default\\\">新增行权限 </button>\\n                                    <button type=\\\"button\\\" (click)=\\\"viewmodel.remove()\\\" class=\\\"btn btn-sm btn-default\\\">删除 </button>\\n                                    <button type=\\\"button\\\" (click)=\\\"viewmodel.save()\\\" class=\\\"btn btn-sm btn-default\\\">保存</button>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n\\n                    <div style=\\\"position:absolute;margin-left:330px;margin-top:55px;\\\">\\n                        <kendo-tabstrip>\\n                            <kendo-tabstrip-tab [title]=\\\"'基本信息'\\\" [selected]=\\\"true\\\">\\n                                <ng-template kendoTabContent>\\n                                    <form class=\\\"k-form p-2\\\" [formGroup]=\\\"viewmodel.form\\\">\\n                                        <div class=\\\"row\\\" style=\\\"width:950px\\\">\\n                                            <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\n                                                <label class=\\\"k-form-field\\\">\\n                                                    <span>权限标识* </span>\\n                                                    <div class=\\\"d-flex\\\">\\n                                                        <input formControlName=\\\"id\\\" class=\\\"k-textbox w-100\\\" [readonly]=\\\"this.viewmodel.uiState.isedit\\\" />\\n                                                    </div>\\n                                                </label>\\n                                                <label class=\\\"k-form-field\\\">\\n                                                    <span>权限名称* </span>\\n                                                    <div class=\\\"d-flex\\\">\\n                                                        <input formControlName=\\\"name\\\" class=\\\"k-textbox w-100\\\" />\\n                                                    </div>\\n                                                </label>\\n                                            </div>\\n                                            <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\n                                                <label class=\\\"k-form-field\\\">\\n                                                    <span>权限编号* </span>\\n                                                    <div class=\\\"d-flex\\\">\\n                                                        <input formControlName=\\\"code\\\" class=\\\"k-textbox w-100\\\" />\\n                                                    </div>\\n                                                </label>\\n                                            </div>\\n                                        </div>\\n                                    </form>\\n                                </ng-template>\\n                            </kendo-tabstrip-tab>\\n                        </kendo-tabstrip>\\n\\n                        <ng-container>\\n                            <kendo-tabstrip id=\\\"page2\\\">\\n                                <kendo-tabstrip-tab [title]=\\\"'取数定义'\\\" [selected]=\\\"true\\\">\\n                                    <ng-template kendoTabContent>\\n                                        <form class=\\\"k-form p-2\\\" [formGroup]=\\\"viewmodel.form\\\">\\n                                            <label class=\\\"k-form-field\\\">\\n                                                <span style=\\\"margin-left:10px\\\">数据源</span>\\n                                                <div class=\\\"d-flex\\\">\\n                                                    <input formControlName=\\\"dataSourceId\\\" class=\\\"k-textbox\\\" style=\\\"width:430px;margin-left:10px\\\" placeholder=\\\"请选择数据源\\\" disabled=\\\"disabled\\\">\\n                                                    <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"setdata()\\\">\\n                                                        <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 20px;\\\">filter_none</i>\\n                                                    </button>\\n                                                </div>\\n                                            </label>\\n                                            <label class=\\\"k-form-field\\\">\\n                                                <span style=\\\"margin-left:10px\\\">取数列</span>\\n                                                <div class=\\\"d-flex\\\">\\n                                                    <input formControlName=\\\"datakey\\\" class=\\\"k-textbox\\\" style=\\\"width:430px;margin-left:10px\\\" placeholder=\\\"请选择取数列\\\" disabled=\\\"disabled\\\">\\n                                                    <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"setkey()\\\">\\n                                                        <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 20px;\\\">filter_none</i>\\n                                                    </button>\\n                                                </div>\\n                                            </label>\\n                                        </form>\\n                                        <div class=\\\"container-fluid\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-12\\\">\\n                                                    <div class=\\\"mt-1\\\">\\n                                                        <button type=\\\"button\\\" [disabled]=\\\"false\\\" class=\\\"btn btn-sm btn-default\\\" (click)=\\\"setmulkey()\\\">添加展示列</button>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row mt-2\\\">\\n                                                <div class=\\\"col-12\\\">\\n                                                    <kendo-grid [class]=\\\"'flex-auto'\\\" [kendoGridSelectBy]=\\\"'id'\\\" [selectable]=\\\"this.selectableSettings\\\" [kendoGridBinding]=\\\"this.viewmodel.uiState.list\\\">>\\n                                                        <kendo-grid-column field=\\\"name\\\" title=\\\"列名\\\" width=\\\"40%\\\"></kendo-grid-column>\\n                                                        <kendo-grid-column field=\\\"description\\\" title=\\\"列描述\\\" width=\\\"60%\\\"></kendo-grid-column>\\n                                                    </kendo-grid>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n\\n                                        <!-- 帮助 -->\\n                                        <app-list-help [title]=\\\"'数据源帮助'\\\" [initSelectedKeys]=\\\"this.viewmodel.uiState.curPosIdList\\\" [isShow]=\\\"this.viewmodel.uiState.posRoleHelpFlag\\\"\\n                                            (selectedAfterOk)=\\\"afterPosSelected($event)\\\"></app-list-help>\\n                                        <app-key-help [title]=\\\"'取数列帮助'\\\" [initSelectedKeys]=\\\"this.viewmodel.uiState.curKeyIdList\\\" [isShow]=\\\"this.viewmodel.uiState.keyRoleHelpFlag\\\"\\n                                            (selectedAfterOk)=\\\"afterKeySelected($event)\\\"></app-key-help>\\n                                        <app-mulkey-help [title]=\\\"'展示列帮助'\\\" [initSelectedKeys]=\\\"this.viewmodel.uiState.curMulkeyIdList\\\" [isShow]=\\\"this.viewmodel.uiState.mulkeyRoleHelpFlag\\\"\\n                                            (selectedAfterOk)=\\\"afterMulkeySelected($event)\\\"></app-mulkey-help>\\n                                    </ng-template>\\n                                </kendo-tabstrip-tab>\\n                            </kendo-tabstrip>\\n                        </ng-container>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/authfield.component.html\n// module id = ./src/app/modules/authfield/authfield.component.html\n// module chunks = authfield.module","import { Component, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { SelectableSettings } from '@progress/kendo-angular-treeview';\r\nimport { Change, ChangeType } from '@farris/devkit';\r\nimport { AuthFieldViewmodel, AuthFieldUistate } from './app';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { SysManagerUtil } from '../common';\r\nimport { AuthFieldRepository } from './domain/authfield-repository';\r\nimport { AuthFieldEntity, AuthFieldService } from './domain';\r\nimport { DataFetcherEntity } from './domain/entities/authfield-datafetcher.entity';\r\n\r\n\r\n@Component({\r\n    selector: 'app-authfield',\r\n    templateUrl: './authfield.component.html',\r\n    styleUrls: ['./authfield.component.css']\r\n})\r\nexport class AuthFieldComponent implements OnInit {\r\n\r\n    public data: any[];\r\n    currentid: string;\r\n    itemid: string;\r\n    listelement: any[];\r\n    public isedit: any;\r\n\r\n    public fetchChildren(node: any): Observable<any[]> {\r\n        return of(node.items);\r\n    }\r\n\r\n    public hasChildren(node: any): boolean {\r\n        return node.items && node.items.length > 0;\r\n    }\r\n\r\n    constructor(\r\n        private viewmodel: AuthFieldViewmodel,\r\n        private route: ActivatedRoute,\r\n        private currentSession: SysManagerUtil,\r\n        private frmService: FrameworkService,\r\n        private uiState: AuthFieldUistate,\r\n        private repos: AuthFieldRepository,\r\n        private authFieldService: AuthFieldService\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.route.paramMap.subscribe((params: Params) => {\r\n            if (params.has('funcid')) {\r\n                this.currentSession.funcId = params.get('funcid');\r\n                console.log('sessionId:' + this.currentSession.getSessionId());\r\n            }\r\n        });\r\n\r\n        this.viewmodel.formLoad();\r\n        this.viewmodel.bindingData.changes.subscribe((changes: Change) => {\r\n            console.log(\"changetype =\" + changes.type);\r\n            if (changes.type === ChangeType.SelectionChanged)\r\n                return;\r\n            if (changes.type === ChangeType.ValueChanged)\r\n                return;\r\n            var a = changes;\r\n            this.data = this.viewmodel.bindingData.list.toJSON();\r\n            console.log(JSON.stringify(this.data));\r\n            // 根节点隐藏\r\n            document.getElementById('page2').style.display = 'none';\r\n            if (changes.type === ChangeType.Load || changes.type === ChangeType.Remove)\r\n                this.uiState.isedit = 'true';\r\n            if (changes.type === ChangeType.Append)\r\n                this.uiState.isedit = '';\r\n        });\r\n    }\r\n\r\n    //切换其他分组\r\n    handleSelection({ dataItem }: any): void {\r\n        let config = dataItem.FInvokingConfig;\r\n        console.log(config);\r\n        this.viewmodel.bindingData.list.setCurrentId(dataItem.id);\r\n        this.currentid = dataItem.id;\r\n        this.itemid = this.repos.getEntityById(this.currentid).dataSourceId;\r\n        this.viewmodel.bindingData.list.setCurrentId(dataItem.id);\r\n        //帮助获取数据源\r\n        this.viewmodel.uiState.curPosIdList = [];\r\n        this.viewmodel.uiState.curPosIdList.push(this.itemid);\r\n        //帮助获取取数列\r\n        this.viewmodel.uiState.curKeyIdList = [];\r\n        this.authFieldService.getKeyDatabaseObject(this.itemid)\r\n            .subscribe(result => {\r\n                for (let i = 0; i < result.columns.length; i++) {\r\n                    if (result.columns[i].name == this.repos.getEntityById(this.currentid).dataFetcher.key)\r\n                        this.viewmodel.uiState.curKeyIdList.push(result.columns[i].id);\r\n                }\r\n\r\n            });\r\n\r\n        //获取展示列\r\n        this.viewmodel.uiState.curMulkeyIdList = [];\r\n        this.listelement = this.repos.getEntityById(this.currentid).dataFetcher.listElements;\r\n        let k = 0;\r\n        this.authFieldService.getKeyDatabaseObject(this.itemid).subscribe(result => {\r\n            for (let i = 0; i < this.listelement.length; i++) {\r\n                for (let j = 0; j < result.columns.length; j++) {\r\n                    if (result.columns[j].name == this.listelement[i]) {\r\n                        this.listelement[k] = result.columns[j];\r\n                        this.viewmodel.uiState.curMulkeyIdList.push(result.columns[j].id);\r\n                        ++k;\r\n                    }\r\n                }\r\n            }\r\n            return this.listelement;\r\n        });\r\n        this.uiState.list = this.listelement;\r\n        if (dataItem.isDetail === false) {\r\n            // 根节点隐藏\r\n            document.getElementById('page2').style.display = 'none';\r\n        }\r\n        else {\r\n            // 子节点显示\r\n            document.getElementById('page2').style.display = '';\r\n        }\r\n        this.uiState.isedit = 'true';\r\n    }\r\n\r\n    setdata() {\r\n        this.uiState.posRoleHelpFlag = !this.uiState.posRoleHelpFlag;\r\n    }\r\n\r\n    setkey() {\r\n        this.uiState.keyRoleHelpFlag = !this.uiState.keyRoleHelpFlag;\r\n    }\r\n\r\n    setmulkey() {\r\n        this.uiState.mulkeyRoleHelpFlag = !this.uiState.mulkeyRoleHelpFlag;\r\n    }\r\n\r\n    //数据源\r\n    afterPosSelected(args: any[]) {\r\n        // 更新值\r\n        this.uiState.curPosIdList = [];\r\n        this.uiState.curKeyIdList = [];\r\n        this.uiState.curMulkeyIdList = [];\r\n        Observable.from(args).subscribe(\r\n            item => {\r\n                if (item['id'] == this.itemid) {\r\n                    return;\r\n                }\r\n                this.viewmodel.uiState.curPosIdList.push(item['id']);\r\n                if (this.uiState.action === 'edit') {\r\n                    this.repos.getEntityById(this.currentid).dataSourceId\r\n                        = this.repos.getEntityById(this.currentid).dataFetcher.dataSource\r\n                        = item['id'];\r\n                }\r\n                if (this.uiState.action === 'add') {\r\n                    this.viewmodel.form.dataSourceId.setValue(item['id']);\r\n                    this.viewmodel.form.dataSource.setValue(item['id']);\r\n                }\r\n\r\n                this.itemid = item['id'];\r\n                this.repos.getEntityById(this.currentid).dataFetcher.key = '';\r\n                this.uiState.list = [];\r\n            }\r\n        );\r\n    }\r\n\r\n    //取数列\r\n    afterKeySelected(args: any) {\r\n        this.viewmodel.uiState.curKeyIdList = [];\r\n        // 更新值\r\n        if (this.uiState.action === 'edit') {\r\n            let dataitem = this.repos.getEntityById(this.currentid);\r\n            Observable.from(args).subscribe(\r\n                item => {\r\n                    dataitem.dataFetcher.key = item['name'];\r\n                    this.viewmodel.uiState.curKeyIdList.push(item['id']);\r\n                }\r\n            );\r\n        }\r\n        if (this.uiState.action === 'add') {\r\n            Observable.from(args).subscribe(\r\n                item => {\r\n                    this.viewmodel.form.datakey.setValue(item['name']);\r\n                    this.viewmodel.uiState.curKeyIdList.push(item['id']);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    //展示列\r\n    afterMulkeySelected(args: any) {\r\n        this.viewmodel.uiState.curMulkeyIdList = [];\r\n        this.repos.getEntityById(this.currentid).dataFetcher.listElements = [];\r\n        this.uiState.list = args;\r\n\r\n        for (let i = 0; i < args.length; i++) {\r\n            this.repos.getEntityById(this.currentid).dataFetcher.listElements[i]\r\n                = args[i].name;\r\n            this.viewmodel.uiState.curMulkeyIdList.push(args[i].id);\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/authfield.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { DateInputsModule } from '@progress/kendo-angular-dateinputs';\r\nimport { CommandModule, RestfulService } from '@farris/devkit';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DOMAIN_PROVIDERS } from './domain/index';\r\nimport { APP_PROVIDERS, commandHandlers } from './app/index';\r\nimport { AuthFieldService } from './domain/authfield.service';\r\nimport { AuthFieldComponent } from './authfield.component';\r\nimport { AuthFieldRoutingModule } from './authfield.routing.module';\r\nimport { SysManagerUtil } from '../common';\r\nimport { ListHelpComponent } from './help/list-help/list-help.component';\r\nimport { KeyHelpComponent } from './help/key-help/key-help.component';\r\nimport { MulkeyHelpComponent } from './help/mulkey-help/mulkey-help.component';\r\nvar AuthFieldModule = /** @class */ (function () {\r\n    function AuthFieldModule() {\r\n    }\r\n    AuthFieldModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                CommonModule,\r\n                TreeViewModule,\r\n                CommandModule.setup(commandHandlers, []),\r\n                FormsModule,\r\n                LayoutModule,\r\n                GridModule,\r\n                DateInputsModule,\r\n                ReactiveFormsModule,\r\n                AuthFieldRoutingModule,\r\n            ],\r\n            declarations: [\r\n                AuthFieldComponent,\r\n                ListHelpComponent,\r\n                KeyHelpComponent,\r\n                MulkeyHelpComponent\r\n            ],\r\n            providers: [\r\n                AuthFieldService,\r\n                DOMAIN_PROVIDERS,\r\n                APP_PROVIDERS,\r\n                commandHandlers,\r\n                RestfulService,\r\n                SysManagerUtil\r\n            ]\r\n        })\r\n    ], AuthFieldModule);\r\n    return AuthFieldModule;\r\n}());\r\nexport { AuthFieldModule };\r\n//# sourceMappingURL=authfield.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/authfield.module.js\n// module id = ./src/app/modules/authfield/authfield.module.js\n// module chunks = authfield.module","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthFieldComponent } from './authfield.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: 'authfield', component: AuthFieldComponent },\r\n  { path: '', redirectTo: 'authfield', pathMatch: 'full' },\r\n  { path: '**', redirectTo: 'authfield' }\r\n];\r\n\r\nexport const AuthFieldRoutingModule = RouterModule.forChild(routes);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/authfield.routing.module.ts","import { Injectable, Injector } from '@angular/core';\nimport { MemoryStorage } from '@farris/devkit';\n\n@Injectable()\nclass AuthFieldDatastorage extends MemoryStorage {\n  constructor() {\n    super();\n  }\n}\nexport { AuthFieldDatastorage };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/domain/authfield-datastorage.ts","import { Injectable, Injector } from '@angular/core';\nimport { NgRepository, Repository } from '@farris/devkit';\nimport { AuthFieldDatastorage } from './authfield-datastorage';\nimport { AuthFieldEntity } from './entities/authfield.entity';\n\n\n@Injectable()\n@NgRepository({\n  from: AuthFieldDatastorage,\n  entityType: AuthFieldEntity\n})\nclass AuthFieldRepository extends Repository<AuthFieldEntity> {\n  constructor(injector: Injector) {\n    super(injector);\n  }\n}\n\nexport { AuthFieldRepository };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/domain/authfield-repository.ts","import { Injectable } from '@angular/core';\nimport { RestfulService } from '@farris/devkit';\nimport { HttpHeaders } from '@angular/common/http';\nimport { AuthFieldRepository } from './authfield-repository';\nimport { AuthFieldDatastorage } from './authfield-datastorage';\nimport { SysManagerUtil } from '../../common';\nimport { AuthFieldUistate } from '../app/authfield-uistate';\nimport { Observable } from 'rxjs/Observable';\nimport { DataFetcherEntity } from './entities/authfield-datafetcher.entity';\n\n@Injectable()\nexport class AuthFieldService {\n\n  constructor(\n    private reposity: AuthFieldRepository,\n    private datastorage: AuthFieldDatastorage,\n    private rest: RestfulService,\n    private sessionmanager: SysManagerUtil,\n    private uiState: AuthFieldUistate,\n  ) { }\n\n  private url = '/api/runtime/sys/v1.0/authFields';\n  private databaseurl = '/api/runtime/sys/v1.0/database-objects';\n  private sessionId: string;\n  private flag = 0;\n\n\n  getdata(): any {\n\n    this.rest.get(this.url, null, this.sessionmanager.getHeader()).subscribe((result: any) => {\n      console.log(result);\n      result.forEach(element => {\n        if (element.parentId === '') {\n          element.parentId = undefined;\n        }\n      });\n\n      result.forEach(function (value) {\n        value.farrisid = value.id;\n      });\n      this.datastorage.load(result);\n    });\n  }\n\n\n  /**\n   * 保存\n   */\n  save(item: any) {\n    if (!item.code || !item.name) {\n      alert('基本信息不能为空，请填写完整！');\n      return;\n    }\n\n    if (this.uiState.action === 'add') {\n      let elements = [];\n      for (let i = 0; i < this.uiState.list.length; i++) {\n        elements[i] = this.uiState.list[i].name;\n        item.dataFetcher.listElements.push(elements[i]);\n      }\n      this.rest.post(this.url, item, null, this.sessionmanager.getHeader()).subscribe(() => {\n        this.getdata();\n        alert('保存成功！');\n        this.uiState.action = 'edit';\n      });\n    }\n    if (this.uiState.action === 'edit') {\n      this.reposity.getEntityById(item.id).dataFetcher.listElements = [];\n      for (let i = 0; i < this.uiState.list.length; i++) {\n        this.reposity.getEntityById(item.id).dataFetcher.listElements[i]\n          = this.uiState.list[i].name;\n      }\n      let data = {\n        id: item.id,\n        name: item.name,\n        code: item.code,\n        isDetail: item.isDetail,\n        parentId: item.parentId,\n        path: item.path,\n        creator: \"admin\",\n        createdtime: \"2018-09-14 14:32:56.270271\",\n        dataSourceId: item.dataSourceId,\n        dataFetcher: this.reposity.getEntityById(item.id).dataFetcher.data,\n        aoFetcherType: item.aoFetcherType,\n        type: item.type\n      }\n\n      this.rest.put(this.url, data, null, this.sessionmanager.getHeader()).subscribe(() => {\n        this.getdata();\n        alert('保存成功！');\n        this.uiState.action = 'edit';\n      });\n    }\n    else\n      return;\n  };\n\n\n  /**\n   * 删除并重新加载\n   */\n  remove(id: string) {\n    this.rest.delete(this.url + '/' + id, null, this.sessionmanager.getHeader()).subscribe(() => {\n      this.getdata();\n      alert('删除成功');\n    });\n  }\n\n  getAllDatabaseObject(): Observable<any> {\n    return this.rest.get(this.databaseurl, null, this.sessionmanager.getHeader());\n  }\n\n  getKeyDatabaseObject(id: string): Observable<any> {\n    return this.rest.get(this.databaseurl + '/' + id, null, this.sessionmanager.getHeader());\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/domain/authfield.service.ts","import { Entity, NgField, EntityList, NgList } from '@farris/devkit';\r\n\r\n\r\n\r\nexport class DataFetcherEntity extends Entity {\r\n\r\n    // 数据源\r\n    @NgField(true)\r\n    dataSource: string;\r\n\r\n    // 取数列\r\n    @NgField()\r\n    key: string;\r\n\r\n    // 展示列\r\n    @NgField()\r\n    listElements: any[];\r\n\r\n\r\n    @NgField()\r\n    dataSourceType: string;\r\n\r\n\r\n    @NgField()\r\n    type: any;\r\n\r\n\r\n    @NgField()\r\n    filter: string;\r\n\r\n\r\n    @NgField()\r\n    hierarchicalType: any;\r\n\r\n\r\n    @NgField()\r\n    hierarchicalInfo: string;\r\n\r\n\r\n    @NgField()\r\n    variantCode: string;\r\n\r\n\r\n    @NgField()\r\n    sortCondition: any;\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/domain/entities/authfield-datafetcher.entity.ts","import { Entity, NgField, NgObject, EntityList, NgList } from '@farris/devkit';\nimport { DataFetcherEntity } from './authfield-datafetcher.entity';\n\nexport class AuthFieldEntity extends Entity {\n\n    @NgField(true)\n    farrisid: string;\n\n    /**\n    * 权限标识\n    */\n    @NgField()\n    id: string;\n\n    /**\n     * 权限编号\n     */\n    @NgField()\n    code: string;\n\n    /**\n    * 权限全称\n    */\n    @NgField()\n    name: string;\n\n    // 分级码\n    @NgField()\n    path: string;\n\n    // 是否明细\n    @NgField()\n    isDetail: boolean;\n\n    // 父节点Id\n    @NgField()\n    parentId: string;\n\n    // 数据源\n    @NgField()\n    dataSourceId: string;\n\n\n    @NgObject(DataFetcherEntity)\n    dataFetcher: DataFetcherEntity;\n\n    // 数据源\n    @NgField()\n    aoFetcherType: any;\n\n    // 数据源\n    @NgField()\n    type: any;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/domain/entities/authfield.entity.ts","import { Provider } from '@angular/core';\r\nimport { AuthFieldDatastorage } from './authfield-datastorage';\r\nimport { AuthFieldRepository } from './authfield-repository';\r\nimport { AuthFieldService } from './authfield.service';\r\nimport { AuthFieldEntity } from './entities/authfield.entity';\r\n\r\n\r\nconst DOMAIN_PROVIDERS: Provider[]  = [\r\n  AuthFieldDatastorage,\r\n  AuthFieldRepository,\r\n  AuthFieldService,\r\n];\r\n\r\nexport {\r\n  AuthFieldEntity,\r\n  AuthFieldDatastorage,\r\n  AuthFieldRepository,\r\n  AuthFieldService,\r\n  DOMAIN_PROVIDERS\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/domain/index.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/help/key-help/key-help.component.css\n// module id = ./src/app/modules/authfield/help/key-help/key-help.component.css\n// module chunks = authfield.module","module.exports = \"<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':isShow}\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\n      <div class=\\\"modal-header\\\">\\n        <div class=\\\"clearfix p-2\\\">\\n          <h6 class=\\\"modal-title float-right\\\">{{title}}</h6>\\n          <button class=\\\"close\\\" (click)=\\\"isShow=false\\\">\\n            <span>×</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <kendo-grid [class]=\\\"'flex-auto'\\\" [selectable]=\\\"selectableSettings\\\" [kendoGridSelectBy]=\\\"'id'\\\" [selectedKeys]=\\\"curSelectedKeys\\\"\\n          [kendoGridBinding]=\\\"data\\\" [height]=\\\"350\\\">\\n          <kendo-grid-checkbox-column width=\\\"10%\\\"></kendo-grid-checkbox-column>\\n          <kendo-grid-column field=\\\"name\\\" title=\\\"名称\\\" width=\\\"40%\\\"></kendo-grid-column>\\n          <kendo-grid-column field=\\\"description\\\" title=\\\"描述\\\" width=\\\"50%\\\"></kendo-grid-column>\\n        </kendo-grid>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <!--\\n        <div pr-2 text-left class=\\\"col-xs-3\\\">\\n          <span>全选</span>\\n          <input type=\\\"checkbox\\\" style=\\\"zoom:120%;\\\" id=\\\"checkAllData\\\" name=\\\"checkAllData\\\" [checked]=\\\"true\\\">\\n        </div>\\n        -->\\n        <div text-right p-2 class=\\\"col-xs-9\\\">\\n          <button class=\\\"btn btn-sm  mr-2  btn-primary \\\" [disabled]=\\\"\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"btnOk()\\\">确定</button>\\n          <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"isShow=false\\\">取消</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n  <!-- /.modal-dialog -->\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/help/key-help/key-help.component.html\n// module id = ./src/app/modules/authfield/help/key-help/key-help.component.html\n// module chunks = authfield.module","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\nimport { Observable } from 'rxjs/Observable';\nimport { AuthFieldService } from '../../domain';\nimport { AuthFieldComponent } from '../../authfield.component';\n\n\n@Component({\n  selector: 'app-key-help',\n  templateUrl: './key-help.component.html',\n  styleUrls: ['./key-help.component.css']\n})\nexport class KeyHelpComponent implements OnInit, OnChanges {\n\n  /**帮助标题 */\n  @Input()\n  title = '帮助';\n  /**帮助打开状态 */\n  @Input()\n  isShow: boolean;\n  /**选中列表 */\n  @Input()\n  initSelectedKeys: string[];\n\n  /**输出事件 */\n  @Output()\n  selectedAfterOk: EventEmitter<any> = new EventEmitter<any>();\n\n  /**当前界面选中的内码 */\n  curSelectedKeys: string[];\n  selectableSettings: SelectableSettings;\n  data: Object[];\n\n  constructor(\n    private authFieldService: AuthFieldService,\n    private authfieldcomp: AuthFieldComponent\n  ) {\n    // 多选模式\n    this.selectableSettings = {\n      checkboxOnly: true,\n      mode: 'single',\n      enabled: true\n    };\n  }\n\n  ngOnInit() {\n  }\n\n  /**输入属性变化后 */\n  ngOnChanges(changes: SimpleChanges): void {\n    // 只有显示属性变化后才能起作用\n    if (changes['isShow']) {\n      // 第一次加载页面的时候,会有第一次变化\n      if (changes.isShow.firstChange) {\n        // 首次进来不取数、不显示\n        this.isShow = false;\n        return;\n      }\n      // 按钮触发进来\n      this.isShow = true;\n      // 服务端获取数据\n      this.authFieldService.getKeyDatabaseObject(this.authfieldcomp.itemid)\n        .subscribe(result => {\n          this.data = result.columns;\n          this.curSelectedKeys = [];\n          if (this.initSelectedKeys) {\n            this.initSelectedKeys.map(item => this.curSelectedKeys.push(item));\n          }\n        }, error => {\n          console.log('获取数据源失败！');\n          console.log(error);\n        });\n    }\n  }\n  /**帮助确定按钮 */\n  btnOk() {\n    this.closeDialog();\n    // 根据选中行获取实体数据\n    const selectPosEntity = [];\n    Observable.from(this.curSelectedKeys)\n      .map(item => this.data.find(pos => pos['id'] === item))\n      .subscribe(item => selectPosEntity.push(item));\n    // 发射当前选中数据\n    this.selectedAfterOk.next(selectPosEntity);\n\n  }\n  showDialog() {\n    this.isShow = true;\n  }\n  closeDialog() {\n    this.isShow = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/help/key-help/key-help.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/help/list-help/list-help.component.css\n// module id = ./src/app/modules/authfield/help/list-help/list-help.component.css\n// module chunks = authfield.module","module.exports = \"<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':isShow}\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\n      <div class=\\\"modal-header\\\">\\n        <div class=\\\"clearfix p-2\\\">\\n          <h6 class=\\\"modal-title float-right\\\">{{title}}</h6>\\n          <button class=\\\"close\\\" (click)=\\\"isShow=false\\\">\\n            <span>×</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <kendo-grid [class]=\\\"'flex-auto'\\\" [selectable]=\\\"selectableSettings\\\" [kendoGridSelectBy]=\\\"'id'\\\" [selectedKeys]=\\\"curSelectedKeys\\\"\\n          [kendoGridBinding]=\\\"data\\\" [height]=\\\"350\\\">\\n          <kendo-grid-checkbox-column width=\\\"10%\\\"></kendo-grid-checkbox-column>\\n          <kendo-grid-column field=\\\"code\\\" title=\\\"编号\\\" width=\\\"40%\\\"></kendo-grid-column>\\n          <kendo-grid-column field=\\\"name\\\" title=\\\"名称\\\" width=\\\"50%\\\"></kendo-grid-column>\\n        </kendo-grid>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <!--\\n        <div pr-2 text-left class=\\\"col-xs-3\\\">\\n          <span>全选</span>\\n          <input type=\\\"checkbox\\\" style=\\\"zoom:120%;\\\" id=\\\"checkAllData\\\" name=\\\"checkAllData\\\" [checked]=\\\"true\\\">\\n        </div>\\n        -->\\n        <div text-right p-2 class=\\\"col-xs-9\\\">\\n          <button class=\\\"btn btn-sm  mr-2  btn-primary \\\" [disabled]=\\\"\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"btnOk()\\\">确定</button>\\n          <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"isShow=false\\\">取消</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n  <!-- /.modal-dialog -->\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/help/list-help/list-help.component.html\n// module id = ./src/app/modules/authfield/help/list-help/list-help.component.html\n// module chunks = authfield.module","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\nimport { Observable } from 'rxjs/Observable';\nimport { AuthFieldService } from '../../domain';\n\n\n@Component({\n  selector: 'app-list-help',\n  templateUrl: './list-help.component.html',\n  styleUrls: ['./list-help.component.css']\n})\nexport class ListHelpComponent implements OnInit, OnChanges {\n\n  /**帮助标题 */\n  @Input()\n  title = '帮助';\n  /**帮助打开状态 */\n  @Input()\n  isShow: boolean;\n  /**选中列表 */\n  @Input()\n  initSelectedKeys: string[];\n\n  /**输出事件 */\n  @Output()\n  selectedAfterOk: EventEmitter<any> = new EventEmitter<any>();\n\n  /**当前界面选中的内码 */\n  curSelectedKeys: string[];\n  selectableSettings: SelectableSettings;\n  data: Object[];\n\n  constructor(\n    private authFieldService: AuthFieldService,\n  ) {\n    // 多选模式\n    this.selectableSettings = {\n      checkboxOnly: true,\n      mode: 'single',\n      enabled: true\n    };\n  }\n\n  ngOnInit() {\n  }\n\n  /**输入属性变化后 */\n  ngOnChanges(changes: SimpleChanges): void {\n    // 只有显示属性变化后才能起作用\n    if (changes['isShow']) {\n      // 第一次加载页面的时候,会有第一次变化\n      if (changes.isShow.firstChange) {\n        // 首次进来不取数、不显示\n        this.isShow = false;\n        return;\n      }\n      // 按钮触发进来\n      this.isShow = true;\n      // 服务端获取数据\n      this.authFieldService.getAllDatabaseObject()\n        .subscribe(result => {\n          this.data = result;\n          this.curSelectedKeys = [];\n          if (this.initSelectedKeys) {\n            this.initSelectedKeys.map(item => this.curSelectedKeys.push(item));\n          }\n        }, error => {\n          console.log('获取数据源失败！');\n          console.log(error);\n        });\n    }\n  }\n  /**帮助确定按钮 */\n  btnOk() {\n    this.closeDialog();\n    // 根据选中行获取实体数据\n    const selectPosEntity = [];\n    Observable.from(this.curSelectedKeys)\n      .map(item => this.data.find(pos => pos['id'] === item))\n      .subscribe(item => selectPosEntity.push(item));\n    // 发射当前选中数据\n    this.selectedAfterOk.next(selectPosEntity);\n\n  }\n  showDialog() {\n    this.isShow = true;\n  }\n  closeDialog() {\n    this.isShow = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/help/list-help/list-help.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.css\n// module id = ./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.css\n// module chunks = authfield.module","module.exports = \"<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':isShow}\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\n      <div class=\\\"modal-header\\\">\\n        <div class=\\\"clearfix p-2\\\">\\n          <h6 class=\\\"modal-title float-right\\\">{{title}}</h6>\\n          <button class=\\\"close\\\" (click)=\\\"isShow=false\\\">\\n            <span>×</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <kendo-grid [class]=\\\"'flex-auto'\\\" [selectable]=\\\"selectableSettings\\\" [kendoGridSelectBy]=\\\"'id'\\\" [selectedKeys]=\\\"curSelectedKeys\\\"\\n          [kendoGridBinding]=\\\"data\\\" [height]=\\\"350\\\">\\n          <kendo-grid-checkbox-column width=\\\"10%\\\"></kendo-grid-checkbox-column>\\n          <kendo-grid-column field=\\\"name\\\" title=\\\"名称\\\" width=\\\"40%\\\"></kendo-grid-column>\\n          <kendo-grid-column field=\\\"description\\\" title=\\\"描述\\\" width=\\\"50%\\\"></kendo-grid-column>\\n        </kendo-grid>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <!--\\n        <div pr-2 text-left class=\\\"col-xs-3\\\">\\n          <span>全选</span>\\n          <input type=\\\"checkbox\\\" style=\\\"zoom:120%;\\\" id=\\\"checkAllData\\\" name=\\\"checkAllData\\\" [checked]=\\\"true\\\">\\n        </div>\\n        -->\\n        <div text-right p-2 class=\\\"col-xs-9\\\">\\n          <button class=\\\"btn btn-sm  mr-2  btn-primary \\\" [disabled]=\\\"\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"btnOk()\\\">确定</button>\\n          <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"isShow=false\\\">取消</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n  <!-- /.modal-dialog -->\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.html\n// module id = ./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.html\n// module chunks = authfield.module","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\nimport { Observable } from 'rxjs/Observable';\nimport { AuthFieldService } from '../../domain';\nimport { AuthFieldComponent } from '../../authfield.component';\n\n\n@Component({\n  selector: 'app-mulkey-help',\n  templateUrl: './mulkey-help.component.html',\n  styleUrls: ['./mulkey-help.component.css']\n})\nexport class MulkeyHelpComponent implements OnInit, OnChanges {\n\n  /**帮助标题 */\n  @Input()\n  title = '帮助';\n  /**帮助打开状态 */\n  @Input()\n  isShow: boolean;\n  /**选中列表 */\n  @Input()\n  initSelectedKeys: string[];\n\n  /**输出事件 */\n  @Output()\n  selectedAfterOk: EventEmitter<any> = new EventEmitter<any>();\n\n  /**当前界面选中的内码 */\n  curSelectedKeys: string[];\n  selectableSettings: SelectableSettings;\n  data: Object[];\n\n  constructor(\n    private authFieldService: AuthFieldService,\n    private authfieldcomp: AuthFieldComponent\n  ) {\n    // 多选模式\n    this.selectableSettings = {\n      checkboxOnly: true,\n      mode: 'multiple',\n      enabled: true\n    };\n  }\n\n  ngOnInit() {\n  }\n\n  /**输入属性变化后 */\n  ngOnChanges(changes: SimpleChanges): void {\n    // 只有显示属性变化后才能起作用\n    if (changes['isShow']) {\n      // 第一次加载页面的时候,会有第一次变化\n      if (changes.isShow.firstChange) {\n        // 首次进来不取数、不显示\n        this.isShow = false;\n        return;\n      }\n      // 按钮触发进来\n      this.isShow = true;\n      // 服务端获取数据\n      this.authFieldService.getKeyDatabaseObject(this.authfieldcomp.itemid)\n        .subscribe(result => {\n          this.data = result.columns;\n          this.curSelectedKeys = [];\n          if (this.initSelectedKeys) {\n            this.initSelectedKeys.map(item => this.curSelectedKeys.push(item));\n          }\n        }, error => {\n          console.log('获取数据源失败！');\n          console.log(error);\n        });\n    }\n  }\n  /**帮助确定按钮 */\n  btnOk() {\n    this.closeDialog();\n    // 根据选中行获取实体数据\n    const selectPosEntity = [];\n    Observable.from(this.curSelectedKeys)\n      .map(item => this.data.find(pos => pos['id'] === item))\n      .subscribe(item => selectPosEntity.push(item));\n    // 发射当前选中数据\n    this.selectedAfterOk.next(selectPosEntity);\n\n  }\n  showDialog() {\n    this.isShow = true;\n  }\n  closeDialog() {\n    this.isShow = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authfield/help/mulkey-help/mulkey-help.component.ts","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n/**二元关系实体增量包 */\r\nexport class ResultPackage {\r\n\r\n    constructor () {\r\n        this.removingResults = new Array<string>();\r\n        this.addingResults = new Array<string>();\r\n    }\r\n    /**主体内码 */\r\n    ownerId: string;\r\n    /**授权的客体删除列表 */\r\n    removingResults: Array<string>;\r\n    /**授权的客体增加列表 */\r\n    addingResults: Array<string>;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/common/entity/result-package.ts","\r\nimport { SysManagerUtil } from './util/sys-manager-util';\r\n// import { GSPPositionEntity } from './entity/gspposition.entity';\r\nimport { ResultPackage } from './entity/result-package';\r\n\r\n\r\nexport {\r\n    // SysCommonModule,\r\n    SysManagerUtil,\r\n    // GSPPositionEntity,\r\n    ResultPackage\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/common/index.ts","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport { CacheService } from '@gsp-sys/rtf-common';\r\n\r\n/**\r\n * 系统管理相关session、webapi等公用方法\r\n */\r\n@Injectable()\r\nexport class SysManagerUtil {\r\n\r\n    /** 暂时传递给认证组件用的 */\r\n    curUserId: string;\r\n    isView = false;\r\n\r\n    /**用户webapi */\r\n    public readonly userWebApi: string;\r\n    /**用户岗位关系webapi */\r\n    public readonly userPositionWebApi: string;\r\n    /**系统组织webapi */\r\n    public readonly sysOrgWebApi: string;\r\n    /**岗位webapi */\r\n    public readonly positionWebApi: string;\r\n    /**功能组webapi */\r\n    public readonly roleWebApi: string;\r\n    /**功能组和岗位关系webapi */\r\n    public readonly positionRoleWebApi: string;\r\n    /**功能操作webapi */\r\n    public readonly operationWebApi: string;\r\n\r\n    constructor (\r\n        private sessionCache: CacheService\r\n    ) {\r\n        const apiPath = '/api/runtime/sys/v1.0';\r\n        this.userWebApi = apiPath + '/users';\r\n        this.userPositionWebApi = apiPath + '/user-position';\r\n        this.sysOrgWebApi = apiPath + '/sysOrgs';\r\n        this.positionWebApi = apiPath + '/positions';\r\n        this.roleWebApi = apiPath + '/roles';\r\n        this.positionRoleWebApi = apiPath + '/position-role';\r\n        this.operationWebApi = apiPath + '/funcOperations';\r\n    }\r\n    /**当前用户的sessionId，从缓存里取的 */\r\n    private sessionId: string;\r\n    /** 当前功能的funcId,框架打开功能时路由过来的参数*/\r\n    public funcId: string;\r\n\r\n    /**\r\n     * 获取用户维护当前模块的路由地址\r\n     */\r\n    getUserManageRouter (): string {\r\n        // user-manager是在数据库里配置的\r\n        const frameWorkUrl = '/main/user-manager/' + this.funcId + '/users';\r\n        return frameWorkUrl;\r\n    }\r\n\r\n    /**\r\n     * 获取岗位维护当前模块的路由地址\r\n     */\r\n    getPositionManagerRouter (): string {\r\n        // user-manager是在数据库里配置的\r\n        const frameWorkUrl = '/main/position-manager/' + this.funcId + '/positions';\r\n        return frameWorkUrl;\r\n    }\r\n\r\n    getRoleManagerRouter (): string {\r\n        const frameWorkUrl = '/main/role-manager/' + this.funcId + '/';\r\n        return frameWorkUrl;\r\n    }\r\n    /**\r\n     * 构造Header\r\n     */\r\n    getHeader () {\r\n        this.sessionId = this.getSessionId();\r\n        const headers = new HttpHeaders().set('SessionId', this.sessionId);\r\n        // 此处key必须是headers\r\n        return { headers };\r\n    }\r\n\r\n    /**\r\n     * 获取当前用户的sessionId\r\n     */\r\n    getSessionId (): string {\r\n        return this.sessionCache.get('session');\r\n    }\r\n\r\n    /**Guid生成 */\r\n    getGuid36 (): string {\r\n        function S4 () {\r\n            // tslint:disable-next-line:no-bitwise\r\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/common/util/sys-manager-util.ts"],"sourceRoot":"webpack:///"}