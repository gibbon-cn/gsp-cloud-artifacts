{"version":3,"sources":["./node_modules/inherits/inherits_browser.js","./node_modules/util/support/isBufferBrowser.js","./node_modules/util/util.js","./src/app/modules/authassign/auresultgroup/app/auresult-bindingdata.ts","./src/app/modules/authassign/auresultgroup/app/auresult-form.ts","./src/app/modules/authassign/auresultgroup/app/auresult-statemachine.ts","./src/app/modules/authassign/auresultgroup/app/auresult-uistate.ts","./src/app/modules/authassign/auresultgroup/app/auresult.viewmodel.ts","./src/app/modules/authassign/auresultgroup/app/handler/add.handler.ts","./src/app/modules/authassign/auresultgroup/app/handler/close.handler.ts","./src/app/modules/authassign/auresultgroup/app/handler/edit.handler.ts","./src/app/modules/authassign/auresultgroup/app/handler/index.ts","./src/app/modules/authassign/auresultgroup/app/handler/load.handler.ts","./src/app/modules/authassign/auresultgroup/app/handler/save.handler.ts","./src/app/modules/authassign/auresultgroup/app/index.ts","./src/app/modules/authassign/auresultgroup/domain/auresult-datastorage.ts","./src/app/modules/authassign/auresultgroup/domain/auresult-repository.ts","./src/app/modules/authassign/auresultgroup/domain/auresult-service.ts","./src/app/modules/authassign/auresultgroup/domain/entities/auresult.entity.ts","./src/app/modules/authassign/auresultgroup/domain/entities/auresut-changes.entity.ts","./src/app/modules/authassign/auresultgroup/domain/entities/auth-data-source.entity.ts","./src/app/modules/authassign/auresultgroup/domain/entities/authop-help.entity.ts","./src/app/modules/authassign/auresultgroup/domain/index.ts","./src/app/modules/authassign/authassign-view/authassign-view.component.css","./src/app/modules/authassign/authassign-view/authassign-view.component.html","./src/app/modules/authassign/authassign-view/authassign-view.component.ts","./src/app/modules/authassign/authassign.module.js","./src/app/modules/authassign/authassign.routing.module.ts","./src/app/modules/authassign/authfield-tree/app/authfield-tree-bindingdata.ts","./src/app/modules/authassign/authfield-tree/app/authfield-tree-form.ts","./src/app/modules/authassign/authfield-tree/app/authfield-tree.viewmodel.ts","./src/app/modules/authassign/authfield-tree/app/handler/authfield-tree-load.handler.ts","./src/app/modules/authassign/authfield-tree/app/handler/index.ts","./src/app/modules/authassign/authfield-tree/app/index.ts","./src/app/modules/authassign/authfield-tree/domain/authfield-service.ts","./src/app/modules/authassign/authfield-tree/domain/authfield-tree-datastorage.ts","./src/app/modules/authassign/authfield-tree/domain/authfield-tree-repository.ts","./src/app/modules/authassign/authfield-tree/domain/entities/authfield.entity.ts","./src/app/modules/authassign/authfield-tree/domain/index.ts","./src/app/modules/authassign/shared/session.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AAC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","file":"authassign.module.chunk.js","sourcesContent":["if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/inherits/inherits_browser.js\n// module id = ./node_modules/inherits/inherits_browser.js\n// module chunks = authassign.module","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/support/isBufferBrowser.js\n// module id = ./node_modules/util/support/isBufferBrowser.js\n// module chunks = authassign.module","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/util.js\n// module id = ./node_modules/util/util.js\n// module chunks = authassign.module","import { Injectable, Injector } from '@angular/core';\r\nimport { NgBindingData, BindingData } from '@farris/devkit';\r\nimport { AuresultRepository, AuresultEntity } from '../domain/index';\r\n\r\n@Injectable()\r\n@NgBindingData({\r\n  entity: AuresultEntity,\r\n  repository: AuresultRepository\r\n})\r\nclass AuresultBindingdata extends BindingData {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\nexport { AuresultBindingdata\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/auresult-bindingdata.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NgForm, Form, NgFormControl, NgChildForm, NgChildFormArray } from '@farris/devkit';\r\nimport { AuresultBindingdata} from './auresult-bindingdata';\r\n\r\n@Injectable()\r\n@NgForm({\r\n  bindingData: AuresultBindingdata\r\n})\r\nclass AuresultForm extends Form {\r\n\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n\r\n  /**\r\n   * packageid\r\n   */\r\n  @NgFormControl({\r\n    name: 'packageid',\r\n    binding: 'packageid'\r\n  })\r\n  PackageID: FormControl;\r\n\r\n  /**\r\n   * authfield\r\n   */\r\n  @NgFormControl({\r\n    name: 'authfield',\r\n    binding: 'authfield'\r\n  })\r\n  Authfield: FormControl;\r\n\r\n  /**\r\n   * 权限结果包分组\r\n   */\r\n  @NgFormControl({\r\n    name: 'groupid',\r\n    binding: 'groupid'\r\n  })\r\n  GroupID: FormControl;\r\n\r\n  /**\r\n   * 基于权限结果包分组的业务数据集合\r\n   */\r\n  @NgFormControl({\r\n    name: 'datas',\r\n    binding: 'datas'\r\n  })\r\n  DataCollection: FormControl;\r\n\r\n  /**\r\n   * 基于权限结果包分组的数据操作Id集合\r\n   */\r\n  @NgFormControl({\r\n    name: 'authorizations',\r\n    binding: 'authorizations'\r\n  })\r\n  AuthopCollection: FormControl;\r\n}\r\n\r\n\r\nexport {AuresultForm };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/auresult-form.ts","import { Injectable } from '@angular/core';\r\nimport { StateMachine, NgStatemachine, State, NgState, RenderState, NgRenderState, Action, NgAction } from '@farris/devkit';\r\n\r\n@Injectable()\r\n@NgStatemachine()\r\nclass AuresultStatemachine extends StateMachine {\r\n\r\n    /**\r\n     * --------------------------------------------------------------------------------\r\n     * 基本状态定义\r\n     * --------------------------------------------------------------------------------\r\n     */\r\n\r\n    /**\r\n     * 查看状态\r\n     */\r\n    @NgState({ initialState: true })\r\n    viewState: State;\r\n\r\n     /**\r\n     * 编辑状态\r\n     */\r\n    @NgState()\r\n    editState: State;\r\n\r\n\r\n  /**\r\n   * 输入控件是否允许输入\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'editState'\r\n  })\r\n  canInput: RenderState;\r\n\r\n  /**\r\n   * --------------------------------------------------------------------------------\r\n   * 渲染状态定义\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n    /**\r\n   * 编辑按钮是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => (context.state === 'viewState' || context.state === 'editState')\r\n  })\r\n  canEdit: RenderState;\r\n\r\n    /**\r\n   * 保存按钮是否允许点击\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => (context.state === 'viewState' || context.state === 'editState')\r\n  })\r\n  canSave: RenderState;\r\n\r\n   /**\r\n   * --------------------------------------------------------------------------------\r\n   * 迁移动作定义\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n  @NgAction({transitTo: 'editState' })\r\n  load: Action;\r\n\r\n  @NgAction({transitTo: 'editState' })\r\n  add: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  edit: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  view: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  save: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  clear: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  close: Action;\r\n\r\n}\r\n\r\nexport { AuresultStatemachine\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/auresult-statemachine.ts","\r\nclass AuresultUistate {\r\n\r\n    // 权限字段 对应历史结果  TODO 暂时这么处理\r\n    oldResult: any[];\r\n\r\n    // 上个状态\r\n    action: string;\r\n}\r\nexport {\r\n    AuresultUistate\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/auresult-uistate.ts","import { Injector, Injectable } from '@angular/core';\r\nimport { NgViewModel, ViewModel,  NgCommand } from '@farris/devkit';\r\n\r\nimport { AuresultBindingdata } from './auresult-bindingdata';\r\nimport { AuresultForm } from './auresult-form';\r\nimport { AuresultStatemachine } from './auresult-statemachine';\r\nimport { AuresultUistate } from './auresult-uistate';\r\n\r\n/**\r\n * 视图模型\r\n */\r\n@Injectable()\r\n@NgViewModel({\r\n  children: [],\r\n  binding: AuresultBindingdata,\r\n  form: AuresultForm,\r\n  stateMachine: AuresultStatemachine,\r\n})\r\nclass AuresultViewmodel extends ViewModel {\r\npublic currentAuthfield: string;\r\npublic uiState: AuresultUistate;\r\npublic stateMachine: AuresultStatemachine;\r\n\r\n  /**\r\n   * 构造函数\r\n   *\r\n   */\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n    this.uiState = this.injector.get(AuresultUistate);\r\n  }\r\n\r\n  /**\r\n   * 表单加载\r\n   */\r\n  @NgCommand({\r\n    name: 'loadResultData',\r\n    params: {\r\n        authfield: '' // TODO 传参待WEB框架完善\r\n      }\r\n   })\r\n  public loadResultData() {}\r\n\r\n   /**\r\n   * 新增\r\n   */\r\n  @NgCommand({\r\n    name: 'add',\r\n    params: {\r\n      authfield: '', // TODO 传参待WEB框架完善\r\n      pakageId: '' // TODO 传参待WEB框架完善\r\n    }\r\n   })\r\n  public add() {}\r\n\r\n   /**\r\n   * 编辑\r\n   */\r\n  @NgCommand({\r\n    name: 'edit'\r\n   })\r\n  public edit() {}\r\n\r\n\r\n   /**\r\n   * 编辑\r\n   */\r\n  @NgCommand({\r\n    name: 'save'\r\n   })\r\n  public save() {}\r\n\r\n   /**\r\n   * 切换\r\n   */\r\n  @NgCommand({\r\n    name: 'change'\r\n   })\r\n  public change() {}\r\n\r\n  /**\r\n   * 关闭\r\n   */\r\n  @NgCommand({\r\n    name: 'close'\r\n   })\r\n  public close() {}\r\n}\r\n\r\nexport { AuresultViewmodel };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/auresult.viewmodel.ts","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext, EntityFactory } from '@farris/devkit';\r\nimport { AuresultStatemachine } from '../../app/auresult-statemachine';\r\nimport { AuresultBindingdata } from '../../app/auresult-bindingdata';\r\nimport { AuresultUistate } from '../../app/auresult-uistate';\r\nimport { AuresultService, AuresultRepository, AuresultEntity } from '../../domain/index';\r\nimport { isNullOrUndefined } from 'util';\r\n\r\nimport { AuthassignSession } from '../../../shared/session';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'add'\r\n})\r\nclass AuresultAddHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private dataService: AuresultService,\r\n    private uiState: AuresultUistate,\r\n    private stateMachine: AuresultStatemachine,\r\n    private repository: AuresultRepository,\r\n    private bindingData: AuresultBindingdata,\r\n    private session: AuthassignSession\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('add', (lastResult: any, context: TaskExecutionContext) => {\r\n      // 命令参数值\r\n      const command = context.command;\r\n      const packageid = this.session.packageId; // command.params.pakageId;\r\n      const authfield = this.session.authField; // command.params.authfield;\r\n\r\n      const groupIdNew = this.BuildNewGroup();\r\n      this.uiState.action = 'add';\r\n\r\n      const data = {\r\n        packageId: packageid, // TODO Web框架完善\r\n        groupId: groupIdNew, // TODO 统一获取\r\n        authField: authfield, // TODO Web框架完善\r\n        datas: [],\r\n        authorizations: []\r\n      };\r\n      const newEntity = EntityFactory<AuresultEntity>(AuresultEntity, data);\r\n      this.repository.addEntity(newEntity);\r\n      console.log('增加：' + groupIdNew);\r\n      this.dataService.addGroups(groupIdNew);\r\n    });\r\n\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['add']();\r\n    });\r\n  }\r\n\r\n  BuildNewGroup(): string {\r\n    const entities = this.repository.getAllEntities();\r\n    if (isNullOrUndefined(entities) || entities.length === 0) {\r\n      return '1';\r\n    }\r\n\r\n    let keys = [];\r\n\r\n    entities.forEach((item) => {\r\n      if (!isNaN(Number(item.groupId))) {\r\n        keys.push(Number(item.groupId));\r\n      }\r\n    });\r\n    if (isNullOrUndefined(keys) || keys.length === 0) {\r\n      return '1';\r\n    }\r\n    const max = Math.max.apply(null, keys) + 1;\r\n    return max;\r\n  }\r\n}\r\n\r\nexport { AuresultAddHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/handler/add.handler.ts","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuthassignSession } from '../../../shared/session';\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'close'\r\n})\r\nclass CloseHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private session: AuthassignSession\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n    this.addTask('close', () => {\r\n     // pos-manager是在数据库里配置的\r\n     const posUrl = '/main/position-manager/' + this.session.funcId + '/positions';\r\n      this.router.navigate([posUrl]);\r\n    });\r\n  }\r\n}\r\n\r\nexport { CloseHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/handler/close.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuresultService } from '../../domain/index';\r\nimport { AuresultStatemachine } from '../auresult-statemachine';\r\nimport { AuresultUistate } from '../auresult-uistate';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'edit'\r\n})\r\nclass AuresultEditHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuresultService,\r\n    private uiState: AuresultUistate,\r\n    private stateMachine: AuresultStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('edit', () => {\r\n        this.uiState.action = 'edit';\r\n        this.stateMachine['edit']();\r\n    });\r\n\r\n  }\r\n}\r\n\r\nexport { AuresultEditHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/handler/edit.handler.ts","import { AuresultLoadHandler } from './load.handler';\r\nimport { AuresultAddHandler } from './add.handler';\r\nimport { AuresultEditHandler } from './edit.handler';\r\nimport { AuresultSaveHandler } from './save.handler';\r\nimport { CloseHandler } from './close.handler';\r\nconst AuresultCommandHandlers = [\r\n    AuresultLoadHandler,\r\n    AuresultAddHandler,\r\n    AuresultEditHandler,\r\n    AuresultSaveHandler,\r\n    CloseHandler\r\n];\r\n\r\nexport { AuresultCommandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/handler/index.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuresultService } from '../../domain/index';\r\nimport { AuresultStatemachine } from '../auresult-statemachine';\r\nimport { AuresultUistate } from '../auresult-uistate';\r\nimport { AuresultBindingdata } from '../../app/auresult-bindingdata';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'loadResultData'\r\n})\r\nclass AuresultLoadHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuresultService,\r\n    private uiState: AuresultUistate,\r\n    private stateMachine: AuresultStatemachine,\r\n    private bindingData: AuresultBindingdata\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('loadData', (authfield: string) => {\r\n      this.uiState.action = 'load';\r\n      this.dataService.getResultdata();\r\n    });\r\n\r\n  }\r\n}\r\n\r\nexport { AuresultLoadHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/handler/load.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext, ChangeType } from '@farris/devkit';\r\nimport { isNullOrUndefined } from 'util';\r\nimport { AuresultStatemachine } from '../auresult-statemachine';\r\nimport { AuresultBindingdata } from '../../app/auresult-bindingdata';\r\nimport { AuresultUistate } from '../../app/auresult-uistate';\r\nimport { AuresultService, AuresultRepository, AuresultEntity } from '../../domain/index';\r\nimport { AuresultChangesEntity, AuresultSave } from '../../domain/entities/auresut-changes.entity';\r\n\r\nimport { AuthassignSession } from '../../../shared/session';\r\nimport { isNullOrEmptyString } from '@progress/kendo-angular-grid/dist/es/utils';\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'save'\r\n})\r\nclass AuresultSaveHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: AuresultService,\r\n    private uiState: AuresultUistate,\r\n    private stateMachine: AuresultStatemachine,\r\n    private repository: AuresultRepository,\r\n    private bindingData: AuresultBindingdata,\r\n    private session: AuthassignSession\r\n  ) {\r\n    super();\r\n\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('save', () => {\r\n      this.uiState.action = 'save';\r\n      const auresultChanges = this.buildNewAuresultChangesEntity();\r\n      this.repository.getAllEntities().forEach(item => {\r\n        const index = this.session.addGroupIds.findIndex(x => x.toString() === item.groupId.toString());\r\n        if (index > -1) {\r\n          const result = this.buildAuresultSave(item);\r\n          auresultChanges.addResult.push(result);\r\n        } else if (isNullOrUndefined(item.changes) === false && item.changes.length !== 0) {\r\n          const result = this.buildAuresultSave(item);\r\n          auresultChanges.editResult.push(result);\r\n        }\r\n      });\r\n      console.log('要保存的结果');\r\n      console.log(auresultChanges);\r\n      this.dataService.saveResultData(auresultChanges).subscribe();\r\n      alert('保存成功');\r\n      // 一旦保存，便重置\r\n      this.session.addGroupIds.length = 0;\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n  * 构造权限保存结果\r\n  */\r\n  buildNewAuresultChangesEntity(): AuresultChangesEntity {\r\n    const auresultChanges: AuresultChangesEntity = new AuresultChangesEntity();\r\n    auresultChanges.ownerId = this.session.ownerId; // TODO此处应该是传参，或者是缓存\r\n    auresultChanges.authField = this.session.authField; // TODO此处应该是传参，或者是缓存\r\n    auresultChanges.year = this.session.year; // TODO此处应该是传参，或者是缓存\r\n    auresultChanges.addResult = new Array<any>();\r\n    auresultChanges.removeResult = new Array<any>();\r\n    auresultChanges.editResult = new Array<any>();\r\n    auresultChanges.ownerType = this.session.ownerType; // TODO此处应该是传参，或者是缓存\r\n    return auresultChanges;\r\n  }\r\n\r\n  // 直接使用Entity实体 会提示 循环引用\r\n  buildAuresultSave(item: AuresultEntity): AuresultSave {\r\n    const result = new AuresultSave();\r\n    result.packageId = item.packageId;\r\n    result.authField = item.authField;\r\n    result.authorizations = item.authorizations;\r\n    result.datas = item.datas;\r\n    result.groupId = item.groupId;\r\n    result.ruleEntity = item.ruleEntity;\r\n    return result;\r\n  }\r\n}\r\n\r\nexport { AuresultSaveHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/handler/save.handler.ts","import { Provider } from '@angular/core';\r\nimport { AuresultBindingdata } from './auresult-bindingdata';\r\nimport { AuresultForm } from './auresult-form';\r\nimport { AuresultStatemachine } from './auresult-statemachine';\r\nimport { AuresultViewmodel } from './auresult.viewmodel';\r\nimport { AuresultUistate } from './auresult-uistate';\r\nimport { AuresultCommandHandlers } from './handler/index';\r\n\r\n\r\nconst AuresultAPP_PROVIDERS: Provider[] = [\r\n      AuresultBindingdata,\r\n      AuresultForm,\r\n      AuresultUistate,\r\n      AuresultViewmodel,\r\n      AuresultStatemachine\r\n];\r\n\r\nexport {\r\n      AuresultBindingdata,\r\n      AuresultStatemachine,\r\n      AuresultForm,\r\n      AuresultUistate,\r\n      AuresultViewmodel,\r\n      AuresultAPP_PROVIDERS,\r\n      AuresultCommandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/app/index.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { MemoryStorage } from '@farris/devkit';\r\n\r\n@Injectable()\r\nclass AuresultDatastorage extends MemoryStorage {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\nexport {\r\n  AuresultDatastorage\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/auresult-datastorage.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgRepository, Repository } from '@farris/devkit';\r\nimport { AuresultDatastorage } from './auresult-datastorage';\r\nimport { AuresultEntity } from './entities/auresult.entity';\r\n\r\n@Injectable()\r\n@NgRepository({\r\n  from : AuresultDatastorage,\r\n  entityType : AuresultEntity\r\n})\r\nclass AuresultRepository extends Repository<AuresultEntity> {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\nexport { AuresultRepository };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/auresult-repository.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { AuresultDatastorage } from './auresult-datastorage';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { AuthassignSession } from '../../shared/session';\r\nimport { AuthopHelpEntity } from './entities/authop-help.entity';\r\nimport { AuresultChangesEntity } from '../domain/entities/auresut-changes.entity';\r\nimport { AuthDataSource } from './entities/auth-data-source.entity';\r\nimport { isNullOrUndefined } from 'util';\r\n\r\n@Injectable()\r\nexport class AuresultService {\r\n\r\n    constructor(\r\n        private rest: RestfulService,\r\n        public dataStorage: AuresultDatastorage,\r\n        private session: AuthassignSession\r\n    ) { }\r\n\r\n    changeResultdata(): any {\r\n        this.dataStorage.load(null);\r\n    }\r\n\r\n    /**\r\n    * 获取权限分配结果\r\n    */\r\n    getResultdata(): any {\r\n        // mock数据\r\n        // this.dataStorage.load(auresultData);\r\n        const authfield = this.session.authField;\r\n        console.log('authfield:' + authfield);\r\n        const ownerId = this.session.ownerId;\r\n        console.log('ownerIdF:' + ownerId);\r\n        const ownerType = this.session.ownerType;\r\n        console.log('ownerType:' + ownerType);\r\n        const headers = this.session.getHeader();\r\n        const url = this.session.getResultPath();\r\n\r\n        // TODO\r\n        const curUserId = this.session.getCurrentUserId();\r\n        const urlNew = url + '?currentUserId=' + curUserId + '&ownerId=' + ownerId + '&ownerType=' + ownerType.toString()\r\n            + '&authfield=' + authfield;\r\n        this.rest.get(urlNew, null, headers).subscribe((result: any) => {\r\n            this.dataStorage.load(result);\r\n        });\r\n    }\r\n\r\n    /**\r\n    * 获取权限分配结果数据源\r\n    */\r\n    getDataSource(authField: string): Observable<any> {\r\n        // mock数据\r\n        // return of(dataSource);\r\n        const authDataSource = new AuthDataSource();\r\n        const headers = this.session.getHeader();\r\n        const url = this.session.getResultPath();\r\n        const urlNew = url + '/dataSource/' + authField;\r\n        return this.rest.get(urlNew, null, headers);\r\n    }\r\n\r\n\r\n    /**\r\n    * 保存权限分配结果\r\n    */\r\n    saveResultData(body: AuresultChangesEntity): Observable<any> {\r\n        const headers = this.session.getHeader();\r\n        console.log(headers);\r\n        const url = this.session.getResultPath();\r\n        return this.rest.post(url, body, null, headers);\r\n    }\r\n\r\n    /**\r\n    * 保获取权限对象和数据操作\r\n    */\r\n    getAuthorization(authfield: string): any {\r\n        const headers = this.session.getHeader();\r\n        const url = this.session.getAuthorizationPath();\r\n        const urlNew = url + '/authfield/' + authfield;\r\n        const authorizations = new Array<AuthopHelpEntity>();\r\n        console.log('urlNew' + urlNew);\r\n        this.rest.get(urlNew, null, headers).subscribe((datas: any) => {\r\n            let arrData = new Array();\r\n            arrData = datas;\r\n            arrData.forEach((data) => {\r\n                const obj = new AuthopHelpEntity();\r\n                obj.identiy = data.id + '~' + data.name;\r\n                obj.id = data.id;\r\n                obj.name = data.name;\r\n                // if (data.parentId === '') {\r\n                //     obj.parentId = undefined;\r\n                // } else {\r\n                //     obj.parentId = data.parentId;\r\n                // }\r\n                obj.type = 0;\r\n                obj.authOps = new Array<AuthopHelpEntity>();\r\n                if (!isNullOrUndefined(data.authOps) && data.authOps.length !== 0) {\r\n                    data.authOps.forEach((child) => {\r\n                        const op = new AuthopHelpEntity();\r\n                        op.identiy = data.id + '~' + data.name + '~' + child.id + '~' + child.name;\r\n                        op.id = child.id;\r\n                        op.name = child.name;\r\n                        op.type = 1;\r\n                        op.parentId = data.id;\r\n                        obj.authOps.push(op);\r\n                    });\r\n                    // TODO 业务操作 为空的暂时不添加，此处导航应当使用业务对象，后续再优化\r\n                    obj.parentId = undefined;\r\n                    authorizations.push(obj);\r\n                }\r\n            });\r\n        });\r\n        console.log('authorizations:' + authorizations);\r\n        return authorizations;\r\n    }\r\n\r\n    /**\r\n    * TODO 权限结果包变更集：新增部分，临时这么处理,待Farris框架出变更集\r\n    */\r\n    addGroups(groupId: string): void {\r\n        this.session.addGroupIds.push(groupId);\r\n        const index = this.session.delGroupIds.indexOf(groupId);\r\n        if (index > -1) {\r\n            this.session.delGroupIds.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 权限结果包变更集：删除部分，TODO 临时这么处理,待Farris框架出变更集\r\n     */\r\n    delGroups(groupId: string): void {\r\n        this.session.delGroupIds.push(groupId);\r\n        const index = this.session.addGroupIds.indexOf(groupId);\r\n        if (index > -1) {\r\n            this.session.addGroupIds.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n\r\nexport const auresultData = [\r\n    {\r\n        packageId: 'BEPackageAll',\r\n        year: null,\r\n        groupId: '1',\r\n        authField: 'BMBE01',\r\n        authorizations: [\r\n            {\r\n                id: 'BE01',\r\n                name: '销售订单',\r\n                authOps: [\r\n                    { id: '001', name: '查看' },\r\n                    { id: '002', name: '新增' },\r\n                    { id: '003', name: '修改' },\r\n                    { id: '004', name: '删除' },\r\n                ]\r\n            },\r\n            {\r\n                id: 'BE02',\r\n                name: '库存管理',\r\n                authOps: [\r\n                    { id: '001', name: '查看' }\r\n                ]\r\n            }\r\n        ],\r\n        dicAuthorization: null,\r\n        datas: [\r\n            { assid1: '0001', data: '*' },\r\n        ],\r\n        ruleEntity: null\r\n    },\r\n    {\r\n        packageId: 'BEPackageAll',\r\n        year: null,\r\n        groupId: '2',\r\n        authField: 'BMBE01',\r\n        authorizations: [\r\n            {\r\n                id: 'BE01',\r\n                name: '销售订单',\r\n                authOps: [\r\n                    { id: '004', name: '删除' },\r\n                ]\r\n            },\r\n            {\r\n                id: 'BE02',\r\n                name: '库存管理',\r\n                authOps: [\r\n                    { id: '004', name: '删除' }\r\n                ]\r\n            }\r\n        ],\r\n        dicAuthorization: null,\r\n        datas: [\r\n            { assid1: '0001', data: '销售二部' },\r\n        ],\r\n        ruleEntity: null\r\n    }\r\n];\r\n\r\n\r\nexport const dataSource = {\r\n    keyField: 'id',\r\n    helpFields: [\r\n        'id',\r\n        'code',\r\n        'name'\r\n    ],\r\n    showFields: [\r\n        { field: 'code', title: '编号' },\r\n        { field: 'name', title: '名称' }\r\n    ],\r\n    data: [\r\n        {\r\n            id: '销售一部',\r\n            code: '01',\r\n            name: '销售一部'\r\n        },\r\n        {\r\n            id: '销售二部',\r\n            code: '02',\r\n            name: '销售二部'\r\n        },\r\n        {\r\n            id: '销售三部',\r\n            code: '03',\r\n            name: '销售三部'\r\n        },\r\n        {\r\n            id: '销售四部',\r\n            code: '04',\r\n            name: '销售四部'\r\n        }\r\n    ]\r\n};\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/auresult-service.ts","import { Entity, NgField, NgObject, EntityList, NgList } from '@farris/devkit';\r\n\r\n/**\r\n * 权限字段实体\r\n */\r\nexport class AuresultEntity extends Entity {\r\n\r\n    /**\r\n     * 权限包Id\r\n     */\r\n    @NgField({\r\n        dataField: 'packageId',\r\n    })\r\n    packageId: string;\r\n\r\n    /**\r\n     * 权限字段Id\r\n     */\r\n    @NgField({\r\n        dataField: 'authField'\r\n    })\r\n    authField: string;\r\n\r\n    /**\r\n     * 权限结果包分组\r\n     */\r\n    @NgField({\r\n        dataField: 'groupId',\r\n        primary: true\r\n    })\r\n    groupId: string;\r\n\r\n\r\n    /**\r\n     * 基于权限结果包分组的业务数据集合\r\n     */\r\n    @NgField({\r\n        dataField: 'datas'\r\n    })\r\n    datas: BizDataDTO[];\r\n\r\n\r\n    /**\r\n     *  基于权限结果包分组的数据操作Id集合\r\n     */\r\n    @NgField({\r\n        dataField: 'authorizations',\r\n    })\r\n    authorizations: AuthorizationEntity[];\r\n\r\n\r\n    /**\r\n    *  基于权限结果包分组的规则权限\r\n    */\r\n    @NgField({\r\n        dataField: 'ruleEntity',\r\n    })\r\n    ruleEntity: GSPAuthorizationRule[];\r\n}\r\n\r\n/**\r\n * 权限对象实体\r\n */\r\nexport class AuthorizationEntity {\r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n    authOps: AuthoperationEntity[];\r\n}\r\n\r\n/**\r\n * 权限结果实体\r\n */\r\nexport class AuthoperationEntity {\r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n}\r\n\r\n/**\r\n * 规则权限实体\r\n */\r\nexport class GSPAuthorizationRule {\r\n    Type: number;  //  类型，1树形规则，2普通规则\r\n    NeedInput: boolean;  //\r\n    Lbracket: string; // 左括号\r\n    Rbracket: string; // 右括号\r\n    Variable: string; // 变量\r\n    Value: string; // 变量值\r\n    DisplayValue: string; // 展示名称\r\n    Relation: string; // 关系\r\n}\r\n\r\n\r\n/**\r\n *   规则权限实体\r\n */\r\nexport class BizDataDTO {\r\n    assid1: string;\r\n    assid2: string;\r\n    assid3: string;\r\n    data: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/entities/auresult.entity.ts","\r\nimport { AuresultEntity } from './auresult.entity';\r\nimport { AuthorizationEntity, GSPAuthorizationRule, BizDataDTO } from './auresult.entity';\r\n/**\r\n * 权限分配结果变更集实体\r\n */\r\nexport class AuresultChangesEntity {\r\n\r\n    ownerType: number; // 1 岗位 2 用户\r\n    ownerId: string;  // 权限拥有者标识\r\n    packageId: string;  //\r\n    year: string;  // 年度\r\n    authField: string; // 权限字段\r\n    addResult: AuresultSave[];\r\n    removeResult: AuresultSave[];\r\n    editResult: AuresultSave[];\r\n}\r\n\r\nexport class AuthorizationAssignmentGroupEntity {\r\n    packageId: string;  //\r\n    year: string;  // 年度\r\n    groupId: string; // 分组Id\r\n    authField: string; // 权限字段\r\n    aoFetcherType: number; // 取数类型   1行，2列，3规则\r\n\r\n    authorizations: AuthorizationEntity[]; // 实际的操作---仅删除业务数据时，此处可以为空，分级授权的考虑如何处理？\r\n    datas: BizDataDTO[]; // 实际的数据---仅删除业务操作时，此处可以为空，分级授权的考虑如何处理？\r\n    ruleEntity: GSPAuthorizationRule[]; // 规则权限分配结果\r\n\r\n    // TODO  对于修改的暂时按照先删除，后增加的方式\r\n    // addOps: AuthorizationEntity[]; // 增加的数据操作\r\n    // removeOps: AuthorizationEntity[]; // 删除的数据操作\r\n    // addDatas: string[]; // 增加的数据--aoFetcherType为 行权限 时才有意义\r\n    // removeDatas: string[]; // 删除的数据--aoFetcherType为 行权限 时才有意义\r\n}\r\n\r\nexport class AuresultSave {\r\n    packageId: string;\r\n    authField: string;\r\n    groupId: string;\r\n    datas: BizDataDTO[];\r\n    authorizations: AuthorizationEntity[];\r\n    ruleEntity: GSPAuthorizationRule[];\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/entities/auresut-changes.entity.ts","export class AuthDataSource {\r\n    keyField: string;\r\n    helpFields: string[];\r\n    showFields: AuthDataField[];\r\n    data: any[];\r\n}\r\n\r\nexport class AuthDataField {\r\n    field: string;\r\n    title: string;\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/entities/auth-data-source.entity.ts","export class AuthopHelpEntity {\r\n    identiy: string;\r\n    id: string;\r\n    name: string;\r\n    type: number;\r\n    parentId: string;\r\n    authOps: AuthopHelpEntity[];\r\n}\r\n\r\n// export const authorizationData = [\r\n//     { id: 'BE01', name: '销售订单', type: 0, parentId: undefined },\r\n//     { id: 'BE01~001', authopid: '001', name: '查看', type: 1, parentId: 'BE01' },\r\n//     { id: 'BE01~002', authopid: '002', name: '新增', type: 1, parentId: 'BE01' },\r\n//     { id: 'BE01~003', authopid: '003', name: '修改', type: 1, parentId: 'BE01' },\r\n//     { id: 'BE01~004', authopid: '004', name: '删除', type: 1, parentId: 'BE01' },\r\n\r\n//     { id: 'BE02', name: '库存管理', type: 0, parentId: undefined },\r\n//     { id: 'BE02~001', authopid: '001', name: '查看', type: 1, parentId: 'BE02' },\r\n//     { id: 'BE02~002', authopid: '002', name: '新增', type: 1, parentId: 'BE02' },\r\n//     { id: 'BE02~003', authopid: '003', name: '修改', type: 1, parentId: 'BE02' },\r\n//     { id: 'BE02~004', authopid: '004', name: '删除', type: 1, parentId: 'BE02' },\r\n// ];\r\n\r\n\r\n// canAuthorization = [\r\n//     {\r\n//       identiy: 'BE01~销售订单', id: 'BE01', name: '销售订单', type: 0, parentId: undefined,\r\n//       authOps:\r\n//         [\r\n//           { identiy: 'BE01~销售订单~001~查看', id: '001', name: '查看', type: 1, parentId: 'BE01' },\r\n//           { identiy: 'BE01~销售订单~002~新增', id: '002', name: '新增', type: 1, parentId: 'BE01' },\r\n//           { identiy: 'BE01~销售订单~003~修改', id: '003', name: '修改', type: 1, parentId: 'BE01' },\r\n//           { identiy: 'BE01~销售订单~004~删除', id: '004', name: '删除', type: 1, parentId: 'BE01' }\r\n//         ]\r\n//     },\r\n//     {\r\n//       identiy: 'BE02~库存管理', id: 'BE02', name: '库存管理', type: 0, parentId: undefined,\r\n//       authOps:\r\n//         [\r\n//           { identiy: 'BE02~库存管理~001~查看', id: '001', name: '查看', type: 1, parentId: 'BE02' },\r\n//           { identiy: 'BE02~库存管理~002~新增', id: '002', name: '新增', type: 1, parentId: 'BE02' },\r\n//           { identiy: 'BE02~库存管理~003~修改', id: '003', name: '修改', type: 1, parentId: 'BE02' },\r\n//           { identiy: 'BE02~库存管理~004~删除', id: '004', name: '删除', type: 1, parentId: 'BE02' }\r\n//         ]\r\n//     }\r\n//   ];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/entities/authop-help.entity.ts","import { Provider } from '@angular/core';\r\nimport { AuresultDatastorage } from './auresult-datastorage';\r\nimport { AuresultService } from './auresult-service';\r\nimport { AuresultRepository } from './auresult-repository';\r\nimport { AuresultEntity, AuthorizationEntity,  AuthoperationEntity} from './entities/auresult.entity';\r\nimport { AuthopHelpEntity } from './entities/authop-help.entity';\r\n\r\nconst AuresultDOMAIN_PROVIDERS: Provider[] = [\r\n    AuresultDatastorage,\r\n    AuresultService,\r\n    AuresultRepository\r\n];\r\n\r\nexport {\r\n    AuresultEntity, AuthorizationEntity, AuthoperationEntity, AuthopHelpEntity,\r\n    AuresultDatastorage,\r\n    AuresultService,\r\n    AuresultRepository,\r\n    AuresultDOMAIN_PROVIDERS\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/auresultgroup/domain/index.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authassign/authassign-view/authassign-view.component.css\n// module id = ./src/app/modules/authassign/authassign-view/authassign-view.component.css\n// module chunks = authassign.module","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n\\r\\n  <!--工具栏了 BEGIN-->\\r\\n  <div class=\\\"pt-2 mb-2\\\">\\r\\n    <div class=\\\"row pt-2 mb-2\\\">\\r\\n      <div class=\\\"col-sm-12 col-md-3 pt-2\\\">\\r\\n        <h1 class=\\\"h4 d-inline-block\\\">数据权限分配</h1>\\r\\n        <!-- <p class=\\\"text-muted h6 contract-subtitle\\\">岗位数据权限</p> -->\\r\\n      </div>\\r\\n      <div class=\\\"col-sm-12 col-md-9\\\">\\r\\n        <div class=\\\"pr-2 text-right\\\">\\r\\n          <!-- <button type=\\\"button\\\" (click)=\\\"viewmodelAuresult.edit()\\\" [disabled]=\\\"!viewmodelAuresult.stateMachine.canEdit\\\"\\r\\n            class=\\\"btn btn-sm btn-default\\\">编辑 </button> -->\\r\\n          <button type=\\\"button\\\" (click)=\\\"viewmodelAuresult.save()\\\" class=\\\"btn btn-sm btn-default\\\">保存 </button>\\r\\n          <button type=\\\"button\\\" (click)=\\\"viewmodelAuresult.close()\\\" class=\\\"btn btn-sm btn-default mr-1\\\">关闭</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!--数据权限分配结果 BEGIN-->\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-3 col-md-2 sidebar\\\">\\r\\n      <h6 class=\\\"page-header\\\">权限字段</h6>\\r\\n      <div class=\\\"card\\\">\\r\\n        <!--tree -->\\r\\n        <!-- <div class=\\\"col-xs-12 col-sm-12 col-md-3 col-lg-3 \\\">\\r\\n         \\r\\n        </div> -->\\r\\n        <kendo-treeview style=\\\"width:100%;height:100%\\\" [nodes]=\\\"dataAuthfield\\\" textField=\\\"FName\\\"\\r\\n          kendoTreeViewExpandable kendoTreeViewFlatDataBinding idField=\\\"FID\\\" parentIdField=\\\"FParentID\\\" [(expandedKeys)]=\\\"expandedKeys\\\"\\r\\n          [expandBy]=\\\"'FID'\\\" (selectionChange)=\\\"handleSelection($event)\\\">\\r\\n          <ng-template kendoTreeViewNodeTemplate let-dataItem>\\r\\n            <span [ngClass]=\\\"iconClass(dataItem)\\\"></span>\\r\\n            {{dataItem.FName}}\\r\\n          </ng-template>\\r\\n        </kendo-treeview>\\r\\n        <!--tree end -->\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!--权限结果 start -->\\r\\n    <div class=\\\"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main\\\">\\r\\n\\r\\n      <div class=\\\"pr-2 text-left\\\">\\r\\n        <h6 class=\\\"page-header\\\">权限结果</h6>\\r\\n        <button type=\\\"button\\\" (click)=\\\"viewmodelAuresult.add()\\\" class=\\\"btn btn-sm btn-default\\\">\\r\\n          + </button>\\r\\n      </div>\\r\\n      <kendo-panelbar [items]=\\\"dataItems\\\">\\r\\n        <ng-template kendoPanelBarItemTemplate let-dataItem>\\r\\n          <!--数据操作 start -->\\r\\n          <div class=\\\"clearfix mb-2\\\">\\r\\n            <div class=\\\"form-inline\\\">\\r\\n              <div class=\\\"form-group pr-2 pl-0 col-1\\\">\\r\\n                <a>数据操作: </a>\\r\\n              </div>\\r\\n              <a *ngFor=\\\"let itemauthorization of dataItem.content.authorizations\\\">\\r\\n                {{itemauthorization.name}}({{BuildDisplayAuthops(itemauthorization.authOps)}})； </a>\\r\\n              <div class=\\\"col-sm-12 col-md-9\\\">\\r\\n                <div class=\\\"pr-2 text-left\\\">\\r\\n                 \\r\\n                  <!-- <button type=\\\"button\\\" style=\\\"background:url(assets/img/analytics-42.png) no-repeat 0 0\\\" (click)=\\\"showAuthopsHelp(dataItem.content.groupId,true)\\\" \\r\\n                    class=\\\"btn btn-sm btn-default\\\">编辑 </button>  -->\\r\\n                    <button kendoButton [icon]=\\\"'edit'\\\" (click)=\\\"showAuthopsHelp(dataItem.content.groupId,true)\\\"></button>\\r\\n                </div>\\r\\n                <!-- <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>  -->\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <!--数据操作 end -->\\r\\n          <!--业务数据 start -->\\r\\n          <div class=\\\"clearfix mb-2\\\">\\r\\n            <div class=\\\"form-inline\\\">\\r\\n              <div class=\\\"form-group pr-2 pl-0 col-1\\\">\\r\\n                <a>业务数据: </a>\\r\\n              </div>\\r\\n              <a> {{BuildDisplayData(dataItem.content.datas)}} </a>\\r\\n              <div class=\\\"col-sm-12 col-md-9\\\">\\r\\n                <div class=\\\"pr-2 text-left\\\">\\r\\n                <button kendoButton [icon]=\\\"'edit'\\\" (click)=\\\"ShowDatasHelp(dataItem.content.groupId,true)\\\"></button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <!--业务数据 end -->\\r\\n        </ng-template>\\r\\n      </kendo-panelbar>\\r\\n    </div>\\r\\n    <!--权限结果 end -->\\r\\n  </div>\\r\\n  <!--数据权限分配结果 END-->\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n<!--     权限对象树导航参照窗口   BEGIN          -->\\r\\n<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':czTreeNavDialog}\\\">\\r\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\r\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"clearfix p-2\\\">\\r\\n          <h6 class=\\\"modal-title float-left\\\">权限对象帮助</h6>\\r\\n          <button class=\\\"close\\\" (click)=\\\"czTreeNavDialog=false\\\">\\r\\n            <span>×</span>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <kendo-treeview style=\\\"width:200px\\\" [nodes]=\\\"canAssigAuthorization\\\" textField=\\\"name\\\" kendoTreeViewExpandable\\r\\n          idField=\\\"id\\\" parentIdField=\\\"parentId\\\" [children]=\\\"children\\\" [hasChildren]=\\\"hasChildren\\\" [checkBy]=\\\"key\\\"\\r\\n          [kendoTreeViewCheckable]=\\\"checkableSettings\\\" [(checkedKeys)]=\\\"checkedKeys\\\"></kendo-treeview>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer text-right p-2\\\">\\r\\n        <button [class]=\\\"getCssOp()\\\" [disabled]=\\\"!canEditOp\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\" (click)=\\\"closeAuthopsHelp()\\\">确定</button>\\r\\n        <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\" (click)=\\\"czTreeNavDialog=false\\\">取消</button>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- /.modal-content -->\\r\\n  </div>\\r\\n  <!-- /.modal-dialog -->\\r\\n</div>\\r\\n<!-- /.modal -->\\r\\n<div class=\\\"modal-backdrop fade\\\" [ngClass]=\\\"{'show':czTreeNavDialog,'d-none':!czTreeNavDialog}\\\"></div>\\r\\n<!--权限对象树导航参照窗口  END-->\\r\\n\\r\\n\\r\\n<!--     业务数据导航参照窗口 BEGIN    -->\\r\\n<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':dataTreeNavDialog}\\\">\\r\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\r\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"clearfix p-2\\\">\\r\\n          <h6 class=\\\"modal-title float-left\\\">业务数据选择帮助</h6>\\r\\n          <button class=\\\"close\\\" (click)=\\\"dataTreeNavDialog=false\\\">\\r\\n            <span>×</span>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <!--[selectable]=\\\"selectableSettings\\\" -->\\r\\n        <kendo-grid #dataGrid [class]=\\\"'flex-auto'\\\" [selectable]=\\\"selectableSettings\\\" [kendoGridSelectBy]=\\\"authDataSource.keyField\\\"\\r\\n          [selectedKeys]=\\\"checkedDataKeys\\\" [kendoGridBinding]=\\\"canAssignDatas\\\">\\r\\n          <kendo-grid-checkbox-column title=\\\"选择\\\"></kendo-grid-checkbox-column>\\r\\n          <ng-template ngFor [ngForOf]=\\\"showFields\\\" let-column>\\r\\n            <kendo-grid-column field=\\\"{{column.field}}\\\" title=\\\"{{column.title}}\\\" >\\r\\n            </kendo-grid-column>\\r\\n          </ng-template>\\r\\n\\r\\n        </kendo-grid>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <div pr-2 text-left class=\\\"col-xs-3\\\">\\r\\n          <span>全选</span>\\r\\n          <input type=\\\"checkbox\\\" style=\\\"zoom:120%;\\\" id=\\\"checkAllData\\\" name=\\\"checkAllData\\\" [checked]=\\\"isAllData\\\" (click)=\\\"checkClick()\\\">\\r\\n        </div>\\r\\n        <div text-right p-2 class=\\\"col-xs-9\\\">\\r\\n          <button [class]=\\\"getCssData()\\\" [disabled]=\\\"!canEditData\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\" (click)=\\\"closeDataHelp()\\\">确定</button>\\r\\n          <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\"\\r\\n            (click)=\\\"dataTreeNavDialog=false\\\">取消</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- /.modal-content -->\\r\\n  </div>\\r\\n  <!-- /.modal-dialog -->\\r\\n</div>\\r\\n<!-- /.modal -->\\r\\n<div class=\\\"modal-backdrop fade\\\" [ngClass]=\\\"{'show':dataTreeNavDialog,'d-none':!dataTreeNavDialog}\\\"></div>\\r\\n\\r\\n<!--     业务数据导航参照窗口 END    -->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authassign/authassign-view/authassign-view.component.html\n// module id = ./src/app/modules/authassign/authassign-view/authassign-view.component.html\n// module chunks = authassign.module","import { Component, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { AuthfieldTreeViewmodel } from '../authfield-tree/app/index';\r\nimport { Change, ChangeType, PARAMETERS, EntityList } from '@farris/devkit';\r\nimport { AuresultEntity, AuthorizationEntity, AuthoperationEntity, AuresultRepository } from '../auresultgroup/domain/index';\r\nimport { AuthopHelpEntity } from '../auresultgroup/domain/index';\r\nimport { AuresultViewmodel } from '../auresultgroup/app/index';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { PanelBarModule, PanelBarItemModel } from '@progress/kendo-angular-layout';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { CheckableSettings, CheckedState } from '@progress/kendo-angular-treeview';\r\nimport { GridModule, SelectableSettings } from '@progress/kendo-angular-grid';\r\nimport { AuresultService } from '../auresultgroup/domain/auresult-service';\r\nimport { isNullOrUndefined, isNull } from 'util';\r\nimport { AuthassignSession } from '../shared/session';\r\nimport { BizDataDTO } from '../auresultgroup/domain/entities/auresult.entity';\r\nimport { AuthDataSource, AuthDataField } from '../auresultgroup/domain/entities/auth-data-source.entity';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\n\r\n@Component({\r\n  selector: 'app-authassign-view',\r\n  templateUrl: './authassign-view.component.html',\r\n  styleUrls: ['./authassign-view.component.css']\r\n})\r\nexport class AuthassignViewComponent implements OnInit {\r\n\r\n  funcid: string;\r\n  dataAuthfield: any[];\r\n  currentAuthfield: string;\r\n  expandedKeys: string[] = ['ERP'];\r\n\r\n\r\n  // 权限结果\r\n  // auresults: EntityList<AuresultEntity> = new EntityList<AuresultEntity>();\r\n  auresults: AuresultEntity[];\r\n  curResultGroup: AuresultEntity;\r\n  curResultGroupSelect: AuresultEntity;\r\n  dataItems: Array<PanelBarItemModel> = [];\r\n\r\n\r\n  // 数据操作变量\r\n  public checkedKeys: any[] = [];\r\n  public key = 'identiy';\r\n  // 弹出树导航参照窗口\r\n  czTreeNavDialog = false;\r\n  canEditOp = false;\r\n  canAssigAuthorization = new Array<AuthopHelpEntity>();\r\n\r\n  // 业务数据变量\r\n  canEditData = false;\r\n  isAllData = false;\r\n  public checkedDataKeys: any[] = [];\r\n  dataTreeNavDialog = false;\r\n  // 业务数据源相关信息\r\n  dataKey = ''; // 取数主键列\r\n  helpFields: string[] = []; // 字段显示名\r\n  showFields: AuthDataField[] = []; // 显示的字段\r\n  canAssignDatas: any[] = []; // 可分配的数据源\r\n  authDataSource: AuthDataSource = new AuthDataSource();\r\n\r\n  public fetchChildren(node: any): Observable<any[]> {\r\n    return of(node.authOps);\r\n  }\r\n\r\n  public children = (dataItem: any): Observable<any[]> => of(dataItem.authOps);\r\n  public hasChildren = (dataItem: any): boolean => !!dataItem.authOps;\r\n\r\n  constructor(\r\n    public viewmodelAuthfield: AuthfieldTreeViewmodel,\r\n    public viewmodelAuresult: AuresultViewmodel,\r\n    public route: ActivatedRoute,\r\n    public resultService: AuresultService,\r\n    public resultRepository: AuresultRepository,\r\n    private currentSession: AuthassignSession,\r\n    private frameworkService: FrameworkService\r\n  ) { }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    // TODO:\r\n    // 1、路由应该有统一的封装；\r\n    // 2、无法直接给Command传递参数，所以先将传入的参数写入中间层，再在CommandHandler中获取，过于麻烦；\r\n    // 3、CommandHandler没有返回值，switchMap这种操作符，无法起到应有的作用，所以暂时不用。\r\n    this.route.paramMap.subscribe((params: Params) => {\r\n      if (params.has('funcid')) {\r\n        this.funcid = params.get('funcid');\r\n        this.currentSession.funcId = this.funcid;\r\n        this.currentSession.sessionId = this.frameworkService.getSession(this.funcid);\r\n        this.viewmodelAuresult.uiState.action = 'view'; // params.get('action'); // 'view'; // params.get('action');\r\n        this.currentSession.ownerId = params.get('ownerId'); // 'BE'; // 'BE'; //\r\n        this.currentSession.ownerType = params.get('type'); // 1; //\r\n      }\r\n    });\r\n\r\n    // 采用OpenFunc方式打开 接收参数方式\r\n    // this.route.queryParams.subscribe((params: Params) => {\r\n    //   if (params['funcParam']) {\r\n    //     const paramObj = params['funcParam'];\r\n    //     console.log(paramObj);\r\n    //     this.funcid = paramObj.funcId;\r\n    //     this.currentSession.funcId = this.funcid;\r\n    //     this.currentSession.sessionId = this.frameworkService.getSession(this.funcid);\r\n    //     this.viewmodelAuresult.uiState.action = 'view'; // params.get('action'); // 'view'; // params.get('action');\r\n    //     this.currentSession.ownerId = paramObj.ownerId; // 'BE'; // 'BE'; //\r\n    //     this.currentSession.ownerType = paramObj.type; // 1; //\r\n    //   }\r\n    // });\r\n\r\n    // 应该是根据参数传递\r\n    console.log('sessinonId:' + this.currentSession.sessionId);\r\n    console.log('ownerid:' + this.currentSession.ownerId);\r\n    console.log('ownertype:' + this.currentSession.ownerType);\r\n\r\n    this.viewmodelAuthfield.bindingData.changes.subscribe((changes: Change) => {\r\n      console.log('changetype =' + changes.type);\r\n      if (changes.type === ChangeType.SelectionChanged) {\r\n        return;\r\n      }\r\n      const a = changes;\r\n      this.dataAuthfield = this.viewmodelAuthfield.bindingData.list.toJSON();\r\n      console.log(JSON.stringify(this.dataAuthfield));\r\n      // 第一层直接展开\r\n      this.dataAuthfield.forEach(x => {\r\n        if (isNullOrUndefined(x.FParentID)) {\r\n          this.expandedKeys.push(x.FID);\r\n        }\r\n      });\r\n      console.log('第一层展开');\r\n      console.log(this.expandedKeys);\r\n    });\r\n\r\n\r\n    this.viewmodelAuresult.bindingData.changes.subscribe(\r\n      (changes: Change) => {\r\n        console.log('changetypeAuresult =' + changes.type);\r\n        this.buildAuresult();\r\n        console.log(JSON.stringify(this.auresults));\r\n        console.log('after changed auresult：');\r\n        this.BuildResultPanel();\r\n      }\r\n    );\r\n\r\n    this.viewmodelAuthfield.formLoad();\r\n  }\r\n\r\n\r\n  /**************************权限字段----开始------*********************************************/\r\n  // 权限字段切换事件\r\n  handleSelection({ dataItem }: any): void {\r\n    if (dataItem.FType === '0') {\r\n      return;\r\n    }\r\n    const field = dataItem.FID;\r\n    // TODO 无法直接给Command传递参数，所以先将传入的参数写入中间层\r\n    this.viewmodelAuthfield.bindingData.list.setCurrentId(field);\r\n    this.currentSession.authField = field;\r\n    this.viewmodelAuresult.currentAuthfield = field;\r\n    this.viewmodelAuresult.loadResultData();\r\n\r\n    // TODO 这里应该使用懒加载，\r\n    this.getCanAssignAuthorization(field);\r\n    this.getAuthDataSource(field);\r\n    this.buildAuresult();\r\n    console.log('after load auresult：');\r\n    this.BuildResultPanel();\r\n  }\r\n\r\n  buildAuresult(): void {\r\n    // const data = this.viewmodelAuresult.bindingData.list.toJSON().map(row => new AuresultEntity(row));\r\n    // const data = this.viewmodelAuresult.bindingData.list.toJSON();\r\n    // this.auresults.loadEntities(data);\r\n    this.auresults = this.viewmodelAuresult.bindingData.list.toJSON();\r\n  }\r\n\r\n  // 可分配的权限操作\r\n  getCanAssignAuthorization(authField: string): void {\r\n    this.canAssigAuthorization = this.resultService.getAuthorization(authField);\r\n    console.log('可分配的权限操作');\r\n    console.log(this.canAssigAuthorization);\r\n  }\r\n\r\n  // 可分配的业务数据\r\n  getAuthDataSource(authField: string): void {\r\n    // 可分配的数据源\r\n    this.resultService.getDataSource(authField)\r\n      .subscribe(\r\n        (data) => {\r\n          this.authDataSource.data = data.data;\r\n          this.authDataSource.showFields = data.showFields;\r\n          this.authDataSource.keyField = data.keyField;\r\n          this.authDataSource.helpFields = data.helpFields;\r\n          this.canAssignDatas = this.authDataSource.data;\r\n          this.dataKey = this.authDataSource.keyField;\r\n          this.helpFields = this.authDataSource.helpFields;\r\n          this.showFields = this.authDataSource.showFields;\r\n          console.log('可分配的业务数据');\r\n          console.log(this.authDataSource);\r\n          console.log(this.canAssignDatas);\r\n          console.log(this.showFields);\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n  iconClass({ FType }: any): any {\r\n    return {\r\n      'k-i-folder': FType.toString() === '0',\r\n      'k-i-gear': FType.toString() === '1',\r\n      'k-icon': true\r\n    };\r\n  }\r\n  /**************************权限字段----结束------*********************************************/\r\n\r\n  // 权限字段变化时，展示权限字段的分配结果\r\n  BuildResultPanel() {\r\n    this.dataItems = Array<PanelBarItemModel>();\r\n    this.auresults.forEach((result: AuresultEntity) => {\r\n      const item = <PanelBarItemModel>{\r\n        title: result.groupId, content: result,\r\n        expanded: true\r\n      };\r\n      this.dataItems.push(item);\r\n    });\r\n  }\r\n\r\n  /**************************数据操作事件----开始------*********************************************/\r\n  // TODO 打开数据操作窗口\r\n  openAuthOpDialog(): void {\r\n    // TODO 打开业务操作窗口\r\n  }\r\n\r\n  // 查看時，確定按鈕不可用\r\n  getCssOp(): string {\r\n    if (this.canEditOp === true) {\r\n      return 'btn btn-sm  mr-2  btn-primary';\r\n    } else {\r\n      return 'btn btn-sm  mr-2';\r\n    }\r\n  }\r\n\r\n  // TODO 根据数据操作构造显示的权限数据操作名称\r\n  BuildDisplayAuthops(authOps: AuthoperationEntity[]): string[] {\r\n    if (isNullOrUndefined(authOps)) {\r\n      return null;\r\n    }\r\n    const authopNames = new Array<string>();\r\n    authOps.forEach(x => { authopNames.push(x.name); });\r\n    return authopNames;\r\n  }\r\n\r\n\r\n  // TODO 显示分配的权限对象、权限操作弹出框\r\n  showAuthopsHelp(groupId: string, canEdit: boolean): void {\r\n    this.canEditOp = canEdit;\r\n\r\n    this.checkedKeys = [];\r\n    this.czTreeNavDialog = true;\r\n    this.curResultGroup = this.auresults.find(x => x.groupId === groupId);\r\n    this.curResultGroup.authorizations.forEach(element => {\r\n      // this.checkedKeys.push(element.id + '~' + element.name);\r\n      if (isNullOrUndefined(element.authOps) === false) {\r\n        element.authOps.forEach((op) => { this.checkedKeys.push(element.id + '~' + element.name + '~' + op.id + '~' + op.name); });\r\n      }\r\n    });\r\n    this.curResultGroupSelect = this.curResultGroup;\r\n\r\n    // TODO 应当记录原被选中的，和最终被选中的进行比对\r\n  }\r\n  // 关闭 权限对象、权限操作弹出框\r\n  closeAuthopsHelp(): void {\r\n    this.czTreeNavDialog = false;\r\n    this.curResultGroup.authorizations = [];\r\n    const authArray = [];\r\n    let i = 0;\r\n\r\n    // 先获取分配的权限对象\r\n    this.checkedKeys.forEach((dataitem) => {\r\n      const s = dataitem.split('~');\r\n      if (authArray.length === 0) {\r\n        authArray.push({ id: s[0], name: s[1], authOps: [] });\r\n        i++;\r\n        // 此处 权限对象、数据操作 都是按顺序排列，先权限对象然后数据操作，再权限对象、数据操作，因此此处可以按照下述方式逐一添加权限对象\r\n      } else if (!(authArray[i - 1].id === s[0])) {\r\n        authArray.push({ id: s[0], name: s[1], authOps: [] });\r\n        i++;\r\n      }\r\n    });\r\n\r\n    // 获取分配的权限对象下的数据操作\r\n    authArray.forEach((authorization) => {\r\n      const authOps = this.checkedKeys.filter(x => x.split('~').length === 4 && x.split('~')[0] === authorization.id);\r\n      if (!isNullOrUndefined(authOps)) {\r\n        authOps.forEach((dataitem) => {\r\n          const op = dataitem.split('~');\r\n          authorization.authOps.push({ id: op[2], name: op[3], parentId: op[0] });\r\n        });\r\n        this.curResultGroup.authorizations.push(authorization);\r\n      }\r\n\r\n    });\r\n\r\n    // 手工更新DataStorage\r\n    const entity = this.resultRepository.getEntityById(this.curResultGroup.groupId);\r\n    entity.authorizations = this.curResultGroup.authorizations;\r\n    console.log('closeAuthopsHelp:');\r\n    console.log(entity.authorizations);\r\n\r\n  }\r\n\r\n  // 弹出框 分配的权限对象、权限操作控件特性\r\n  public get checkableSettings(): CheckableSettings {\r\n    return {\r\n      checkChildren: true,\r\n      checkParents: true,\r\n      enabled: true,\r\n      mode: 'multiple'\r\n    };\r\n  }\r\n\r\n  /**************************数据操作事件----结束------*********************************************/\r\n\r\n\r\n  /**************************业务数据事件----开始------*********************************************/\r\n  // 弹出框 分配的业务数据\r\n  public get selectableSettings(): SelectableSettings {\r\n    return {\r\n      checkboxOnly: true,\r\n      mode: 'multiple',\r\n      enabled: true\r\n    };\r\n  }\r\n\r\n  // 查看時，確定按鈕不可用\r\n  getCssData(): string {\r\n    if (this.canEditData === true) {\r\n      return 'btn btn-sm  mr-2  btn-primary';\r\n    } else {\r\n      return 'btn btn-sm  mr-2';\r\n    }\r\n  }\r\n\r\n\r\n  ShowDatasHelp(groupId: string, canEdit: boolean): void {\r\n    //  已经分配的数据自动选中\r\n    this.checkedDataKeys = [];\r\n    this.isAllData = false;\r\n    this.checkedDataKeys.forEach(data => console.log(data));\r\n    this.canEditData = canEdit;\r\n    this.curResultGroup = this.auresults.find(x => x.groupId === groupId);\r\n    const findAll = this.curResultGroup.datas.find(x => x.data === '*');\r\n    if (isNullOrUndefined(findAll)) {\r\n      this.curResultGroup.datas.forEach((data) => {\r\n        this.checkedDataKeys.push(data.data);\r\n      });\r\n    } else {\r\n      this.isAllData = true;\r\n      // TODO  如何搞成 直接选中全部\r\n      this.canAssignDatas.forEach((data) => {\r\n        this.checkedDataKeys.push(data.id);\r\n      });\r\n    }\r\n    this.dataTreeNavDialog = true;\r\n  }\r\n\r\n  BuildDisplayData(data: any): string {\r\n    if (isNullOrUndefined(data.find(x => x.data === '*'))) {\r\n      return '部分权限';\r\n    }\r\n    return '全部权限';\r\n  }\r\n\r\n  closeDataHelp() {\r\n    this.dataTreeNavDialog = false;\r\n    this.curResultGroup.datas = [];\r\n    if (this.isAllData) {\r\n      const bizdataDto = new BizDataDTO();\r\n      bizdataDto.data = '*';\r\n      this.curResultGroup.datas.push(bizdataDto);\r\n    } else {\r\n      // 获取分配的业务数据，TODO  assid1\r\n      this.checkedDataKeys.forEach((dataitem) => {\r\n        const bizdataDto = new BizDataDTO();\r\n        bizdataDto.data = dataitem;\r\n        this.curResultGroup.datas.push(bizdataDto);\r\n      });\r\n    }\r\n    // 手工更新DataStorage\r\n    const entity = this.resultRepository.getEntityById(this.curResultGroup.groupId);\r\n    entity.datas = this.curResultGroup.datas;\r\n  }\r\n\r\n  checkClick() {\r\n    this.isAllData = !this.isAllData;\r\n    if (this.isAllData) {\r\n      // TODO  如何搞成 直接选中全部\r\n      this.canAssignDatas.forEach((data) => {\r\n        this.checkedDataKeys.push(data.id);\r\n      });\r\n    } else {\r\n      this.checkedDataKeys = [];\r\n    }\r\n  }\r\n  /**************************业务数据事件----结束------*********************************************/\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authassign-view/authassign-view.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonsModule } from '@progress/kendo-angular-buttons';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { CommandModule, RestfulService } from '@farris/devkit';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthassignViewComponent } from './authassign-view/authassign-view.component';\r\nimport { AuthassignRoutingModule } from './authassign.routing.module';\r\nimport { AuthfieldDOMAIN_PROVIDERS } from './authfield-tree/domain/index';\r\nimport { AuthfieldTreeAPP_PROVIDERS, AuthfieldCommandHandlers } from './authfield-tree/app/index';\r\nimport { AuresultDOMAIN_PROVIDERS } from './auresultgroup/domain/index';\r\nimport { AuresultAPP_PROVIDERS } from './auresultgroup/app/index';\r\nimport { AuthassignSession } from './shared/session';\r\nvar AuthassignModule = /** @class */ (function () {\r\n    function AuthassignModule() {\r\n    }\r\n    AuthassignModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                CommonModule,\r\n                AuthassignRoutingModule,\r\n                ButtonsModule,\r\n                TreeViewModule,\r\n                GridModule,\r\n                CommandModule.setup(AuthfieldCommandHandlers, []),\r\n                FormsModule,\r\n                ReactiveFormsModule,\r\n                LayoutModule\r\n            ],\r\n            entryComponents: [],\r\n            declarations: [\r\n                AuthassignViewComponent\r\n            ],\r\n            exports: [],\r\n            providers: [\r\n                AuthfieldDOMAIN_PROVIDERS,\r\n                AuthfieldTreeAPP_PROVIDERS,\r\n                AuresultDOMAIN_PROVIDERS,\r\n                AuresultAPP_PROVIDERS,\r\n                AuthfieldCommandHandlers,\r\n                RestfulService,\r\n                AuthassignSession\r\n            ]\r\n        })\r\n    ], AuthassignModule);\r\n    return AuthassignModule;\r\n}());\r\nexport { AuthassignModule };\r\n//# sourceMappingURL=authassign.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/authassign/authassign.module.js\n// module id = ./src/app/modules/authassign/authassign.module.js\n// module chunks = authassign.module","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthassignViewComponent } from './authassign-view/authassign-view.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: AuthassignViewComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nclass AuthassignRoutingModule {}\r\n\r\nexport { AuthassignRoutingModule };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authassign.routing.module.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgBindingData, BindingData } from '@farris/devkit';\r\nimport { AuthfieldTreeRepository, AuthfieldEntity } from '../domain/index';\r\n\r\n@Injectable()\r\n@NgBindingData({\r\n  entity: AuthfieldEntity,\r\n  repository: AuthfieldTreeRepository\r\n})\r\nclass AuthfieldTreeBindingdata extends BindingData {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\nexport { AuthfieldTreeBindingdata\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/app/authfield-tree-bindingdata.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NgForm, Form, NgFormControl, NgChildForm, NgChildFormArray } from '@farris/devkit';\r\nimport { AuthfieldTreeBindingdata} from './authfield-tree-bindingdata';\r\n\r\n@Injectable()\r\n@NgForm({\r\n  bindingData: AuthfieldTreeBindingdata\r\n})\r\nclass AuthfieldTreeForm extends Form {\r\n\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n\r\n  /**\r\n   * id\r\n   */\r\n  @NgFormControl({\r\n    name: 'Id',\r\n    binding: 'FID'\r\n  })\r\n  Id: FormControl;\r\n\r\n  /**\r\n   * code\r\n   */\r\n  @NgFormControl({\r\n    name: 'code',\r\n    binding: 'FCode'\r\n  })\r\n  Code: FormControl;\r\n\r\n  /**\r\n   * 名称\r\n   */\r\n  @NgFormControl({\r\n    name: 'name',\r\n    binding: 'FName'\r\n  })\r\n  Name: FormControl;\r\n\r\n  /**\r\n   * 业务对象\r\n   */\r\n  @NgFormControl({\r\n    name: 'type',\r\n    binding: 'FType'\r\n  })\r\n  Type: FormControl;\r\n}\r\n\r\n\r\nexport {AuthfieldTreeForm };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/app/authfield-tree-form.ts","import { Injector, Injectable } from '@angular/core';\r\nimport { NgViewModel, ViewModel,  NgCommand } from '@farris/devkit';\r\n\r\nimport { AuthfieldTreeBindingdata } from './authfield-tree-bindingdata';\r\nimport { AuthfieldTreeForm } from './authfield-tree-form';\r\n//  import { AuthfieldTreeStatemachine } from './authfield-tree-statemachine';\r\n//  import { AuthfieldTreeUistate} from './authfield-tree-uistate';\r\n\r\n/**\r\n * 视图模型\r\n */\r\n@Injectable()\r\n@NgViewModel({\r\n  children: [],\r\n  binding: AuthfieldTreeBindingdata,\r\n  form: AuthfieldTreeForm\r\n  // stateMachine: AuthfieldTreeStatemachine,\r\n})\r\nclass AuthfieldTreeViewmodel extends ViewModel {\r\n\r\n//  public uiState: AuthfieldTreeUistate;\r\n  /**\r\n   * 构造函数\r\n   */\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n    //  this.uiState = this.injector.get(AuthfieldTreeUistate);\r\n  }\r\n\r\n  /**\r\n   * 表单加载\r\n   */\r\n  @NgCommand({\r\n    name: 'formLoad'\r\n   })\r\n  public formLoad() {}\r\n}\r\n\r\nexport { AuthfieldTreeViewmodel };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/app/authfield-tree.viewmodel.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { AuthfieldService } from '../../domain/index';\r\n// import { AuthfieldTreeUistate } from '../../app/authfield-tree-uistate';\r\n// import { AuthfieldTreeStatemachine } from '../../app/authfield-tree-statemachine';\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'formLoad'\r\n})\r\nclass AuthfieldLoadHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    public dataService: AuthfieldService\r\n    // private uiState: AuthfieldTreeUistate,\r\n    // private stateMachine: AuthfieldTreeStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('loadData', () => {\r\n        // this.uiState.action = 'load';\r\n        this.dataService.getdata();\r\n    });\r\n\r\n  }\r\n}\r\n\r\nexport { AuthfieldLoadHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/app/handler/authfield-tree-load.handler.ts","import { AuthfieldLoadHandler } from './authfield-tree-load.handler';\r\nimport { AuresultLoadHandler} from '../../../auresultgroup/app/handler/load.handler';\r\nimport { AuresultAddHandler} from '../../../auresultgroup/app/handler/add.handler';\r\nimport { AuresultEditHandler } from '../../../auresultgroup/app/handler/edit.handler';\r\nimport { AuresultSaveHandler } from '../../../auresultgroup/app/handler/save.handler';\r\nimport { CloseHandler } from '../../../auresultgroup/app/handler/close.handler';\r\nconst AuthfieldCommandHandlers = [\r\n    AuthfieldLoadHandler,\r\n    AuresultLoadHandler,\r\n    AuresultAddHandler,\r\n    AuresultEditHandler,\r\n    AuresultSaveHandler,\r\n    CloseHandler\r\n];\r\n\r\nexport { AuthfieldCommandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/app/handler/index.ts","import { Provider } from '@angular/core';\r\nimport { AuthfieldTreeBindingdata } from './authfield-tree-bindingdata';\r\nimport { AuthfieldTreeForm } from './authfield-tree-form';\r\n// import { AuthfieldTreeStatemachine } from './authfield-tree-statemachine';\r\nimport { AuthfieldTreeViewmodel } from './authfield-tree.viewmodel';\r\n// import { AuthfieldTreeUistate } from './authfield-tree-uistate';\r\nimport { AuthfieldCommandHandlers } from './handler/index';\r\n\r\n\r\nconst AuthfieldTreeAPP_PROVIDERS: Provider[] = [\r\n    AuthfieldTreeBindingdata,\r\n    AuthfieldTreeForm,\r\n    // AuthfieldTreeUistate,\r\n    AuthfieldTreeViewmodel\r\n    // AuthfieldTreeStatemachine\r\n];\r\n\r\nexport {\r\n    AuthfieldTreeBindingdata,\r\n    // AuthfieldTreeStatemachine,\r\n    AuthfieldTreeForm,\r\n    // AuthfieldTreeUistate,\r\n    AuthfieldTreeViewmodel,\r\n    AuthfieldTreeAPP_PROVIDERS,\r\n    AuthfieldCommandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/app/index.ts","import { Injectable } from '@angular/core';\r\nimport { AuthFieldTreeDatastorage } from './authfield-tree-datastorage';\r\nimport { authFieldData } from './entities/authfielddata';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport { AuthassignSession } from '../../shared/session';\r\n\r\n@Injectable()\r\nexport class AuthfieldService {\r\n    constructor(\r\n        public rest: RestfulService,\r\n        public dataStorage: AuthFieldTreeDatastorage\r\n        , public session: AuthassignSession\r\n    ) { }\r\n\r\n    getdata(): any {\r\n        const headers = this.session.getHeader();\r\n        const url = this.session.getAuthFieldPath();\r\n        this.rest.get(url, null, headers).subscribe((res: any) => {\r\n            console.log(res);\r\n            if (res instanceof Array) {\r\n                res.forEach((item) => { // kendoUi treeview parentid 为第一级的时候 必须undefined\r\n                    if (item.parentId === '') {\r\n                        item.parentId = undefined;\r\n                    }\r\n                });\r\n                this.dataStorage.load(res);\r\n            } else {\r\n                if (res.parentId === '') {\r\n                    res.parentId = undefined;\r\n                }\r\n                this.dataStorage.load([res]);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/domain/authfield-service.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { MemoryStorage } from '@farris/devkit';\r\n\r\n@Injectable()\r\nclass AuthFieldTreeDatastorage extends MemoryStorage {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\nexport {\r\n  AuthFieldTreeDatastorage\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/domain/authfield-tree-datastorage.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgRepository, Repository } from '@farris/devkit';\r\nimport { AuthFieldTreeDatastorage } from './authfield-tree-datastorage';\r\nimport { AuthfieldEntity } from './entities/authfield.entity';\r\n\r\n@Injectable()\r\n@NgRepository({\r\n  from : AuthFieldTreeDatastorage,\r\n  entityType : AuthfieldEntity\r\n})\r\nclass AuthfieldTreeRepository extends Repository<AuthfieldEntity> {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\nexport { AuthfieldTreeRepository };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/domain/authfield-tree-repository.ts","import { Entity, NgField, NgObject, EntityList, NgList } from '@farris/devkit';\r\n\r\n/**\r\n * 权限字段实体\r\n */\r\nexport class AuthfieldEntity extends Entity {\r\n\r\n    /**\r\n     * Id\r\n     */\r\n    @NgField({\r\n        dataField: 'id',\r\n        primary: true\r\n    })\r\n    FID: string;\r\n\r\n    /**\r\n     * code\r\n     */\r\n    @NgField({\r\n        dataField: 'code'\r\n    })\r\n    FCode: string;\r\n\r\n    /**\r\n     * name\r\n     */\r\n    @NgField({\r\n        dataField: 'name'\r\n    })\r\n    FName: string;\r\n\r\n\r\n    /**\r\n     * 类型：0导航，1权限字段\r\n     */\r\n    @NgField({\r\n        dataField: 'type'\r\n    })\r\n    FType: string;\r\n\r\n\r\n    /**\r\n     * 父节点  //NgField、NgList、NgObject,注意此处必须是id必须小写，否则树控件加载有问题\r\n     */\r\n    @NgField({\r\n        dataField: 'parentId',\r\n    })\r\n    FParentID: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/domain/entities/authfield.entity.ts","import { Provider } from '@angular/core';\r\nimport { AuthFieldTreeDatastorage } from './authfield-tree-datastorage';\r\nimport { AuthfieldService } from './authfield-service';\r\nimport { AuthfieldTreeRepository } from './authfield-tree-repository';\r\nimport { AuthfieldEntity } from './entities/authfield.entity';\r\n\r\nconst AuthfieldDOMAIN_PROVIDERS: Provider[] = [\r\n    AuthFieldTreeDatastorage,\r\n    AuthfieldService,\r\n    AuthfieldTreeRepository\r\n];\r\n\r\nexport {\r\n    AuthfieldEntity,\r\n    AuthFieldTreeDatastorage,\r\n    AuthfieldService,\r\n    AuthfieldTreeRepository,\r\n    AuthfieldDOMAIN_PROVIDERS\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/authfield-tree/domain/index.ts","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class AuthassignSession {\r\n    public sessionId: string;\r\n    // public currentUrl = 'http://127.0.0.1:5000';\r\n    // public currentUrl = window.localStorage.getItem('ip');\r\n\r\n    // 权限所有者标识  TODO 命令不支持传参数，暂时这么处理\r\n    public ownerId: string;\r\n\r\n    // 权限所有者类型  TODO 命令不支持传参数，暂时这么处理\r\n    public ownerType: number;\r\n\r\n    // 权限字段  TODO 命令不支持传参数，暂时这么处理\r\n    public authField: string;\r\n\r\n    //  TODO 命令不支持传参数，暂时这么处理\r\n    public packageId: string;\r\n\r\n    // 年度  TODO 命令不支持传参数，暂时这么处理\r\n    public year: string;\r\n\r\n    // 增加的分组  TODO Farris框架暂不支持 新增和删除集合，暂时这么处理\r\n    public addGroupIds: string[] = new Array<string>();\r\n\r\n    // 删除的分组  TODO Farris框架暂不支持 新增和删除集合，暂时这么处理\r\n    public delGroupIds: string[] = new Array<string>();\r\n\r\n    // 路由过来的菜单ID\r\n    public funcId: string;\r\n\r\n\r\n      /**\r\n     * 获取岗位维护当前模块的路由地址\r\n     */\r\n    getPositionManagerRouter (): string {\r\n        // user-manager是在数据库里配置的\r\n        const frameWorkUrl = '/main/position-manager/' + this.funcId + '/positions';\r\n        return frameWorkUrl;\r\n    }\r\n\r\n    /**\r\n    * 权限分配结果路径\r\n    */\r\n    getResultPath(): any {\r\n        const path = `/api/runtime/sys/v1.0/assignresults`;\r\n        return path;\r\n    }\r\n\r\n    /**\r\n    * 权限字段路径\r\n    */\r\n    getAuthFieldPath(): any {\r\n        const path = `/api/runtime/sys/v1.0/authFields`;\r\n        return path;\r\n    }\r\n\r\n    /**\r\n    * 权限对象路径\r\n    */\r\n    getAuthorizationPath(): any {\r\n        const path = `/api/runtime/sys/v1.0/authorizations`;\r\n        return path;\r\n    }\r\n\r\n\r\n    /**\r\n     * 构造Header\r\n     */\r\n    getHeader() {\r\n\r\n        // 测试用 session写死\r\n        // const headers = new HttpHeaders().set('SessionId', '26715fcc-862f-4f5d-ac6b-38e8ff0d0a7e');\r\n        const headers = new HttpHeaders().set('SessionId', this.sessionId);\r\n        return { headers };\r\n    }\r\n\r\n    /**\r\n     * 获取上下文中的用户\r\n     */\r\n    getCurrentUserId(): string {\r\n\r\n        // 测试用写死\r\n        return 'lilitr';\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/authassign/shared/session.ts"],"sourceRoot":"webpack:///"}