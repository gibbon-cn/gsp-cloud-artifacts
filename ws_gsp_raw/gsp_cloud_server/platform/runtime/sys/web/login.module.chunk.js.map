{"version":3,"sources":["./src/app/login_module/component/login/login.component.css","./src/app/login_module/component/login/login.component.html","./src/app/login_module/component/login/login.component.ts","./src/app/login_module/containers/login/login.container.component.css","./src/app/login_module/containers/login/login.container.component.html","./src/app/login_module/containers/login/login.container.component.ts","./src/app/login_module/login.module.ts","./src/app/login_module/login.route.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["module.exports = \"/* .login-logo-name {\\r\\n    font-size: 140px;\\r\\n    font-weight: 800;\\r\\n    letter-spacing: -10px;\\r\\n}\\r\\n.middle-box  {\\r\\n    width: 300px;\\r\\n    max-width: 400px;\\r\\n    z-index: 100;\\r\\n    margin: 0 auto;\\r\\n    padding-top: 40px;\\r\\n}\\r\\n\\r\\n.more-sign h6 {\\r\\n    position: relative;\\r\\n    margin: 0 0 10px;\\r\\n    font-size: 16px;\\r\\n    color: #b5b5b5;\\r\\n    text-align: center;\\r\\n    line-height: 24px;\\r\\n}\\r\\n\\r\\n.more-sign h6:before {\\r\\n    left: 30px\\r\\n}\\r\\n\\r\\n.more-sign h6:after,.more-sign h6:before {\\r\\n    content: \\\"\\\";\\r\\n    border-top: 1px solid #b5b5b5;\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    width: 80px;\\r\\n    top: 10px;\\r\\n}\\r\\n.auth-login-area{\\r\\n  border:1px solid #ddd;\\r\\n} */\\r\\n\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login_module/component/login/login.component.css\n// module id = ./src/app/login_module/component/login/login.component.css\n// module chunks = login.module","module.exports = \"<div class=\\\"auth-form-container\\\">\\r\\n  <div class=\\\"row m-0\\\">\\r\\n    <div class=\\\"col-12 col-md-6 p-0 d-flex login-log-container\\\">\\r\\n      <div class=\\\"login-logo align-self-center position-relative\\\">\\r\\n        <h1  [ngClass]='{\\\"logo-en\\\":languageType==\\\"en\\\"}'>{{languageText[languageType][\\\"logoText\\\"]}}</h1>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-12 col-md-6 p-0\\\">\\r\\n      <section class=\\\" login-section\\\">\\r\\n          <form class=\\\"login-form\\\" action=\\\"#\\\" [formGroup]=\\\"myForm\\\">  \\r\\n           <h2>{{languageText[languageType][\\\"loginText\\\"]}}</h2>\\r\\n              <div class=\\\"login-lg-area\\\">\\r\\n                <span class=\\\"login-lg-text mr-2\\\">Language / 语言</span>\\r\\n                <div class=\\\"btn-group login-lg-dropdown\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn p-0 m-0 bg-transparent dropdown-toggle\\\" (click)='languageDropdown=true;'>\\r\\n                      <span class=\\\"login-lg\\\" [ngClass]='{\\\"lg-zh-cn\\\":languageType==\\\"zh-CHS\\\",\\\"lg-en\\\":languageType==\\\"en\\\"}'></span>\\r\\n                    </button>\\r\\n                    <div class=\\\"dropdown-menu p-1\\\" [ngClass]='{\\\"d-block\\\":languageDropdown}' (mouseleave)='languageDropdown=false;'>\\r\\n                      <a class=\\\"dropdown-item border-bottom px-3\\\" (click)='changeLanguage(\\\"zh-CHS\\\")'>\\r\\n                          <span class=\\\"login-lg lg-zh-cn align-middle mr-2\\\"></span>中文\\r\\n                      </a>\\r\\n                      <a class=\\\"dropdown-item px-3\\\" (click)='changeLanguage(\\\"en\\\")'>\\r\\n                          <span class=\\\"login-lg lg-en align-middle mr-2\\\"></span>EngLish\\r\\n                      </a>\\r\\n                    </div>\\r\\n                  </div>\\r\\n              </div>\\r\\n              <select class=\\\"custom-select w-100\\\" formControlName=\\\"Tenant\\\" [(ngModel)] = 'curtTenantId'>\\r\\n                  <option *ngFor=\\\"let item of tenants\\\" [value]=\\\"item.id\\\">{{item.name}}</option>\\r\\n              </select> \\r\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder='{{languageText[languageType][\\\"nameRemind\\\"]}}' autocomplete=\\\"off\\\" required   id=\\\"userName\\\" name=\\\"userName\\\" [formControl]=\\\"myForm.get('userName')\\\" />\\r\\n              <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder='{{languageText[languageType][\\\"passwordRemind\\\"]}}' autocomplete=\\\"off\\\" required   id=\\\"passWord\\\" name=\\\"passWord\\\" [formControl]=\\\"myForm.get('passWord')\\\" />       \\r\\n              <div class=\\\"clearfix\\\">\\r\\n                  <div class=\\\"form-check float-left remember-info\\\">\\r\\n                      <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" value=\\\"\\\" id=\\\"rememberInfo\\\">\\r\\n                      <label class=\\\"form-check-label p-0\\\" for=\\\"rememberInfo\\\">{{languageText[languageType][\\\"rememberInfo\\\"]}}</label>\\r\\n                    </div>\\r\\n                  <a class=\\\"float-right\\\">{{languageText[languageType][\\\"recoverPassword\\\"]}}</a>\\r\\n              </div>\\r\\n              \\r\\n              <div class=\\\"form-actions\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-login block w-100\\\" (click)=\\\"handleLogin()\\\">{{languageText[languageType][\\\"loginBtn\\\"]}}</button>              \\r\\n                <p class=\\\"text-center btn-regist\\\">\\r\\n                    <a href=\\\"\\\">{{languageText[languageType][\\\"regist\\\"]}}</a>\\r\\n                </p>\\r\\n                <label>------------------ {{languageText[languageType][\\\"inspurId\\\"]}}------------------</label>\\r\\n                <p class=\\\"text-center btn-regist\\\">\\r\\n                  <a href=\\\"{{redirectUri}}\\\">\\r\\n                    <img src=\\\"assets/img/InspurId.png\\\" width=\\\"32\\\" height=\\\"32\\\">\\r\\n                  </a>\\r\\n                </p>\\r\\n                <div  *ngIf=\\\"errorMessage\\\" class=\\\"alert alert-warning p-1  login-tips\\\">\\r\\n                   {{languageText[languageType][\\\"errorRemind\\\"]}}\\r\\n                </div>\\r\\n                \\r\\n              </div>\\r\\n            </form>\\r\\n      </section>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login_module/component/login/login.component.html\n// module id = ./src/app/login_module/component/login/login.component.html\n// module chunks = login.module","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { tap } from 'rxjs/operators';\r\nimport { environment } from '../../../../environments/environment';\r\nimport { Authenticate } from '../../../models/auth.model';\r\nimport { AuthService } from '../../../services/authservice/auth.service';\r\nimport { FuncsService } from '../../../../app/rtf-common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  // 是否显示下拉\r\n  languageDropdown = false;\r\n  languageType = 'zh-CHS';\r\n  languageText = {\r\n    'zh-CHS': {\r\n      'logoText': '企业数字化创新云平台',\r\n      'loginText': '登录',\r\n      'loginBtn': '登录',\r\n      'rememberInfo': '记录登录信息',\r\n      'recoverPassword': '找回密码',\r\n      'nameRemind': '请输入用户或者邮箱',\r\n      'passwordRemind': '请输入密码',\r\n      'regist': '注册',\r\n      'errorRemind': '用户名或密码错误',\r\n      'tenantlst': ['浪潮集团', '鲁能集团', '铁塔公司'],\r\n      'inspurId': '合作网站账号登录',\r\n      'domainPath': '请输入域名'\r\n    },\r\n    'en': {\r\n      'logoText': 'Cloud Platform for Digtal Business',\r\n      'loginText': 'Log On',\r\n      'loginBtn': 'Logon',\r\n      'rememberInfo': 'Remember me',\r\n      'recoverPassword': 'Forget password?',\r\n      'nameRemind': 'User Name or Email',\r\n      'passwordRemind': 'Password',\r\n      'regist': 'Register',\r\n      'errorRemind': 'Wrong user name or password',\r\n      'tenantlst': ['Inspur', 'luneng', 'tieta'],\r\n      'inspurId': 'Partner Website Login',\r\n      'domainPath': 'DomainPath'\r\n    }\r\n  };\r\n\r\n  @Input()\r\n  set pending(isPending: boolean) {\r\n    if (typeof isPending === 'boolean' && isPending === true) {\r\n      this.myForm.disable();\r\n    } else {\r\n      this.myForm.enable();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  @Input() errorMessage: string | null;\r\n\r\n  @Output() submitted = new EventEmitter<Authenticate>();\r\n\r\n  myForm: FormGroup;\r\n  languages: any;\r\n  // languages: string[] = ['简体中文', '英文'];\r\n  curLanguage: any;\r\n\r\n  // todo:ip临时写死\r\n  redirectUri: string;\r\n   // 'https://id.inspuronline.com/oauth2.0/authorize?response_type=code&client_id=638b0335-fee6-495b-899b-8269d6b46e89&redirect_uri\r\n    // =http://10.24.19.140:5000/api/runtime/sys/v1.0/Authentication/InspurIdClient';\r\n\r\n  authenService: any;\r\n  // tenantLst: any;\r\n  tenants: any[];\r\n  curTenant: string;\r\n  curtTenantId: number;\r\n  clientId: string;\r\n  authenTypes: string[];\r\n  curAuthenType: string;\r\n\r\n\r\n  constructor(private fb: FormBuilder, authService: AuthService, private functionService: FuncsService, private router: Router) {\r\n    this.myForm = this.fb.group({\r\n      'language': ['zh-CHS', Validators.required],\r\n      'userName': ['', Validators.required],\r\n      'passWord': ['', Validators.required],\r\n      'Tenant': [this.curtTenantId, Validators.required]\r\n    });\r\n    this.authenService = authService;\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!environment.local) {\r\n      this.authenService.GetSupportedLanguage().subscribe(res => {\r\n        this.languages = res;\r\n        this.curLanguage = this.languages.find(l => l.code === 'zh-CHS');\r\n        console.log('languages =' + res);\r\n      });\r\n\r\n      // this.tenants = [{\r\n      //   'code': '10000',\r\n      //   'createdTime' : '2018-08-23T09:41:55.059849',\r\n      //   'id' : 10000,\r\n      //   'name' : '浪潮集团'\r\n      // }];\r\n      // this.curTenant = this.tenants[0];\r\n      // this.curtTenantId = 10000;\r\n\r\n      this.authenService.GetTenantList().subscribe(ts => {\r\n          this.tenants = ts;\r\n          console.log('tenant =' + ts);\r\n          this.curTenant = this.tenants[0];\r\n          this.curtTenantId = this.curTenant['id'];\r\n      });\r\n      this.authenService.GetClientSecurity().subscribe(cs => {\r\n        this.clientId = cs.ClientId;\r\n        const uri = window.location.host;\r\n        this.redirectUri =\r\n        'https://id.inspuronline.com/oauth2.0/authorize?response_type=code&client_id=' + this.clientId + '&redirect_uri=http://' + uri + '/api/runtime/sys/v1.0/Authentication/InspurIdClient';\r\n        console.log(cs);\r\n      });\r\n    }\r\n    // this.tenants = this.languageText[this.languageType]['tenantlst'];\r\n    // this.curTenant = this.tenants[0];\r\n  }\r\n\r\n  handleLogin() {\r\n    if (environment.local) {\r\n      this.functionService.loadApps()\r\n        .pipe(\r\n          tap(() => {\r\n            this.router.navigate(['/main/home']);\r\n          })\r\n        ).subscribe();\r\n      return;\r\n    }\r\n    this.myForm.value.language = this.curLanguage['code'];\r\n    if (this.myForm.valid) {\r\n      this.submitted.emit(this.myForm.value);\r\n    }\r\n  }\r\n  test() {\r\n    console.log('mouseout');\r\n  }\r\n  changeLanguage(type: string) {\r\n    switch (type) {\r\n      case 'zh-CHS':\r\n        this.curLanguage = this.languages.find(l => l['code'] === 'zh-CHS');\r\n        break;\r\n      case 'en':\r\n        this.curLanguage = this.languages.find(l => l['code'] === 'en');\r\n        break;\r\n    }\r\n    this.changeTenant(this.curLanguage['code']);\r\n    this.myForm.value.language = this.curLanguage['code'];\r\n    this.languageType = type;\r\n    this.languageDropdown = false;\r\n  }\r\n\r\n  changeTenant(languagecode: string) {\r\n    this.authenService.Geti18nTenant(languagecode).subscribe(it => {\r\n      this.tenants = it;\r\n      console.log('tenant =' + it);\r\n      this.curTenant = this.tenants[0];\r\n      this.curtTenantId = this.curTenant['id'];\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login_module/component/login/login.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login_module/containers/login/login.container.component.css\n// module id = ./src/app/login_module/containers/login/login.container.component.css\n// module chunks = login.module","module.exports = \"<app-login\\r\\n  (submitted)=\\\"onSubmit($event)\\\"\\r\\n  [pending]=\\\"pending\\\"\\r\\n  [errorMessage]=\\\"error\\\">\\r\\n</app-login>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login_module/containers/login/login.container.component.html\n// module id = ./src/app/login_module/containers/login/login.container.component.html\n// module chunks = login.module","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Authenticate } from '../../../models/auth.model';\r\nimport { CacheService } from '../../../../app/rtf-common';\r\nimport { AuthService } from '../../../services/authservice/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login-container',\r\n  templateUrl: './login.container.component.html',\r\n  styleUrls: ['./login.container.component.css']\r\n})\r\nexport class LoginContainerComponent implements OnInit {\r\n  pending: any;\r\n  error: any;\r\n\r\n  constructor(private auth: AuthService, private router: Router, private cache: CacheService) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onSubmit(obj: Authenticate) {\r\n\r\n    this.pending = true;\r\n    this.error = null;\r\n    this.auth.Login(obj).subscribe(\r\n      value => {\r\n        this.pending = false;\r\n        this.error = null;\r\n        this.cache.remove('currentAppID');\r\n        this.cache.remove('activeItemID');\r\n        this.cache.remove('activatedItemID');\r\n        // let redirect = this.cache.get('redirect')\r\n        // console.log(redirect.redirectUrl + redirect.User)\r\n        // if(redirect.redirectUrl !== \"false\"){\r\n        //     console.log(redirect.redirectUrl + '#/ssologin/token/'+ redirect.User)\r\n        //     window.location.href = redirect.redirectUrl + '#/ssologin/token/'+ redirect.User;\r\n        // }\r\n        // else{\r\n        //   return this.router.navigateByUrl('/ssologin/token/'+redirect.User);\r\n        // }\r\n        return this.router.navigate(['/main/home']);\r\n        },\r\n      error => {\r\n        this.pending = false;\r\n        this.error = error;\r\n        this.router.navigate(['/login']);\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login_module/containers/login/login.container.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LoginComponent } from './component/login/login.component';\r\nimport { LoginContainerComponent } from './containers/login/login.container.component';\r\nimport { LoginRootingModule } from './login.route';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    LoginRootingModule\r\n  ],\r\n  declarations: [\r\n    LoginComponent,\r\n    LoginContainerComponent\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login_module/login.module.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginContainerComponent } from './containers/login/login.container.component';\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: LoginContainerComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nexport class LoginRootingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login_module/login.route.ts"],"sourceRoot":"webpack:///"}