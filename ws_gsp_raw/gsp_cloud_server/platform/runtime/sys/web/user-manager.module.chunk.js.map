{"version":3,"sources":["./src/app/modules/common/entity/result-package.ts","./src/app/modules/common/index.ts","./src/app/modules/common/util/sys-manager-util.ts","./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail-app.index.ts","./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.bindingdata.ts","./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.form.ts","./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.statemachine.ts","./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.uistate.ts","./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.viewmodel.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-add.handler.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-cancel.handler.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-close.handler.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-edit.handler.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-form-load.handler.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-save.handler.ts","./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail.hander.index.ts","./src/app/modules/user-manager/gspuser-detail/domain/entities/gspuser-detail.entity.ts","./src/app/modules/user-manager/gspuser-detail/domain/entities/gspuser-extend.entity.ts","./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail-domain.index.ts","./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail.dataservice.ts","./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail.datastorage.ts","./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail.repository.ts","./src/app/modules/user-manager/gspuser-detail/gspuser-detail.component.html","./src/app/modules/user-manager/gspuser-detail/gspuser-detail.component.ts","./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.css","./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.html","./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.ts","./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.css","./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.html","./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.add.handler.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.delete.handler.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.formload.handler.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.save.handler.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/index.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/user-position.bindingdata.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/user-position.uistate.ts","./src/app/modules/user-manager/gspuser-detail/user-position/app/user-position.viewmodel.ts","./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.dataservice.ts","./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.datastorage.ts","./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.entity.ts","./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.repository.ts","./src/app/modules/user-manager/gspuser-detail/user-position/domain/index.ts","./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.css","./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.html","./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.ts","./src/app/modules/user-manager/gspuser-detail/userpassword/domain/password.ts","./src/app/modules/user-manager/gspuser-detail/userpassword/domain/userpassword.dataservice.ts","./src/app/modules/user-manager/gspuser-detail/userpassword/userpassword.component.html","./src/app/modules/user-manager/gspuser-detail/userpassword/userpassword.component.ts","./src/app/modules/user-manager/gspuser-list/app/gspuser-list.bindingdata.ts","./src/app/modules/user-manager/gspuser-list/app/gspuser-list.form.ts","./src/app/modules/user-manager/gspuser-list/app/gspuser-list.statemachine.ts","./src/app/modules/user-manager/gspuser-list/app/gspuser-list.uistate.ts","./src/app/modules/user-manager/gspuser-list/app/gspuser-list.viewmodel.ts","./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-form-load.handler.ts","./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-remove.handler.ts","./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-route.handler.ts","./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-search.handler.ts","./src/app/modules/user-manager/gspuser-list/app/user-list-app.index.ts","./src/app/modules/user-manager/gspuser-list/domain/entities/gspuser-list.entity.ts","./src/app/modules/user-manager/gspuser-list/domain/gspuser-list.dataservice.ts","./src/app/modules/user-manager/gspuser-list/domain/gspuser-list.datastorage.ts","./src/app/modules/user-manager/gspuser-list/domain/gspuser-list.repository.ts","./src/app/modules/user-manager/gspuser-list/domain/user-list-domain.index.ts","./src/app/modules/user-manager/gspuser-list/gspuser-list.component.html","./src/app/modules/user-manager/gspuser-list/gspuser-list.component.ts","./src/app/modules/user-manager/sys-org-tree/domain/index.ts","./src/app/modules/user-manager/sys-org-tree/domain/sys-org.dataservice.ts","./src/app/modules/user-manager/sys-org-tree/domain/sys-org.datastorage.ts","./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.css","./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.html","./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.ts","./src/app/modules/user-manager/user-manager.module.js","./src/app/modules/user-manager/user-manager.route.module.ts"],"names":[],"mappings":"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mB,CAqC/B;IAAD,0BAAC;CAAA;AArC+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbhC;AAAA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACmB;AACI;AACoB;AACtB;AACI;AACe;AACxC;AACoC;AACiB;AACrD;AACsC;AACH;AACnC;AACsC;AACP;AACE;AACjC;AAC8B;AACE;AACP;AACO;AACE;AACX;AACvB,WAAW,qBAAqB;AACT;AACY;AACH;AAChC,WAAW,kBAAkB;AACJ;AACE;AACG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACO;AACR,+C;;;;;;;;;;;;ACzF+D;AACc;AACM;AAGnF,IAAM,MAAM,GAAW;IACrB,UAAU;IACV,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,0FAAoB,EAAE;IAClD,UAAU;IACV,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,gGAAsB,EAAE;IACxD,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;IACpD,uDAAuD;IACvD,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE;CACpC,CAAC;AACF;;GAEG;AACH;;;;;;;;;;EAUE;AAEK,IAAM,2BAA2B,GAAG,6DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC","file":"user-manager.module.chunk.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n/**二元关系实体增量包 */\r\nexport class ResultPackage {\r\n\r\n    constructor () {\r\n        this.removingResults = new Array<string>();\r\n        this.addingResults = new Array<string>();\r\n    }\r\n    /**主体内码 */\r\n    ownerId: string;\r\n    /**授权的客体删除列表 */\r\n    removingResults: Array<string>;\r\n    /**授权的客体增加列表 */\r\n    addingResults: Array<string>;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/common/entity/result-package.ts","\r\nimport { SysManagerUtil } from './util/sys-manager-util';\r\n// import { GSPPositionEntity } from './entity/gspposition.entity';\r\nimport { ResultPackage } from './entity/result-package';\r\n\r\n\r\nexport {\r\n    // SysCommonModule,\r\n    SysManagerUtil,\r\n    // GSPPositionEntity,\r\n    ResultPackage\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/common/index.ts","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport { CacheService } from '@gsp-sys/rtf-common';\r\n\r\n/**\r\n * 系统管理相关session、webapi等公用方法\r\n */\r\n@Injectable()\r\nexport class SysManagerUtil {\r\n\r\n    /** 暂时传递给认证组件用的 */\r\n    curUserId: string;\r\n    isView = false;\r\n\r\n    /**用户webapi */\r\n    public readonly userWebApi: string;\r\n    /**用户岗位关系webapi */\r\n    public readonly userPositionWebApi: string;\r\n    /**系统组织webapi */\r\n    public readonly sysOrgWebApi: string;\r\n    /**岗位webapi */\r\n    public readonly positionWebApi: string;\r\n    /**功能组webapi */\r\n    public readonly roleWebApi: string;\r\n    /**功能组和岗位关系webapi */\r\n    public readonly positionRoleWebApi: string;\r\n    /**功能操作webapi */\r\n    public readonly operationWebApi: string;\r\n\r\n    constructor (\r\n        private sessionCache: CacheService\r\n    ) {\r\n        const apiPath = '/api/runtime/sys/v1.0';\r\n        this.userWebApi = apiPath + '/users';\r\n        this.userPositionWebApi = apiPath + '/user-position';\r\n        this.sysOrgWebApi = apiPath + '/sysOrgs';\r\n        this.positionWebApi = apiPath + '/positions';\r\n        this.roleWebApi = apiPath + '/roles';\r\n        this.positionRoleWebApi = apiPath + '/position-role';\r\n        this.operationWebApi = apiPath + '/funcOperations';\r\n    }\r\n    /**当前用户的sessionId，从缓存里取的 */\r\n    private sessionId: string;\r\n    /** 当前功能的funcId,框架打开功能时路由过来的参数*/\r\n    public funcId: string;\r\n\r\n    /**\r\n     * 获取用户维护当前模块的路由地址\r\n     */\r\n    getUserManageRouter (): string {\r\n        // user-manager是在数据库里配置的\r\n        const frameWorkUrl = '/main/user-manager/' + this.funcId + '/users';\r\n        return frameWorkUrl;\r\n    }\r\n\r\n    /**\r\n     * 获取岗位维护当前模块的路由地址\r\n     */\r\n    getPositionManagerRouter (): string {\r\n        // user-manager是在数据库里配置的\r\n        const frameWorkUrl = '/main/position-manager/' + this.funcId + '/positions';\r\n        return frameWorkUrl;\r\n    }\r\n\r\n    getRoleManagerRouter (): string {\r\n        const frameWorkUrl = '/main/role-manager/' + this.funcId + '/';\r\n        return frameWorkUrl;\r\n    }\r\n    /**\r\n     * 构造Header\r\n     */\r\n    getHeader () {\r\n        this.sessionId = this.getSessionId();\r\n        const headers = new HttpHeaders().set('SessionId', this.sessionId);\r\n        // 此处key必须是headers\r\n        return { headers };\r\n    }\r\n\r\n    /**\r\n     * 获取当前用户的sessionId\r\n     */\r\n    getSessionId (): string {\r\n        return this.sessionCache.get('session');\r\n    }\r\n\r\n    /**Guid生成 */\r\n    getGuid36 (): string {\r\n        function S4 () {\r\n            // tslint:disable-next-line:no-bitwise\r\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/common/util/sys-manager-util.ts","import { Provider } from '@angular/core';\r\nimport { GSPUserDetailBindingData } from './gspuser-detail.bindingdata';\r\nimport { GSPUserDetailForm } from './gspuser-detail.form';\r\nimport { GSPUserDetailStateMachine } from './gspuser-detail.statemachine';\r\nimport { GSPUserDetailViewModel } from './gspuser-detail.viewmodel';\r\nimport {GSPUserDetailUIState } from './gspuser-detail.uistate';\r\nimport { userDetailCommandHandlers } from './handlers/user-detail.hander.index';\r\n\r\nconst USERDETAIL_APP_PROVIDERS: Provider[] = [\r\n  GSPUserDetailBindingData,\r\n  GSPUserDetailForm,\r\n  GSPUserDetailStateMachine,\r\n  GSPUserDetailViewModel,\r\n  GSPUserDetailUIState\r\n];\r\n\r\n// 导出\r\nexport {\r\n  GSPUserDetailBindingData,\r\n  GSPUserDetailForm,\r\n  GSPUserDetailStateMachine,\r\n  GSPUserDetailViewModel,\r\n  GSPUserDetailUIState,\r\n\r\n  USERDETAIL_APP_PROVIDERS,\r\n  userDetailCommandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail-app.index.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgBindingData, BindingData } from '@farris/devkit';\r\nimport { GSPUserDetailEntity, GSPUserDetailRepository } from '../domain/gspuser-detail-domain.index';\r\n\r\n/**\r\n * 用户详情绑定数据\r\n */\r\n@Injectable()\r\n@NgBindingData({\r\n  entity:     GSPUserDetailEntity,\r\n  repository: GSPUserDetailRepository\r\n})\r\nexport class GSPUserDetailBindingData extends BindingData {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.bindingdata.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NgForm, Form, NgFormControl, NgChildForm, NgChildFormArray } from '@farris/devkit';\r\nimport { GSPUserDetailBindingData} from './gspuser-detail.bindingdata';\r\n\r\n/**\r\n * 用户详情页面\r\n */\r\n@Injectable()\r\n@NgForm({\r\n  bindingData: GSPUserDetailBindingData\r\n})\r\nexport class GSPUserDetailForm extends Form {\r\n\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n\r\n  /**\r\n   * 用户编号\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserCode',\r\n    binding: 'code'\r\n  })\r\n  UserCode: FormControl;\r\n\r\n  /**\r\n   * 用户名称\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserName',\r\n    binding: 'name'\r\n  })\r\n  UserName: FormControl;\r\n\r\n  /**\r\n   * 系统组织\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserOrgName',\r\n    binding: 'sysOrgName'\r\n  })\r\n  UserOrgName: FormControl;\r\n  /**\r\n   * 用户分组\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserGroupName',\r\n    binding: 'userGroup'\r\n  })\r\n  UserGroupName: FormControl;\r\n  /**\r\n   * 用户类别\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserType',\r\n    binding: 'typeName'\r\n  })\r\n  UserType: number;\r\n\r\n  /**\r\n   * 描述\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserNote',\r\n    binding: 'note'\r\n  })\r\n  UserNote: FormControl;\r\n\r\n  /**\r\n   * 用户密码\r\n   */\r\n  @NgFormControl(\r\n    {\r\n      name: 'UserPassWord',\r\n      binding: 'passWord'\r\n    }\r\n  )\r\n  UserPassWord: FormControl;\r\n\r\n  /**\r\n   * --------------------------------------------------------------------\r\n   * 个人信息Tab页面\r\n    * --------------------------------------------------------------------\r\n   */\r\n  /**\r\n   * 邮箱\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserEmail',\r\n    binding: 'userExtend.email'\r\n  })\r\n  UserEmail: FormControl;\r\n\r\n  /**\r\n   * 固定电话\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserPhone',\r\n    binding: 'userExtend.phone'\r\n  })\r\n  UserPhone: FormControl;\r\n\r\n\r\n  /**\r\n   * 手机\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserMobilePhone',\r\n    binding: 'userExtend.mobilePhone'\r\n  })\r\n  UserMobilePhone: FormControl;\r\n\r\n  /**\r\n   * 微信\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserWeChat',\r\n    binding: 'userExtend.weChat'\r\n  })\r\n  UserWeChat: FormControl;\r\n  /**\r\n   * QQ\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserQQ',\r\n    binding: 'userExtend.qq'\r\n  })\r\n  UserQQ: FormControl;\r\n\r\n  /**\r\n   * 地址\r\n   */\r\n  @NgFormControl({\r\n    name: 'UserAddress',\r\n    binding: 'userExtend.address'\r\n  })\r\n  UserAddress: FormControl;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.form.ts","import { Injectable } from '@angular/core';\r\nimport {\r\n  StateMachine, NgStatemachine, State, NgState,\r\n  RenderState, NgRenderState, Action, NgAction\r\n} from '@farris/devkit';\r\n\r\n@Injectable()\r\n@NgStatemachine()\r\nexport class GSPUserDetailStateMachine extends StateMachine {\r\n\r\n  /**\r\n   * --------------------------------------------------------------------------------\r\n   * 基本状态定义：查看、编辑、新增\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n\r\n  /**\r\n   * 查看状态\r\n   */\r\n  @NgState({ initialState: true })\r\n  viewState: State;\r\n\r\n  /**\r\n   * 新增状态\r\n   */\r\n  @NgState()\r\n  addState: State;\r\n\r\n  /**\r\n   * 编辑状态\r\n   */\r\n  @NgState()\r\n  editState: State;\r\n\r\n\r\n  /**\r\n   * --------------------------------------------------------------------------------\r\n   * 按钮状态定义\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n\r\n  /**\r\n   * 是否允许新增\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'viewState'\r\n  })\r\n  canAdd: RenderState;\r\n\r\n  /**\r\n   * 是否允许编辑\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'viewState'\r\n  })\r\n  canEdit: RenderState;\r\n\r\n\r\n  /**\r\n   * 是否允许取消\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'addState' || context.state === 'editState'\r\n  })\r\n  canCancel: RenderState;\r\n\r\n  /**\r\n   * 是否允许保存\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'addState' || context.state === 'editState'\r\n  })\r\n  canSave: RenderState;\r\n\r\n  /**\r\n   * 输入控件是否允许输入\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'addState' || context.state === 'editState'\r\n  })\r\n  canInput: RenderState;\r\n\r\n    /**\r\n   * 输入控件是否属于严格编辑，用于控制授权岗位\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'editState'\r\n  })\r\n  canStrictEdit: RenderState;\r\n\r\n  /**\r\n   * --------------------------------------------------------------------------------\r\n   * 详情页面状态切换\r\n   * --------------------------------------------------------------------------------\r\n   */\r\n  @NgAction({transitTo: 'addState' })\r\n  add: Action;\r\n\r\n  @NgAction({ transitTo: 'editState' })\r\n  edit: Action;\r\n\r\n  @NgAction({ transitTo: 'viewState' })\r\n  view: Action;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.statemachine.ts","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * 用户详情界面缓存状态\r\n */\r\n@Injectable()\r\nexport class GSPUserDetailUIState {\r\n\r\n  /**\r\n   * 详情页面用户内码\r\n   */\r\n  dataId: string;\r\n\r\n  /**\r\n   * 动作，路由的时候可能会用\r\n   */\r\n  action: string;\r\n\r\n  /**需要保存用户和岗位 */\r\n  needSaveUserPos = false;\r\n\r\n  /**系统组织帮助 */\r\n  showSysOrgHelpFlag = false;\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.uistate.ts","import { Injector, Injectable } from '@angular/core';\r\nimport { NgViewModel, ViewModel,  NgCommand } from '@farris/devkit';\r\nimport { GSPUserDetailBindingData } from './gspuser-detail.bindingdata';\r\nimport { GSPUserDetailForm } from './gspuser-detail.form';\r\nimport { GSPUserDetailStateMachine } from './gspuser-detail.statemachine';\r\nimport { GSPUserDetailUIState } from './gspuser-detail.uistate';\r\n\r\n\r\n/**\r\n * 用户详情视图模型\r\n */\r\n@Injectable()\r\n@NgViewModel({\r\n  children: [],\r\n  binding: GSPUserDetailBindingData,\r\n  form: GSPUserDetailForm,\r\n  stateMachine: GSPUserDetailStateMachine,\r\n})\r\nexport class GSPUserDetailViewModel extends ViewModel {\r\n\r\n  public uiState: GSPUserDetailUIState;\r\n  public stateMachine: GSPUserDetailStateMachine;\r\n\r\n  /**\r\n   * 构造函数\r\n   */\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n    this.uiState = this.injector.get(GSPUserDetailUIState);\r\n  }\r\n\r\n\r\n  /**\r\n   * 详情页面加载\r\n   */\r\n  @NgCommand({\r\n    name: 'userDetailFormLoad'\r\n   })\r\n  public formLoad() {}\r\n\r\n  /**\r\n   * 新增\r\n   */\r\n  @NgCommand({\r\n    name: 'userDetailAdd'\r\n   })\r\n  public add() {}\r\n\r\n  /**\r\n   * 编辑\r\n   */\r\n  @NgCommand({\r\n    name: 'userDetailEdit'\r\n   })\r\n  public edit() {}\r\n\r\n  /**\r\n   * 保存\r\n   */\r\n  @NgCommand({\r\n    name: 'userDetailSave'\r\n   })\r\n  public save() {}\r\n\r\n  /**\r\n   * 取消\r\n   */\r\n  @NgCommand({\r\n    name: 'userDetailCancel'\r\n   })\r\n  public cancel() {}\r\n\r\n  /**\r\n   * 关闭\r\n   */\r\n  @NgCommand({\r\n    name: 'userDetailClose'\r\n   })\r\n  public close() {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/gspuser-detail.viewmodel.ts","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { GSPUserDetailStateMachine } from '../gspuser-detail.statemachine';\r\nimport { UserPasswordDataService } from '../../userpassword/domain/userpassword.dataservice';\r\nimport { SysManagerUtil } from '../../../../common/util/sys-manager-util';\r\nimport { GSPUserDetailUIState } from '../gspuser-detail.uistate';\r\n\r\n\r\n/**\r\n * 用户添加\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userDetailAdd'\r\n})\r\nexport class UserDetailAddHandler extends CommandHandler {\r\n\r\n  constructor (\r\n    private router: Router,\r\n    private stateMachine: GSPUserDetailStateMachine,\r\n    private userManagerSession: SysManagerUtil,\r\n    private pwdService: UserPasswordDataService,\r\n    private userDetailUIState: GSPUserDetailUIState\r\n\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n    this.addTask('add', () => {\r\n      const addDetailUrl = this.userManagerSession.getUserManageRouter() + '/new';\r\n      this.router.navigate([addDetailUrl, { action: 'add' }]);\r\n      this.userDetailUIState.dataId = 'new';\r\n    });\r\n    // 切换状态\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['add']();\r\n      this.pwdService.clearPwd();\r\n      this.userManagerSession.isView = false;\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-add.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { GSPUserDetailStateMachine } from '../gspuser-detail.statemachine';\r\n\r\n/**\r\n * 界面取消\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userDetailCancel'\r\n})\r\nexport class UserDetailCancelHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private stateMachine: GSPUserDetailStateMachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n    this.addTask('cancel', () => {\r\n      // TODO:撤销变更操作\r\n      console.log('取消');\r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['view']();\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-cancel.handler.ts","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { UserPasswordDataService } from '../../userpassword/domain/userpassword.dataservice';\r\nimport { SysManagerUtil } from '../../../../common/util/sys-manager-util';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userDetailClose'\r\n})\r\nexport class UserDetailCloseHandler extends CommandHandler {\r\n\r\n  constructor (\r\n    private router: Router,\r\n    private userManager: SysManagerUtil,\r\n    private pwdService: UserPasswordDataService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  /**\r\n   * 关闭回列表页\r\n   */\r\n  schedule() {\r\n    this.addTask('close', () => {\r\n      const userListPath = this.userManager.getUserManageRouter();\r\n      this.router.navigateByUrl(userListPath);\r\n      this.pwdService.clearPwd();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-close.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserDetailStateMachine } from '../gspuser-detail.statemachine';\r\nimport { SysManagerUtil } from '../../../../common/util/sys-manager-util';\r\n\r\n/**\r\n * 用户详情编辑\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userDetailEdit'\r\n})\r\nexport class UserDetailEditHandler extends CommandHandler {\r\n\r\n  constructor (\r\n    private stateMachine: GSPUserDetailStateMachine,\r\n    private userSession: SysManagerUtil\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['edit']();\r\n      this.userSession.isView = false;\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-edit.handler.ts","import { GSPUserDetailDataStorage } from './../../domain/gspuser-detail.datastorage';\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserDetailDataService } from '../../domain/gspuser-detail-domain.index';\r\nimport { GSPUserDetailStateMachine } from '../gspuser-detail.statemachine';\r\nimport { GSPUserDetailUIState } from '../gspuser-detail.uistate';\r\n\r\n\r\n/**\r\n * 用户详情页面加载\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userDetailFormLoad'\r\n})\r\nexport class UserDetailFormLoadHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private userDetailService: GSPUserDetailDataService,\r\n    private userDetailStore: GSPUserDetailDataStorage,\r\n    private uiState: GSPUserDetailUIState,\r\n    private stateMachine: GSPUserDetailStateMachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  /**新增或者编辑 */\r\n  schedule() {\r\n    this.addTask('loadData', () => {\r\n      // 新增或者\r\n      const dataId = this.uiState.dataId;\r\n      // 新增\r\n      if (dataId === 'new') {\r\n        this.userDetailService.getNewEmptyUser()\r\n          .subscribe(\r\n          result => {\r\n            this.userDetailStore.load(result);\r\n            this.uiState.dataId = result[0]['id'];\r\n          });\r\n      } else {\r\n        this.userDetailService.getUserById(dataId)\r\n          .subscribe((result: any) => {\r\n          // load方法里为数组,如果单个实体不返回数组那么手工拼成数组\r\n            if (result[0]['id'] === undefined || result[0]['id'] === null || result[0]['id'] === '') {\r\n              alert(`系统中不存在id=${ dataId }的用户`);\r\n              return;\r\n            }\r\n            this.userDetailStore.load(result);\r\n            console.log(result);\r\n        });\r\n      }\r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {\r\n      const action = this.uiState.action;\r\n      this.stateMachine[action]();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-form-load.handler.ts","import { GSPUserDetailDataStorage } from './../../domain/gspuser-detail.datastorage';\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport {\r\n  GSPUserDetailEntity, GSPUserDetailDataService, GSPUserDetailRepository\r\n} from '../../domain/gspuser-detail-domain.index';\r\nimport { GSPUserDetailStateMachine } from '../gspuser-detail.statemachine';\r\nimport { UserPasswordDataService } from '../../userpassword/domain/userpassword.dataservice';\r\nimport { GSPUserDetailUIState } from '../gspuser-detail.uistate';\r\nimport { GSPUserPositionService } from '../../user-position/domain';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\n/**\r\n * 用户详情页面保存\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'userDetailSave',\r\n})\r\nexport class UserDetailSaveHandler extends CommandHandler {\r\n\r\n  constructor (\r\n    private userDetailService: GSPUserDetailDataService,\r\n    private userDetailRep: GSPUserDetailRepository,\r\n    private userDetailStore: GSPUserDetailDataStorage,\r\n    private stateMachine: GSPUserDetailStateMachine,\r\n    private pwdService: UserPasswordDataService,\r\n    private userDetailUIState: GSPUserDetailUIState,\r\n    private userPosService: GSPUserPositionService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule () {\r\n    this.addTask('save', () => {\r\n      const entities = this.userDetailRep.getAllEntities();\r\n      const newUser = entities[0];\r\n      // newUser.sysOrgId = '001';\r\n      newUser.userGroup = 'admin';\r\n      console.log(newUser.data);\r\n      if (this.stateMachine.context.state === 'addState') {\r\n        this.saveAddUser(newUser);\r\n      } else {\r\n        this.saveEditUser(newUser);\r\n      }\r\n    });\r\n  }\r\n\r\n  saveAddUser (user: GSPUserDetailEntity) {\r\n    const pwdErrorMsg = this.pwdService.checkPwdForAdd();\r\n    if (pwdErrorMsg !== '') {\r\n      alert(pwdErrorMsg);\r\n      return;\r\n    }\r\n    this.userDetailService.post(user.data)\r\n      .subscribe(\r\n        userId => {\r\n          // 新增成功后会返回一个用户的内码，务必修改当前状态的用户内码，因为新增成功之前是new\r\n          this.userDetailUIState.dataId = userId;\r\n          // 重新获取用户刷新界面\r\n          this.userDetailService.getUserById(userId)\r\n            .subscribe(result =>\r\n              this.userDetailStore.load(result));\r\n          // 新增密码\r\n          this.pwdService.add(userId);\r\n          // 是否需要保存用户和岗位关系\r\n          if (this.userDetailUIState.needSaveUserPos) {\r\n            this.userPosService.modifyPosByUser().subscribe(() => { });\r\n          }\r\n          // 新增之后应该进入查看状态\r\n          this.stateMachine['edit']();\r\n          alert('用户保存成功!');\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error);\r\n          alert(error.error.Message);\r\n        });\r\n  }\r\n\r\n  saveEditUser (user: GSPUserDetailEntity) {\r\n    const pwdErrorMsg = this.pwdService.checkPwdForEdit();\r\n    if (pwdErrorMsg !== '' && pwdErrorMsg !== 'unchanged') {\r\n      alert(pwdErrorMsg);\r\n      return;\r\n    }\r\n    this.userDetailService.put(user.data)\r\n      .subscribe(() => {\r\n        // 未修改密码\r\n        if (pwdErrorMsg === 'unchanged') {\r\n        } else {\r\n          // 修改用户密码\r\n          this.pwdService.edit(user.id);\r\n        }\r\n        // 是否需要保存用户和岗位关系\r\n        if (this.userDetailUIState.needSaveUserPos) {\r\n          this.userPosService.modifyPosByUser().subscribe(() => { });\r\n        }\r\n        this.stateMachine['edit']();\r\n        alert('用户保存成功!');\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n          console.log(error);\r\n          alert(error.error.Message);\r\n        });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail-save.handler.ts","import { UserDetailFormLoadHandler } from './user-detail-form-load.handler';\r\nimport { UserDetailSaveHandler } from './user-detail-save.handler';\r\nimport { UserDetailCancelHandler } from './user-detail-cancel.handler';\r\nimport { UserDetailCloseHandler } from './user-detail-close.handler';\r\nimport { UserDetailAddHandler } from './user-detail-add.handler';\r\nimport { UserDetailEditHandler } from './user-detail-edit.handler';\r\n\r\n// 用户详情页面命令\r\nexport const userDetailCommandHandlers = [\r\n  UserDetailFormLoadHandler,\r\n  UserDetailSaveHandler,\r\n  UserDetailCloseHandler,\r\n  UserDetailEditHandler,\r\n  UserDetailAddHandler,\r\n  UserDetailCancelHandler,\r\n];\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/app/handlers/user-detail.hander.index.ts","import { GSPUserExtendEntity } from './gspuser-extend.entity';\r\nimport { Entity, NgField,  NgObject } from '@farris/devkit';\r\n\r\n\r\n/**\r\n * 用户详情实体\r\n */\r\nexport class GSPUserDetailEntity extends Entity {\r\n\r\n  /**\r\n   * 用户内码\r\n   */\r\n  @NgField(\r\n    {\r\n      primary: true,\r\n      dataField: 'id'\r\n    }\r\n  )\r\n  id: string;\r\n\r\n  /**\r\n   * 用户编号\r\n   */\r\n  @NgField()\r\n  code: string;\r\n\r\n  /**\r\n   * 用户名称\r\n   */\r\n  @NgField()\r\n  name: string;\r\n\r\n  /**\r\n   * 组织内码\r\n   */\r\n  @NgField()\r\n  sysOrgId: string;\r\n  /**\r\n   * 系统组织\r\n   */\r\n  @NgField()\r\n  sysOrgName: string;\r\n\r\n  /**\r\n   * 用户分组内码\r\n   */\r\n  @NgField()\r\n  userGroup: string;\r\n  /**\r\n   * 用户分组\r\n   */\r\n  @NgField()\r\n  groupName: string;\r\n\r\n  /**\r\n   * 用户类别\r\n   */\r\n  @NgField()\r\n  typeName: string;\r\n\r\n  /**\r\n   * 描述\r\n   */\r\n  @NgField()\r\n  note: string;\r\n\r\n  /**\r\n   * 用户密码\r\n   */\r\n  @NgField()\r\n  passWord: string;\r\n\r\n  /**\r\n   * 用户扩展信息：邮箱，手机等\r\n   */\r\n  @NgObject(GSPUserExtendEntity)\r\n  userExtend: GSPUserExtendEntity;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/domain/entities/gspuser-detail.entity.ts","import { Entity, NgField, EntityList, NgList } from '@farris/devkit';\r\n\r\n\r\n/**\r\n * 用户扩展实体\r\n */\r\nexport class GSPUserExtendEntity extends Entity {\r\n\r\n  /**\r\n   * 用户内码\r\n   */\r\n  @NgField(true)\r\n  userId: string;\r\n\r\n  /**\r\n   * 电子邮箱\r\n   */\r\n  @NgField()\r\n  email: string;\r\n\r\n  /**\r\n   * 移动电话\r\n   */\r\n  @NgField()\r\n  mobilePhone: string;\r\n\r\n  /**\r\n   * 固定电话\r\n   */\r\n  @NgField()\r\n  phone: string;\r\n\r\n  /**\r\n   * QQ\r\n   */\r\n  @NgField()\r\n  qq: string;\r\n  /**\r\n   * WeChat\r\n   */\r\n  @NgField()\r\n  weChat: string;\r\n\r\n    /**\r\n   * 地址\r\n   */\r\n  @NgField()\r\n  address: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/domain/entities/gspuser-extend.entity.ts","import { Provider } from '@angular/core';\r\nimport { GSPUserDetailEntity } from './entities/gspuser-detail.entity';\r\n\r\nimport { GSPUserDetailDataStorage } from './gspuser-detail.datastorage';\r\nimport { GSPUserDetailRepository } from './gspuser-detail.repository';\r\nimport { GSPUserDetailDataService } from './gspuser-detail.dataservice';\r\n\r\n// 详情页面服务提供\r\nconst USERDETAIL_DOMAIN_PROVIDERS: Provider[]  = [\r\n  GSPUserDetailDataStorage,\r\n  GSPUserDetailRepository,\r\n  GSPUserDetailDataService,\r\n];\r\n\r\n/**\r\n * 导出的类和仓库，服务，存储\r\n */\r\nexport {\r\n  GSPUserDetailEntity,\r\n  GSPUserDetailDataStorage,\r\n  GSPUserDetailRepository,\r\n  GSPUserDetailDataService,\r\n  USERDETAIL_DOMAIN_PROVIDERS\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail-domain.index.ts","import { Injectable } from '@angular/core';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { SysManagerUtil } from '../../../common/util/sys-manager-util';\r\n\r\n\r\n/**\r\n * 用户详情信息restful服务\r\n */\r\n@Injectable()\r\nexport class GSPUserDetailDataService {\r\n\r\n  constructor (\r\n    private rest: RestfulService,\r\n    private userManagerSession: SysManagerUtil\r\n  ) {\r\n  }\r\n\r\n  /**\r\n   * 根据用户内码返回用户详情数据\r\n   * @param dataId 需要加载的单个数据\r\n   */\r\n  getUserById (dataId: string): Observable<any> {\r\n    const headers = this.userManagerSession.getHeader();\r\n    return this.rest.get(`${ this.userManagerSession.userWebApi }/${ dataId }`, null, headers);\r\n  }\r\n\r\n  /**绑定界面获取一个新的数据 */\r\n  getNewEmptyUser (): Observable<any> {\r\n    // 后端识别的返回一个空用户\r\n    return this.getUserById('new');\r\n  }\r\n\r\n  /**\r\n   * 新增，保存\r\n   */\r\n  post (data: any): Observable<any> {\r\n    const postUrl = this.userManagerSession.userWebApi;\r\n    return this.rest.post(postUrl, data, null, this.userManagerSession.getHeader());\r\n  }\r\n  /**\r\n   * 编辑，保存\r\n   */\r\n  put (data: any): Observable<any> {\r\n    const putUrl = this.userManagerSession.userWebApi;\r\n    return this.rest.put(putUrl, data, null, this.userManagerSession.getHeader());\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail.dataservice.ts","import { Injectable } from '@angular/core';\r\nimport { MemoryStorage } from '@farris/devkit';\r\n\r\n/**\r\n * 用户详情存储\r\n */\r\n@Injectable()\r\nexport class GSPUserDetailDataStorage extends MemoryStorage {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail.datastorage.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgRepository, Repository } from '@farris/devkit';\r\nimport { GSPUserDetailEntity } from './entities/gspuser-detail.entity';\r\nimport { GSPUserDetailDataStorage } from './gspuser-detail.datastorage';\r\n\r\n/**\r\n * 用户详情页数据仓储层\r\n */\r\n@Injectable()\r\n@NgRepository({\r\n  from: GSPUserDetailDataStorage,\r\n  entityType: GSPUserDetailEntity\r\n})\r\nexport class GSPUserDetailRepository extends Repository<GSPUserDetailEntity> {\r\n  constructor(injector: Injector) {\r\n      super(injector);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/domain/gspuser-detail.repository.ts","module.exports = \"<div class=\\\"d-flex g-main\\\">\\r\\n  <div class=\\\"col\\\">\\r\\n    <div class=\\\"d-flex flex-row  g-main px-1\\\" style=\\\"overflow:hidden;\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"d-flex flex-column g-main\\\">\\r\\n          <!--工具栏了 BEGIN-->\\r\\n          <div class=\\\"pt-2 mb-2\\\">\\r\\n            <div class=\\\"row pt-2 mb-2\\\">\\r\\n              <div class=\\\"col-sm-12 col-md-3\\\">\\r\\n                <h1 class=\\\"h4 d-inline-block\\\">用户详情</h1>\\r\\n              </div>\\r\\n              <div class=\\\"col-sm-12 col-md-9\\\">\\r\\n                <div class=\\\"pr-2 text-right\\\">\\r\\n                  <button type=\\\"button\\\" (click)=\\\"viewModel.add()\\\" [disabled]=\\\"!viewModel.stateMachine.canAdd\\\" class=\\\"btn btn-sm btn-default\\\">新增\\r\\n                  </button>\\r\\n                  <button type=\\\"button\\\" (click)=\\\"viewModel.edit()\\\" [disabled]=\\\"!viewModel.stateMachine.canEdit\\\" class=\\\"btn btn-sm btn-default\\\">编辑\\r\\n                  </button>\\r\\n                  <!--\\r\\n                  <button type=\\\"button\\\" (click)=\\\"viewModel.cancel()\\\" [disabled]=\\\"!viewModel.stateMachine.canCancel\\\" class=\\\"btn btn-sm btn-default\\\">取消 </button>\\r\\n                  -->\\r\\n                  <button type=\\\"button\\\" (click)=\\\"saveUser()\\\" [disabled]=\\\"!viewModel.stateMachine.canSave\\\" class=\\\"btn btn-sm btn-default\\\">保存\\r\\n                  </button>\\r\\n                  <button type=\\\"button\\\" (click)=\\\"viewModel.close()\\\" class=\\\"btn btn-sm btn-default mr-1\\\">关闭</button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <!--工具栏 END-->\\r\\n          <div class=\\\"flex-auto\\\" style=\\\"overflow-y:auto;\\\">\\r\\n            <!--表头 BEGIN-->\\r\\n            <form class=\\\"k-form p-1\\\" [formGroup]=\\\"viewModel.form\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n                  <label class=\\\"k-form-field\\\">\\r\\n                    <span>用户编号*</span>\\r\\n                    <div class=\\\"d-flex\\\">\\r\\n                      <input type=\\\"text\\\" formControlName=\\\"UserCode\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\" class=\\\"k-textbox w-100\\\" />\\r\\n                    </div>\\r\\n                  </label>\\r\\n                  <label class=\\\"k-form-field\\\">\\r\\n                    <span>用户名称*</span>\\r\\n                    <input formControlName=\\\"UserName\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\" class=\\\"k-textbox w-100\\\" />\\r\\n                  </label>\\r\\n                  <label class=\\\"k-form-field\\\">\\r\\n                    <span>系统组织*</span>\\r\\n                    <div class=\\\"d-flex\\\">\\r\\n                      <input formControlName=\\\"UserOrgName\\\" [readOnly]=\\\"true\\\" class=\\\"k-textbox w-100\\\" />\\r\\n                      <button [disabled]=\\\"!viewModel.stateMachine.canInput\\\" class=\\\"k-button k-bare\\\" type=\\\"button\\\"\\r\\n                        (click)=\\\"showSysOrgHelp()\\\">\\r\\n                        <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n                      </button>\\r\\n                      <app-sys-org-help [isShow]=\\\"viewModel.uiState.showSysOrgHelpFlag\\\" [title]=\\\"'系统组织帮助'\\\"\\r\\n                        (selectedAfterOk)=\\\"afterSelectedSysOrg($event)\\\">\\r\\n                      </app-sys-org-help>\\r\\n                    </div>\\r\\n                  </label>\\r\\n                  <label class=\\\"k-form-field\\\">\\r\\n                      <span>描述</span>\\r\\n                      <textarea [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                      formControlName=\\\"UserNote\\\"\\r\\n                      kendoTextArea rows=\\\"2\\\" class=\\\"k-textarea w-100\\\"></textarea>\\r\\n                    </label>\\r\\n                    <!--\\r\\n                      <label class=\\\"k-form-field\\\">\\r\\n                    <span>用户分组</span>\\r\\n                    <input formControlName=\\\"UserGroupName\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\" class=\\\"k-textbox w-100\\\" />\\r\\n                  </label>\\r\\n                    -->\\r\\n                  <!--\\r\\n                  <label class=\\\"k-form-field\\\">\\r\\n                    <span>用户类型</span>\\r\\n                    <input formControlName=\\\"UserTypeName\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\" class=\\\"k-textbox w-100\\\" />\\r\\n                  </label>\\r\\n                -->\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n                  <label class=\\\"k-form-image\\\">\\r\\n                  </label>\\r\\n                </div>\\r\\n                <!--\\r\\n                <div class=\\\"col-sm-12 col-md-12\\\">\\r\\n                  <label class=\\\"k-form-field\\\">\\r\\n                    <span>描述</span>\\r\\n                    <textarea kendoTextArea rows=\\\"1\\\" class=\\\"k-textarea w-100\\\"></textarea>\\r\\n                  </label>\\r\\n                </div>\\r\\n              -->\\r\\n              </div>\\r\\n            </form>\\r\\n            <!--表头 END-->\\r\\n            <!--表体 BEGIN-->\\r\\n            <ng-container>\\r\\n              <kendo-tabstrip>\\r\\n                <kendo-tabstrip-tab [title]=\\\"'认证信息'\\\" [selected]=\\\"true\\\">\\r\\n                  <ng-template kendoTabContent>\\r\\n                    <app-user-password [userId]='this.userSession.curUserId' [isView]='this.userSession.isView'></app-user-password>\\r\\n                  </ng-template>\\r\\n                </kendo-tabstrip-tab>\\r\\n                <kendo-tabstrip-tab [title]=\\\"'个人信息'\\\" >\\r\\n                  <ng-template kendoTabContent>\\r\\n                    <form class=\\\"k-form p-1\\\" [formGroup]=\\\"viewModel.form\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n                          <label class=\\\"k-form-field\\\">\\r\\n                            <span>邮箱</span>\\r\\n                            <div class=\\\"d-flex\\\">\\r\\n                              <input type=\\\"text\\\" formControlName=\\\"UserEmail\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                                class=\\\"k-textbox w-100\\\" />\\r\\n                            </div>\\r\\n                          </label>\\r\\n                          <label class=\\\"k-form-field\\\">\\r\\n                            <span>移动电话</span>\\r\\n                            <div class=\\\"d-flex\\\">\\r\\n                              <input formControlName=\\\"UserMobilePhone\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                                class=\\\"k-textbox w-100\\\" />\\r\\n                            </div>\\r\\n                          </label>\\r\\n                          <label class=\\\"k-form-field\\\">\\r\\n                            <span>QQ</span>\\r\\n                            <div class=\\\"d-flex\\\"><input formControlName=\\\"UserQQ\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                                class=\\\"k-textbox w-100\\\" />\\r\\n                            </div>\\r\\n                          </label>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n                          <label class=\\\"k-form-field\\\">\\r\\n                            <span>固定电话</span>\\r\\n                            <div class=\\\"d-flex\\\">\\r\\n                              <input type=\\\"text\\\" formControlName=\\\"UserPhone\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                                class=\\\"k-textbox w-100\\\" />\\r\\n                            </div>\\r\\n                          </label>\\r\\n                          <label class=\\\"k-form-field\\\">\\r\\n                            <span>微信</span>\\r\\n                            <div class=\\\"d-flex\\\"><input formControlName=\\\"UserWeChat\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                                class=\\\"k-textbox w-100\\\" /></div>\\r\\n                          </label>\\r\\n                          <label class=\\\"k-form-field\\\">\\r\\n                            <span>地址</span>\\r\\n                            <div class=\\\"d-flex\\\"><input formControlName=\\\"UserAddress\\\" [readOnly]=\\\"!viewModel.stateMachine.canInput\\\"\\r\\n                                class=\\\"k-textbox w-100\\\" /></div>\\r\\n                          </label>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </form>\\r\\n                  </ng-template>\\r\\n                </kendo-tabstrip-tab>\\r\\n                <!--\\r\\n                <kendo-tabstrip-tab [title]=\\\"'登陆限制'\\\">\\r\\n                </kendo-tabstrip-tab>\\r\\n              -->\\r\\n                <kendo-tabstrip-tab [title]=\\\"'授权岗位'\\\">\\r\\n                  <ng-template kendoTabContent>\\r\\n                    <app-user-position [curUserId]=\\\"this.viewModel.uiState.dataId\\\"></app-user-position>\\r\\n                  </ng-template>\\r\\n                </kendo-tabstrip-tab>\\r\\n              </kendo-tabstrip>\\r\\n            </ng-container>\\r\\n            <!--表体 END-->\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/gspuser-detail.component.html\n// module id = ./src/app/modules/user-manager/gspuser-detail/gspuser-detail.component.html\n// module chunks = user-manager.module","import { GSPUserDetailRepository } from './domain/gspuser-detail.repository';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { GSPUserDetailViewModel } from './app/gspuser-detail-app.index';\r\nimport { SysManagerUtil } from '../../common/util/sys-manager-util';\r\nimport { UserPositionComponent } from './user-position/user-position.component';\r\n\r\n@Component({\r\n  selector: 'app-gspuser-detail',\r\n  templateUrl: './gspuser-detail.component.html',\r\n\r\n})\r\nexport class GSPUserDetailComponent implements OnInit {\r\n\r\n  // 用户岗位子组件\r\n  @ViewChild(UserPositionComponent)\r\n  private userPosChild: UserPositionComponent;\r\n\r\n  // 要注入ActivatedRoute服务，因为要从路由中解析参数\r\n  constructor (\r\n    public viewModel: GSPUserDetailViewModel,\r\n    private userDetailRep: GSPUserDetailRepository,\r\n    private route: ActivatedRoute,\r\n    public userSession: SysManagerUtil\r\n  ) {\r\n  }\r\n\r\n  ngOnInit () {\r\n\r\n    this.route.paramMap.subscribe((params: Params) => {\r\n      // 路由过来的参数和表单状态赋值给当前表单状态，更新按钮状态\r\n      this.viewModel.uiState.dataId = params.get('id');\r\n      this.userSession.curUserId = params.get('id');\r\n      const curAction = params.get('action');\r\n      this.viewModel.uiState.action = curAction;\r\n      // 设定用户密码的UI状态\r\n      if (curAction === 'view') {\r\n        this.userSession.isView = true;\r\n      } else {\r\n        this.userSession.isView = false;\r\n       }\r\n      this.viewModel.formLoad();\r\n    });\r\n  }\r\n\r\n  /**保存用户 */\r\n  saveUser () {\r\n    // 页面上的保存用户,这个地方估计是异步的\r\n    this.viewModel.uiState.needSaveUserPos = false;\r\n    // 必须有加载的情况下,才能保存用户岗位关系\r\n    if (this.userPosChild) {\r\n      this.viewModel.uiState.needSaveUserPos = true;\r\n    }\r\n    this.viewModel.save();\r\n  }\r\n\r\n  /**弹出组织树帮助 */\r\n  showSysOrgHelp () {\r\n    // 组织弹出帮助\r\n    this.viewModel.uiState.showSysOrgHelpFlag = !this.viewModel.uiState.showSysOrgHelpFlag;\r\n  }\r\n\r\n  /**组织切换后 */\r\n  afterSelectedSysOrg (data: any) {\r\n    const curUserDetail = this.userDetailRep.getAllEntities()[0];\r\n    curUserDetail.sysOrgId = data.id;\r\n    curUserDetail.sysOrgName = data.name;\r\n   }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/gspuser-detail.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.css\n// module id = ./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.css\n// module chunks = user-manager.module","module.exports = \"<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':isShow}\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\n      <div class=\\\"modal-header\\\">\\n        <div class=\\\"clearfix p-2\\\">\\n          <h6 class=\\\"modal-title float-left\\\">{{title}}</h6>\\n          <button class=\\\"close\\\" (click)=\\\"isShow=false\\\">\\n            <span>×</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <kendo-grid [class]=\\\"'flex-auto'\\\" [selectable]=\\\"selectableSettings\\\" [kendoGridSelectBy]=\\\"'id'\\\" [selectedKeys]=\\\"curSelectedKeys\\\"\\n          [kendoGridBinding]=\\\"data\\\" [height]=\\\"350\\\">\\n          <kendo-grid-checkbox-column width=\\\"10%\\\"></kendo-grid-checkbox-column>\\n          <kendo-grid-column field=\\\"code\\\" title=\\\"编号\\\" width=\\\"40%\\\"></kendo-grid-column>\\n          <kendo-grid-column field=\\\"name\\\" title=\\\"名称\\\" width=\\\"50%\\\"></kendo-grid-column>\\n        </kendo-grid>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <!--\\n        <div pr-2 text-left class=\\\"col-xs-3\\\">\\n          <span>全选</span>\\n          <input type=\\\"checkbox\\\" style=\\\"zoom:120%;\\\" id=\\\"checkAllData\\\" name=\\\"checkAllData\\\" [checked]=\\\"true\\\">\\n        </div>\\n        -->\\n        <div text-right p-2 class=\\\"col-xs-9\\\">\\n          <button class=\\\"btn btn-sm  mr-2  btn-primary \\\" [disabled]=\\\"\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"btnOk()\\\">确定</button>\\n          <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"isShow=false\\\">取消</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n  <!-- /.modal-dialog -->\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.html\n// module id = ./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.html\n// module chunks = user-manager.module","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\nimport { Observable } from 'rxjs/Observable';\nimport { GSPUserPositionService } from '../../user-position/domain';\n\n@Component({\n  selector: 'app-pos-help',\n  templateUrl: './pos-help.component.html',\n  styleUrls: ['./pos-help.component.css']\n})\nexport class PosHelpComponent implements OnInit, OnChanges {\n\n  /**帮助标题 */\n  @Input()\n  title = '帮助';\n  /**帮助打开状态 */\n  @Input()\n  isShow: boolean;\n  /**选中列表 */\n  @Input()\n  initSelectedKeys: string[];\n\n  /**输出事件 */\n  @Output()\n  selectedAfterOk: EventEmitter<any> = new EventEmitter<any>();\n\n  /**当前界面选中的内码 */\n  curSelectedKeys: string[];\n  selectableSettings: SelectableSettings;\n  data: Object[];\n\n  constructor (private userPosService: GSPUserPositionService) {\n    // 多选模式\n    this.selectableSettings = {\n      checkboxOnly: true,\n      mode: 'multiple',\n      enabled: true\n    };\n  }\n\n  ngOnInit () {\n  }\n\n  /**输入属性变化后 */\n  ngOnChanges (changes: SimpleChanges): void {\n    // 只有显示属性变化后才能起作用\n    if (changes['isShow']) {\n      // 第一次加载页面的时候,会有第一次变化\n      if (changes.isShow.firstChange) {\n        // 首次进来不取数、不显示\n        this.isShow = false;\n        return;\n      }\n      // 按钮触发进来\n      this.isShow = true;\n      // 服务端获取数据\n      this.userPosService.getAllPositions()\n        .subscribe(result => {\n          this.data = result;\n          this.curSelectedKeys = [];\n          if (this.initSelectedKeys) {\n            this.initSelectedKeys.map(item => this.curSelectedKeys.push(item));\n          }\n        }, error => {\n          console.log('用户授权岗位时获取岗位列表失败');\n          console.log(error);\n        });\n    }\n  }\n  /**帮助确定按钮 */\n  btnOk () {\n    this.closeDialog();\n    // 根据选中行获取实体数据\n    const selectPosEntity = [];\n    Observable.from(this.curSelectedKeys)\n      .map(item => this.data.find(pos => pos['id'] === item))\n      .subscribe(item => selectPosEntity.push(item));\n    // 发射当前选中数据\n    this.selectedAfterOk.next(selectPosEntity);\n\n  }\n  showDialog () {\n    this.isShow = true;\n  }\n  closeDialog () {\n    this.isShow = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/help/list-help/pos-help.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.css\n// module id = ./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.css\n// module chunks = user-manager.module","module.exports = \"<div class=\\\"modal fade\\\" [ngClass]=\\\"{'show d-block':isShow}\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered gw-page-dialog\\\" style=\\\"font-size: 13px;max-width:40%;\\\">\\n    <div class=\\\"modal-content\\\" style=\\\"width:100%;height:500px;\\\">\\n      <div class=\\\"modal-header\\\">\\n        <div class=\\\"clearfix p-2\\\">\\n          <h6 class=\\\"modal-title float-left\\\">{{title}}</h6>\\n          <button class=\\\"close\\\" (click)=\\\"isShow=false\\\">\\n            <span>×</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <kendo-treeview \\n        [nodes]=\\\"this.data\\\"\\n        textField=\\\"name\\\"\\n        idField=\\\"id\\\"\\n        parentIdField=\\\"parentId\\\"\\n        kendoTreeViewExpandable\\n        kendoTreeViewFlatDataBinding\\n        kendoTreeViewSelectable\\n        [selectBy]=\\\"'id'\\\"\\n        [(selectedKeys)]=\\\"curSelectedKeys\\\"\\n        ></kendo-treeview>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <!--\\n        <div pr-2 text-left class=\\\"col-xs-3\\\">\\n          <span>全选</span>\\n          <input type=\\\"checkbox\\\" style=\\\"zoom:120%;\\\" id=\\\"checkAllData\\\" name=\\\"checkAllData\\\" [checked]=\\\"true\\\">\\n        </div>\\n        -->\\n        <div text-right p-2 class=\\\"col-xs-9\\\">\\n          <button class=\\\"btn btn-sm  mr-2  btn-primary \\\" [disabled]=\\\"\\\" style=\\\"font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"btnOk()\\\">确定</button>\\n          <button class=\\\"btn btn-sm mr-2\\\" style=\\\"background:#e3e4e4!important;font-size: 13px;line-height: 1.2;\\\"\\n            (click)=\\\"isShow=false\\\">取消</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n  <!-- /.modal-dialog -->\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.html\n// module id = ./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.html\n// module chunks = user-manager.module","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\nimport { Observable } from 'rxjs/Observable';\nimport { GSPSysOrgDataService } from '../../sys-org-tree/domain';\n\n\n@Component({\n  selector: 'app-sys-org-help',\n  templateUrl: './sys-org-help.component.html',\n  styleUrls: ['./sys-org-help.component.css']\n})\nexport class SysOrgHelpComponent implements OnInit, OnChanges {\n\n  /**帮助标题 */\n  @Input()\n  title = '帮助';\n  /**帮助打开状态 */\n  @Input()\n  isShow: boolean;\n  /**选中列表 */\n  @Input()\n  initSelectedKeys: string[];\n\n  /**输出事件 */\n  @Output()\n  selectedAfterOk: EventEmitter<any> = new EventEmitter<any>();\n\n  /**当前界面选中的内码 */\n  curSelectedKeys: string[];\n  selectableSettings: SelectableSettings;\n  data: Object[];\n\n  constructor (private sysOrgService: GSPSysOrgDataService) {\n    // 单选模式\n    this.selectableSettings = {\n      checkboxOnly: true,\n      mode: 'single',\n      enabled: true\n    };\n  }\n\n  ngOnInit () {\n  }\n\n  /**输入属性变化后 */\n  ngOnChanges (changes: SimpleChanges): void {\n    // 只有显示属性变化后才能起作用\n    if (changes['isShow']) {\n      // 第一次加载页面的时候,会有第一次变化\n      if (changes.isShow.firstChange) {\n        // 首次进来不取数、不显示\n        this.isShow = false;\n        return;\n      }\n      // 按钮触发进来\n      this.isShow = true;\n      // 服务端获取数据\n      this.sysOrgService.getAllSysOrgs()\n        .subscribe(result => {\n          this.data = result;\n          this.curSelectedKeys = [];\n          if (this.initSelectedKeys) {\n            this.initSelectedKeys.map(item => this.curSelectedKeys.push(item));\n          }\n        }, error => {\n          console.log('获取系统组织时帮助出错');\n          console.log(error);\n        });\n    }\n  }\n  /**帮助确定按钮 */\n  btnOk () {\n    this.closeDialog();\n    // 根据选中行获取实体数据\n    if (this.curSelectedKeys === null || this.curSelectedKeys.length === 0) {\n      // 无选择不触发事件\n      return;\n    }\n    const sysOrg = this.data.find(pos => pos['id'] === this.curSelectedKeys[0]);\n    // 发射当前选中数据\n    this.selectedAfterOk.next(sysOrg);\n  }\n  showDialog () {\n    this.isShow = true;\n  }\n  closeDialog () {\n    this.isShow = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/help/sys-org-help.component.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserPositionUIState } from '../user-position.uistate';\r\nimport { GSPUserPositionRepository } from '../../domain/gspposition.repository';\r\n\r\n/**\r\n * 用户岗位详情页面新增\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'addUserPos'\r\n})\r\nexport class AddUserPosition extends CommandHandler {\r\n\r\n    constructor (\r\n        private userPosUIState: GSPUserPositionUIState,\r\n        private userPosRep: GSPUserPositionRepository) {\r\n        super();\r\n    }\r\n\r\n    // TODO: 需要展开\r\n    schedule () {\r\n        this.addTask('add', () => {\r\n            // 打开帮助\r\n            this.userPosUIState.userPosHelpFlag = !this.userPosUIState.userPosHelpFlag;\r\n            const curPosList = this.userPosRep.getAllEntities();\r\n            console.log(curPosList);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.add.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserPositionService } from '../../domain/gspposition.dataservice';\r\nimport { GSPUserPositionRepository } from './../../domain/gspposition.repository';\r\nimport { GSPUserPositionUIState } from '../user-position.uistate';\r\n\r\n/**\r\n * 用户岗位详情页面新增\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'deleteUserPos'\r\n})\r\nexport class DeleteUserPosition extends CommandHandler {\r\n\r\n    constructor (\r\n        private dataService: GSPUserPositionService,\r\n        private userPosUIState: GSPUserPositionUIState,\r\n        private userPosRep: GSPUserPositionRepository) {\r\n        super();\r\n    }\r\n\r\n    // TODO: 需要展开\r\n    schedule () {\r\n        this.addTask('delete', () => {\r\n\r\n            // 无选择数据\r\n            if (this.userPosUIState.selectPosList === null\r\n                || this.userPosUIState.selectPosList.length === 0) {\r\n                alert('请选择需要删除的数据');\r\n                return;\r\n            }\r\n            if (this.userPosRep.getAllEntities().length === 0) {\r\n                alert('没有需要删除的数据');\r\n                return;\r\n            }\r\n            const curSelectPosId = this.userPosUIState.selectPosList[0];\r\n            // 根据用户内码获取分配的岗位\r\n            this.userPosRep.removeEntityById(curSelectPosId);\r\n            // 删除后界面上选择数据为空\r\n            this.userPosUIState.selectPosList = [];\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.delete.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserPositionService } from '../../domain/gspposition.dataservice';\r\nimport { GSPUserDetailUIState } from '../../../app/gspuser-detail.uistate';\r\nimport { GSPPositionDataStorage } from './../../domain/gspposition.datastorage';\r\nimport { GSPUserPositionUIState } from '../user-position.uistate';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/from';\r\n\r\n/**\r\n * 用户岗位详情页面加载\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'userPosFormLoad'\r\n})\r\nexport class UserPositionFormLoadHandler extends CommandHandler {\r\n\r\n    constructor (\r\n        private dataService: GSPUserPositionService,\r\n        private posStore: GSPPositionDataStorage,\r\n        private userDetailState: GSPUserDetailUIState,\r\n        private userPosState: GSPUserPositionUIState) {\r\n        super();\r\n    }\r\n\r\n    schedule () {\r\n        this.addTask('loadData', () => {\r\n            // 根据用户内码获取分配的岗位\r\n            const dataId = this.userDetailState.dataId;\r\n            this.dataService.getPositionsByUserId(dataId).subscribe((result: any) => {\r\n                this.posStore.load(result);\r\n                // 清空数据，然后备份,用于最后保存时的对比比较\r\n                this.userPosState.posIdBackUpList = [];\r\n                // 子组件输入属性绑定值，连动当前界面和岗位帮助选择数据\r\n                this.userPosState.curPosIdList = [];\r\n                Observable.from(result)\r\n                    .map(item => item['id'])\r\n                    .subscribe(item => {\r\n                        this.userPosState.posIdBackUpList.push(item);\r\n                        this.userPosState.curPosIdList.push(item);\r\n                    });\r\n            });\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.formload.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserPositionService } from '../../domain/gspposition.dataservice';\r\nimport { GSPUserDetailUIState } from '../../../app/gspuser-detail.uistate';\r\nimport { GSPUserPositionUIState } from '../user-position.uistate';\r\n\r\n\r\n/**\r\n * 用户岗位详情页面加载--暂时废弃\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n    commandName: 'saveUserPos'\r\n})\r\nexport class SaveUserPosition extends CommandHandler {\r\n\r\n    constructor (\r\n        private dataService: GSPUserPositionService) {\r\n        super();\r\n    }\r\n\r\n    schedule () {\r\n        this.addTask('save', () => {\r\n            // 根据用户内码获取分配的岗位\r\n            this.dataService.modifyPosByUser().subscribe(\r\n                // 成功之后刷新备份列表\r\n                result => {\r\n                    alert('用户授权岗位保存成功');\r\n                 },\r\n                error => {\r\n                    console.log(error);\r\n                    console.log('用户授权岗位失败');\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/handlers/user-position.save.handler.ts","import { SaveUserPosition } from './handlers/user-position.save.handler';\r\nimport { DeleteUserPosition } from './handlers/user-position.delete.handler';\r\nimport { AddUserPosition } from './handlers/user-position.add.handler';\r\nimport { UserPositionFormLoadHandler } from './handlers/user-position.formload.handler';\r\nimport { Provider } from '@angular/core';\r\nimport { GSPPositionBindingData } from './user-position.bindingdata';\r\nimport { GSPUserPositionViewModel } from './user-position.viewmodel';\r\nimport { GSPUserPositionUIState } from './user-position.uistate';\r\n\r\nconst userPos_App_Providers: Provider[] = [\r\n    GSPUserPositionUIState,\r\n    GSPPositionBindingData,\r\n    GSPUserPositionViewModel\r\n];\r\n\r\n// 导出用户和岗位APP域所有成员\r\nexport {\r\n    UserPositionFormLoadHandler,\r\n    AddUserPosition,\r\n    DeleteUserPosition,\r\n    SaveUserPosition,\r\n    GSPPositionBindingData,\r\n    GSPUserPositionViewModel,\r\n    userPos_App_Providers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/index.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgBindingData, BindingData } from '@farris/devkit';\r\nimport { GSPUserPositionRepository } from './../domain/gspposition.repository';\r\nimport { GSPPositionEntity } from '../domain/gspposition.entity';\r\n\r\n/**\r\n * 岗位详情绑定数据\r\n */\r\n@Injectable()\r\n@NgBindingData({\r\n  entity:     GSPPositionEntity,\r\n  repository: GSPUserPositionRepository\r\n})\r\nexport class GSPPositionBindingData extends BindingData {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/user-position.bindingdata.ts","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * 用户岗位组件UI状态\r\n */\r\n@Injectable()\r\nexport class GSPUserPositionUIState {\r\n\r\n    /**当前用户内码 */\r\n    curUserId: string;\r\n    /** 选择的岗位列表，用于在界面上删除时的单行选择*/\r\n    selectPosList: string[] = [];\r\n    /**第一次岗位列表备份 */\r\n    posIdBackUpList: string[] = [];\r\n    /**当前界面上岗位内码 */\r\n    curPosIdList: string[] = [];\r\n    /** 设置用户岗位帮助的状态值*/\r\n    userPosHelpFlag = false;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/user-position.uistate.ts","import { GSPPositionBindingData } from './user-position.bindingdata';\r\nimport { Injector, Injectable } from '@angular/core';\r\nimport { NgViewModel, ViewModel, NgCommand } from '@farris/devkit';\r\nimport { GSPUserPositionUIState } from './user-position.uistate';\r\n\r\n\r\n/**\r\n * 用户和岗位关系详情视图模型\r\n */\r\n@Injectable()\r\n@NgViewModel({\r\n  children: [],\r\n  binding: GSPPositionBindingData\r\n})\r\nexport class GSPUserPositionViewModel extends ViewModel {\r\n\r\n  public uiState: GSPUserPositionUIState;\r\n\r\n  /**\r\n   * 构造函数\r\n   */\r\n  constructor (injector: Injector) {\r\n    super(injector);\r\n    this.uiState = this.injector.get<GSPUserPositionUIState>(GSPUserPositionUIState);\r\n  }\r\n\r\n  /**\r\n   * 用户和岗位关系加载\r\n   */\r\n  @NgCommand({\r\n    name: 'userPosFormLoad'\r\n  })\r\n  public formLoad () { }\r\n\r\n  /**新增用户岗位关系 */\r\n  @NgCommand({\r\n    name: 'addUserPos'\r\n  })\r\n  public addUserPos () { }\r\n\r\n  /**删除用户岗位关系 */\r\n  @NgCommand({\r\n    name: 'deleteUserPos'\r\n  })\r\n  public deleteUserPos () { }\r\n\r\n  /**保存用户岗位关系 */\r\n  @NgCommand({\r\n    name: 'saveUserPos'\r\n  })\r\n  public saveUserPos () { }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/app/user-position.viewmodel.ts","import { SysManagerUtil } from './../../../../common/util/sys-manager-util';\r\nimport { Injectable } from '@angular/core';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { ResultPackage } from '../../../../common';\r\nimport { GSPUserPositionUIState } from '../app/user-position.uistate';\r\nimport { GSPUserPositionRepository } from './gspposition.repository';\r\n\r\n\r\n/**用户岗位关联关系获取岗位数据 */\r\n@Injectable()\r\nexport class GSPUserPositionService {\r\n\r\n    constructor (\r\n        private rest: RestfulService,\r\n        private sessionUtil: SysManagerUtil,\r\n        private userPosState: GSPUserPositionUIState,\r\n        private userPosRep: GSPUserPositionRepository\r\n    ) { }\r\n\r\n\r\n    /**根据用户内码获取分配的岗位 */\r\n    getPositionsByUserId (userId: string): Observable<any[]> {\r\n        const headers = this.sessionUtil.getHeader();\r\n        const getPosByUserUrl = this.sessionUtil.userPositionWebApi + '/users/' + userId + '/positions';\r\n        return this.rest.get(getPosByUserUrl, null, headers);\r\n    }\r\n\r\n    /**修改用户和岗位的关联关系 */\r\n    modifyPosByUser (): Observable<any> {\r\n        // 根据用户内码获取分配的岗位\r\n        const userId = this.userPosState.curUserId;\r\n        const curPosIdList = this.userPosRep.getAllEntities().map(item => item.id);\r\n        const posIdBackUpList = this.userPosState.posIdBackUpList;\r\n        // 获取新增和删除的\r\n        const addList = curPosIdList.filter(item => posIdBackUpList.indexOf(item) < 0);\r\n        const removeList = posIdBackUpList.filter(item => curPosIdList.indexOf(item) < 0);\r\n        const userPosPkg = new ResultPackage();\r\n        userPosPkg.ownerId = userId;\r\n        userPosPkg.addingResults = addList;\r\n        userPosPkg.removingResults = removeList;\r\n        if (addList.length === 0 && removeList.length === 0) {\r\n            // 无变化\r\n            return new Observable(observer => observer.next());\r\n        }\r\n        console.log('add');\r\n        console.log(addList);\r\n        console.log('remove');\r\n        console.log(removeList);\r\n        const headers = this.sessionUtil.getHeader();\r\n        const userPosWebUrl = this.sessionUtil.userPositionWebApi;\r\n        const queryParams = {\r\n            subjectType: 'user',\r\n            objectType: 'position'\r\n        };\r\n        return this.rest.post(userPosWebUrl, userPosPkg, queryParams, headers)\r\n            .map(item => {\r\n                this.userPosState.posIdBackUpList = curPosIdList;\r\n                return item;\r\n            });\r\n    }\r\n\r\n    /**获取所有岗位 */\r\n    getAllPositions (): Observable<any> {\r\n        const headers = this.sessionUtil.getHeader();\r\n        const posUrl = this.sessionUtil.positionWebApi + '/all';\r\n        return this.rest.get(posUrl, null, headers);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.dataservice.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { MemoryStorage } from '@farris/devkit';\r\n\r\n/**\r\n * 岗位列表数据存储\r\n */\r\n@Injectable()\r\nexport class GSPPositionDataStorage extends MemoryStorage {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.datastorage.ts","import { Entity, NgField } from '@farris/devkit';\r\n\r\n/**\r\n * 岗位关系实体\r\n */\r\nexport class GSPPositionEntity extends Entity {\r\n\r\n  /**\r\n   * 岗位内码\r\n   */\r\n  @NgField(true)\r\n  id: string;\r\n\r\n  /**\r\n   * 岗位编号\r\n   */\r\n  @NgField()\r\n  code: string;\r\n\r\n  /**\r\n   * 岗位名称\r\n   */\r\n  @NgField()\r\n  name: string;\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.entity.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgRepository, Repository } from '@farris/devkit';\r\nimport { GSPPositionDataStorage } from './gspposition.datastorage';\r\nimport { GSPPositionEntity } from './gspposition.entity';\r\n\r\n/**\r\n * 岗位仓库持久化层\r\n */\r\n@Injectable()\r\n@NgRepository({\r\n  from: GSPPositionDataStorage,\r\n  entityType: GSPPositionEntity\r\n})\r\nexport class GSPUserPositionRepository extends Repository<GSPPositionEntity> {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/domain/gspposition.repository.ts","import { Provider } from '@angular/core';\r\nimport { GSPPositionDataStorage } from './gspposition.datastorage';\r\nimport { GSPUserPositionRepository } from './gspposition.repository';\r\nimport { GSPUserPositionService } from './gspposition.dataservice';\r\n\r\n\r\n// 用户岗位相关服务\r\nconst userPos_Domain_Providers: Provider[] = [\r\n    GSPPositionDataStorage,\r\n    GSPUserPositionRepository,\r\n    GSPUserPositionService\r\n];\r\n\r\n// 导出Domain域所有成员\r\nexport {\r\n    GSPPositionDataStorage,\r\n    GSPUserPositionRepository,\r\n    GSPUserPositionService,\r\n    userPos_Domain_Providers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/domain/index.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.css\n// module id = ./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.css\n// module chunks = user-manager.module","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <div class=\\\"mt-1\\\">\\r\\n        <button type=\\\"button\\\" \\r\\n        [disabled]=\\\"!this.userDetailVm.stateMachine.canSave\\\"\\r\\n        (click)=\\\"this.userPosVm.addUserPos()\\\" \\r\\n        class=\\\"btn btn-sm btn-default\\\">授权岗位</button>\\r\\n        <button type=\\\"button\\\" \\r\\n        [disabled]=\\\"!this.userDetailVm.stateMachine.canSave\\\"\\r\\n        (click)=\\\"this.userPosVm.saveUserPos()\\\"\\r\\n         class=\\\"btn btn-sm btn-default\\\">保存</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row mt-2\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <kendo-grid\\r\\n       [kendoGridSelectBy]=\\\"'id'\\\" \\r\\n       [selectable]=\\\"this.selectableSettings\\\"\\r\\n       [selectedKeys] = \\\"this.userPosVm.uiState.selectPosList\\\"\\r\\n       [kendoGridBinding]=\\\"this.userPosVm.bindingData.list\\\">\\r\\n        <kendo-grid-column field=\\\"code\\\" title=\\\"岗位编号\\\" width=\\\"40%\\\"></kendo-grid-column>\\r\\n        <kendo-grid-column field=\\\"name\\\" title=\\\"岗位名称\\\" width=\\\"60%\\\"></kendo-grid-column>\\r\\n      </kendo-grid>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<app-pos-help \\r\\n[title]=\\\"'岗位帮助'\\\"\\r\\n[initSelectedKeys]=\\\"this.userPosVm.uiState.curPosIdList\\\"\\r\\n[isShow]=\\\"this.userPosVm.uiState.userPosHelpFlag\\\"\\r\\n(selectedAfterOk)=\\\"afterPosSelected($event)\\\"></app-pos-help>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.html\n// module id = ./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.html\n// module chunks = user-manager.module","import { SelectableSettings } from '@progress/kendo-angular-grid';\r\nimport { GSPUserPositionViewModel } from './app/user-position.viewmodel';\r\nimport { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { GSPUserPositionRepository } from './domain';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { GSPUserDetailViewModel } from '../app/gspuser-detail.viewmodel';\r\nimport { GSPPositionEntity } from './domain/gspposition.entity';\r\n\r\n/**\r\n * 用户岗位关系列表\r\n */\r\n@Component({\r\n  selector: 'app-user-position',\r\n  templateUrl: './user-position.component.html',\r\n  styleUrls: ['./user-position.component.css'],\r\n})\r\nexport class UserPositionComponent implements OnInit, OnChanges {\r\n\r\n  /** 当前用户内码*/\r\n  @Input()\r\n  curUserId: string;\r\n\r\n  selectableSettings: SelectableSettings;\r\n\r\n  constructor (\r\n    public userPosVm: GSPUserPositionViewModel,\r\n    public userDetailVm: GSPUserDetailViewModel,\r\n    private posRep: GSPUserPositionRepository) {\r\n    // 单选效果\r\n    this.selectableSettings = {\r\n      checkboxOnly: true,\r\n      mode: 'single'\r\n    };\r\n  }\r\n  ngOnInit () {\r\n  }\r\n\r\n  /**输入属性变化后 */\r\n  ngOnChanges (changes: SimpleChanges): void {\r\n    // 加载数据\r\n    this.userPosVm.uiState.selectPosList = [];\r\n    this.userPosVm.uiState.curUserId = this.curUserId;\r\n    this.userPosVm.formLoad();\r\n  }\r\n\r\n  /** 授权岗位的时候回调函数*/\r\n  afterPosSelected (args: any[]) {\r\n    // 更新值\r\n    const newPosEntityList = [];\r\n    this.userPosVm.uiState.curPosIdList = [];\r\n    Observable.from(args).subscribe(\r\n      item => {\r\n        newPosEntityList.push(new GSPPositionEntity(item));\r\n        this.userPosVm.uiState.curPosIdList.push(item['id']);\r\n      }\r\n    );\r\n    this.posRep.clear();\r\n    this.posRep.addEntities(newPosEntityList);\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/user-position/user-position.component.ts","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class UserPassWord {\r\n    constructor () { }\r\n\r\n    newPwd: string;\r\n    enSurePwd: string;\r\n    oldPwd: string;\r\n    isView: boolean;\r\n    pwdInfo: object;\r\n    isPwdHasLoad = false;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/userpassword/domain/password.ts","import { Injectable } from '@angular/core';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { UserPassWord } from './password';\r\nimport { SysManagerUtil } from '../../../../common/util/sys-manager-util';\r\n\r\n\r\n@Injectable()\r\nexport class UserPasswordDataService {\r\n    private url = '/api/runtime/sys/v1.0/authenitems';\r\n    private accounturl = '/api/runtime/sys/v1.0/accounts';\r\n    UserPassWord: string;\r\n    EnsurePwd: string;\r\n    oldPwd: string;\r\n    constructor (\r\n        private rest: RestfulService,\r\n        private userManagerSession: SysManagerUtil,\r\n        private pwd: UserPassWord\r\n    ) {\r\n    }\r\n\r\n    // 加载\r\n    formload (userId: string) {\r\n        if (userId === 'new') {\r\n            return;\r\n        }\r\n        this.rest.get(this.url + '/' + userId, null, this.userManagerSession.getHeader()).subscribe((result: any) => {\r\n            console.log(result);\r\n            this.pwd.oldPwd = result.password;\r\n            this.pwd.newPwd = result.password;\r\n            this.pwd.enSurePwd = result.password;\r\n            this.pwd.pwdInfo = result;\r\n        });\r\n    }\r\n\r\n    // 新增\r\n    add (userId: string) {\r\n        const autheninfo = {\r\n            'Id': userId,\r\n            'UserId': userId,\r\n            'AccountId': userId,\r\n            'Password': this.pwd.newPwd,\r\n            'TenantId': 10000,\r\n            'ValidTime': '9999',\r\n            'IsNextModifyPassword': 0\r\n        };\r\n        const accountinfo = {\r\n            'Id': userId,\r\n            'UserId': userId,\r\n            'AccountId': userId,\r\n            'TenantId': 10000,\r\n            'AuthenStrategyName': '用户名密码认证',\r\n            'AuthenStrategyId': '1'\r\n        };\r\n        this.rest.post(this.accounturl, accountinfo, null, this.userManagerSession.getHeader())\r\n            .subscribe((addResult: any) => {\r\n                this.rest.post(this.url, autheninfo, null, this.userManagerSession.getHeader())\r\n                    .subscribe((result: any) => {\r\n                        // 为了保持状态\r\n                        this.pwd.oldPwd = this.pwd.newPwd;\r\n                    },\r\n                        error => {\r\n                            console.log(error);\r\n                        });\r\n            },\r\n                error => {\r\n                    console.log(error);\r\n                });\r\n\r\n    }\r\n\r\n    // 修改\r\n    edit (userId: string) {\r\n        this.pwd.pwdInfo['password'] = this.pwd.newPwd;\r\n        this.rest.put(this.url, this.pwd.pwdInfo, null, this.userManagerSession.getHeader())\r\n            .subscribe(() => {\r\n                this.pwd.oldPwd = this.pwd.newPwd;\r\n        }, error => {\r\n            console.log(error);\r\n            });\r\n        return true;\r\n    }\r\n\r\n    /**用户父组件新增的 */\r\n    clearPwd () {\r\n        this.pwd.oldPwd = '';\r\n        this.pwd.newPwd = '';\r\n        this.pwd.enSurePwd = '';\r\n        this.pwd.isPwdHasLoad = false;\r\n    }\r\n\r\n    /**密码校验 用于新增*/\r\n    checkPwdForAdd (): string {\r\n        if (this.pwd.newPwd === undefined || this.pwd.newPwd === '' || this.pwd.enSurePwd === '') {\r\n            return '密码不能为空';\r\n        }\r\n        if (this.pwd.newPwd !== this.pwd.enSurePwd) {\r\n            return '密码不一致';\r\n        }\r\n        if (this.pwd.newPwd.length < 6) {\r\n            return '密码不符合安全策略';\r\n        }\r\n        return '';\r\n    }\r\n\r\n    /**密码校验用户编辑 */\r\n    checkPwdForEdit (): string {\r\n        // 密码不改变的情况下\r\n        if (this.pwd.isPwdHasLoad === false) {\r\n            return 'unchanged';\r\n        } else {\r\n            if (this.pwd.oldPwd === this.pwd.newPwd && this.pwd.oldPwd === this.pwd.enSurePwd) {\r\n                return 'unchanged';\r\n            }\r\n        }\r\n        return this.checkPwdForAdd();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/userpassword/domain/userpassword.dataservice.ts","module.exports = \"<div>\\r\\n    <div class=\\\"pl-2 pt-2\\\">\\r\\n        <span>认证策略</span>\\r\\n        <div class=\\\"pt-1\\\">\\r\\n            <select style=\\\"width:25%\\\" class=\\\"custom-select w-10\\\" [(ngModel)]='curAuthenStrategy' [disabled]='isView'>\\r\\n                <option *ngFor=\\\"let item of authenstrategies\\\" [value]=\\\"item\\\">{{item}}</option>\\r\\n            </select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <form class=\\\"k-form p-2\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n                <label class=\\\"k-form-field\\\">\\r\\n                    <span>密码 </span>\\r\\n                    <div class=\\\"d-flex\\\">\\r\\n                        <input type='password' [disabled]='isView'  [(ngModel)]='pwd.newPwd' [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"k-textbox w-100\\\">\\r\\n                    </div>\\r\\n                </label>\\r\\n                <label class=\\\"k-form-field\\\">\\r\\n                    <span>确认密码 </span>\\r\\n                    <div class=\\\"d-flex\\\">\\r\\n                        <input type='password' [disabled]='isView'  [(ngModel)]='pwd.enSurePwd' [ngModelOptions]=\\\" {standalone: true}\\r\\n                            \\\" class=\\\"k-textbox w-100 \\\" />\\r\\n                    </div>\\r\\n                </label>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-detail/userpassword/userpassword.component.html\n// module id = ./src/app/modules/user-manager/gspuser-detail/userpassword/userpassword.component.html\n// module chunks = user-manager.module","import { Component, OnInit, Input } from '@angular/core';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { UserPasswordDataService } from './domain/userpassword.dataservice';\r\nimport { UserPassWord } from './domain/password';\r\n\r\n/**\r\n * 用户名密码认证组件\r\n */\r\n@Component({\r\n    selector: 'app-user-password',\r\n    templateUrl: './userpassword.component.html'\r\n})\r\nexport class UserPasswordComponent implements OnInit {\r\n    authenstrategies: string[];\r\n    curAuthenStrategy: string;\r\n    @Input()\r\n    isView: boolean;\r\n    @Input()\r\n    userId: string;\r\n    constructor (\r\n        private service: UserPasswordDataService,\r\n        public pwd: UserPassWord\r\n    ) {\r\n    }\r\n\r\n    ngOnInit () {\r\n        // 用户名密码的Tab页面加载了\r\n        this.pwd.isPwdHasLoad = true;\r\n        this.authenstrategies = ['用户名密码认证'];\r\n        this.curAuthenStrategy = this.authenstrategies[0];\r\n        this.service.formload(this.userId);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-detail/userpassword/userpassword.component.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgBindingData, BindingData } from '@farris/devkit';\r\nimport { GSPUserListEntity, GSPUserListRepository } from '../domain/user-list-domain.index';\r\n\r\n/**\r\n * 用户列表绑定数据\r\n */\r\n@Injectable()\r\n@NgBindingData({\r\n  entity:     GSPUserListEntity,\r\n  repository: GSPUserListRepository\r\n})\r\nexport class GSPUserListBindingData extends BindingData {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/gspuser-list.bindingdata.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NgForm, NgFormControl, Form } from '@farris/devkit';\r\n\r\n@Injectable()\r\n@NgForm({\r\n  bindingData: null\r\n})\r\nexport class GSPUserListForm extends Form {\r\n\r\n  /**\r\n   * 构造函数\r\n   * @param injector 注入器\r\n   */\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n\r\n  /**\r\n   * 用户编号或者名称搜索框\r\n   */\r\n  @NgFormControl({\r\n    name: 'userSearch',\r\n  })\r\n  userSearch: FormControl;\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/gspuser-list.form.ts","import { Injectable } from '@angular/core';\r\nimport { StateMachine, State, RenderState, NgStatemachine, NgRenderState, NgState } from '@farris/devkit';\r\n\r\n\r\n@Injectable()\r\n@NgStatemachine()\r\nexport class GSPUserListStateMachine extends StateMachine {\r\n\r\n  /**\r\n   * 初始状态\r\n   */\r\n  @NgState({ initialState: true })\r\n  init: State;\r\n\r\n  /**\r\n   * 控件是否允许新增\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'init'\r\n  })\r\n  canAdd: RenderState;\r\n\r\n  /**\r\n   * 控件是否允许编辑\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'init'\r\n  })\r\n  canEdit: RenderState;\r\n\r\n  /**\r\n   * 控件是否允许删除\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'init'\r\n  })\r\n  canRemove: RenderState;\r\n\r\n  /**\r\n   * 控件是否允许查看\r\n   */\r\n  @NgRenderState({\r\n    render: (context) => context.state === 'init'\r\n  })\r\n  canView: RenderState;\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/gspuser-list.statemachine.ts","import { Injectable } from '@angular/core';\r\nimport { GSPUserListEntity } from '../domain/user-list-domain.index';\r\n\r\n/**\r\n * 用户列表UI状态\r\n */\r\n\r\n@Injectable()\r\nexport class GSPUserListUIState {\r\n\r\n  /**\r\n   * 选中的行\r\n   */\r\n  selectedIds: string[] = [];\r\n\r\n  /**\r\n   * 用户从服务端缓存数据：json格式\r\n   */\r\n  listCache: GSPUserListEntity[];\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/gspuser-list.uistate.ts","import { Injector, Injectable } from '@angular/core';\r\nimport { NgViewModel, ViewModel,  NgCommand } from '@farris/devkit';\r\nimport { GSPUserListBindingData } from './gspuser-list.bindingdata';\r\nimport { GSPUserListForm } from './gspuser-list.form';\r\nimport { GSPUserListStateMachine } from './gspuser-list.statemachine';\r\nimport { GSPUserListUIState } from './gspuser-list.uistate';\r\n\r\n/**\r\n * 用户列表视图模型\r\n */\r\n@Injectable()\r\n@NgViewModel({\r\n  children: [],\r\n  binding: GSPUserListBindingData,\r\n  form: GSPUserListForm,\r\n  stateMachine: GSPUserListStateMachine,\r\n})\r\nexport class GSPUserListViewModel extends ViewModel {\r\n\r\n  /**\r\n   * UI状态\r\n   */\r\n  public uiState: GSPUserListUIState;\r\n  public stateMachine: GSPUserListStateMachine;\r\n  public form: GSPUserListForm;\r\n\r\n  /**\r\n   * 构造函数--UI状态\r\n   */\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n    this.uiState = this.injector.get<GSPUserListUIState>(GSPUserListUIState);\r\n  }\r\n\r\n  /**\r\n   * 表单加载\r\n   */\r\n  @NgCommand({\r\n    name: 'userListFormLoad'\r\n   })\r\n  public formLoad() {}\r\n\r\n  /**\r\n   * 搜索\r\n   */\r\n  @NgCommand({\r\n    name: 'userListSearch'\r\n   })\r\n  public search() {}\r\n\r\n  /**\r\n   * 新增--附带参数，命令为route，action为add\r\n   */\r\n  @NgCommand({\r\n    name: 'userListRoute',\r\n    params: {\r\n      action: 'add'\r\n    }\r\n  })\r\n  public add() {}\r\n\r\n  /**\r\n   * 编辑--附带参数，命令为route，action为edit\r\n   */\r\n  @NgCommand({\r\n    name: 'userListRoute',\r\n    params: {\r\n      action: 'edit'\r\n    }\r\n  })\r\n  public edit() {}\r\n\r\n  /**\r\n   * 查看--附带参数，命令为route，action为view\r\n   */\r\n  @NgCommand({\r\n    name: 'userListRoute',\r\n    params: {\r\n      action: 'view'\r\n    }\r\n  })\r\n  public view() {}\r\n\r\n  /**\r\n   * 删除\r\n   */\r\n  @NgCommand({\r\n    name: 'userListRemove',\r\n  })\r\n  public remove() {}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/gspuser-list.viewmodel.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { GSPUserListDataService } from '../../domain/user-list-domain.index';\r\n\r\n/**\r\n * 用户列表获取数据\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userListFormLoad'\r\n})\r\nexport class UserListFormLoadHandler extends CommandHandler {\r\n\r\n  constructor(private dataService: GSPUserListDataService) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n    this.addTask('loadData', () => {\r\n      this.dataService.getAllUsers();\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-form-load.handler.ts","import { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { GSPUserListDataService, GSPUserListRepository } from '../../domain/user-list-domain.index';\r\nimport { GSPUserListUIState } from '../gspuser-list.uistate';\r\n\r\n/**\r\n * 用户列表界面删除操作\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userListRemove'\r\n})\r\nexport class UserListRemoveHandler extends CommandHandler {\r\n\r\n  // 注入UI状态和取数服务\r\n  constructor(\r\n    private dataService: GSPUserListDataService,\r\n    private uiState: GSPUserListUIState,\r\n    private userListRep: GSPUserListRepository\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 删除选中行前检查\r\n    this.addTask('remove', () => {\r\n      if (this.uiState.selectedIds.length === 0) {\r\n        alert('请选择要删除的用户');\r\n        return;\r\n      }\r\n      const deleteId = this.uiState.selectedIds[0];\r\n      this.dataService.remove(deleteId).subscribe((result: any) => {\r\n        // 删除成功后界面数据刷新\r\n        this.userListRep.removeEntityById(deleteId);\r\n      }, error => {\r\n        console.log(error);\r\n        console.log('删除用户失败');\r\n      });\r\n    });\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-remove.handler.ts","import { GSPUserListUIState } from '../gspuser-list.uistate';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { SysManagerUtil } from '../../../../common/util/sys-manager-util';\r\n\r\n/**\r\n * 用户列表查看、编辑、新增操作-路由到详情页面\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userListRoute'\r\n})\r\nexport class UserListRouteHandler extends CommandHandler {\r\n\r\n  constructor (\r\n    private router: Router,\r\n    private uistate: GSPUserListUIState,\r\n    private session: SysManagerUtil,\r\n\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n    this.addTask('route', (lastResult: any, context: TaskExecutionContext) => {\r\n      const command = context.command;\r\n      const action = command.params.action;\r\n      // 目前界面上是单选\r\n      const selectId = this.uistate.selectedIds[0];\r\n      // 如果为新增路径中拼入new;如果为编辑或者查看获取id，然后附加上动作进入卡片页面进行处理\r\n      const curUserId = (action === 'add') ? 'new' : selectId;\r\n      if (action === 'view' || action === 'edit') {\r\n        if (curUserId == null || curUserId.length === 0) {\r\n          alert('请选择对应的用户');\r\n          return;\r\n         }\r\n       }\r\n      // 路由到详情页,密码组件非只读\r\n      if (action === 'add') {\r\n        this.session.isView = false;\r\n       }\r\n      const userRouter = this.session.getUserManageRouter();\r\n      this.router.navigate([userRouter, curUserId, { action }]);\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-route.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler } from '@farris/devkit';\r\nimport { GSPUserListDataService, GSPUserListRepository } from '../../domain/user-list-domain.index';\r\nimport { GSPUserListForm } from '../gspuser-list.form';\r\nimport { GSPUserListUIState } from '../gspuser-list.uistate';\r\n\r\n/**\r\n * 用户列表根据起始日期搜索\r\n */\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'userListSearch'\r\n})\r\nexport class UserListSearchHandler extends CommandHandler {\r\n\r\n  constructor (\r\n    private dataService: GSPUserListDataService,\r\n    private form: GSPUserListForm\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  // 根据编号或者姓名搜索\r\n  schedule () {\r\n    this.addTask('loadData', () => {\r\n      // 空值不搜索\r\n      const userCodeOrName: string = this.form.userSearch.value;\r\n      if (userCodeOrName == null || userCodeOrName.length === 0) {\r\n        this.dataService.getAllUsers();\r\n      } else {\r\n        this.dataService.getUsersByCodeOrName(userCodeOrName);\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/handlers/user-list-search.handler.ts","import { Provider } from '@angular/core';\r\nimport { GSPUserListBindingData } from './gspuser-list.bindingdata';\r\nimport { GSPUserListForm } from './gspuser-list.form';\r\nimport { GSPUserListStateMachine } from './gspuser-list.statemachine';\r\nimport { GSPUserListUIState } from './gspuser-list.uistate';\r\nimport { GSPUserListViewModel } from './gspuser-list.viewmodel';\r\n\r\n\r\n// Handlers\r\nimport { UserListFormLoadHandler } from './handlers/user-list-form-load.handler';\r\nimport { UserListSearchHandler } from './handlers/user-list-search.handler';\r\nimport { UserListRouteHandler } from './handlers/user-list-route.handler';\r\nimport { UserListRemoveHandler } from './handlers/user-list-remove.handler';\r\n\r\nimport { UserDetailFormLoadHandler } from '../../gspuser-detail/app/handlers/user-detail-form-load.handler';\r\nimport { UserDetailSaveHandler } from '../../gspuser-detail/app/handlers/user-detail-save.handler';\r\nimport { UserDetailEditHandler } from '../../gspuser-detail/app/handlers/user-detail-edit.handler';\r\nimport { UserDetailCloseHandler } from '../../gspuser-detail/app/handlers/user-detail-close.handler';\r\nimport { UserDetailAddHandler } from '../../gspuser-detail/app/handlers/user-detail-add.handler';\r\nimport { UserDetailCancelHandler } from '../../gspuser-detail/app/handlers/user-detail-cancel.handler';\r\nimport { UserPositionFormLoadHandler, DeleteUserPosition, SaveUserPosition, AddUserPosition } from '../../gspuser-detail/user-position/app';\r\n\r\n// 命令-列表按钮\r\nconst userListCommandHandlers = [\r\n  UserListFormLoadHandler,\r\n  UserListSearchHandler,\r\n  UserListRouteHandler,\r\n  UserListRemoveHandler\r\n];\r\n\r\n/**用户列表所有的命令行 */\r\nexport const allCommandHandlers = [\r\n  // 用户列表\r\n  UserListFormLoadHandler,\r\n  UserListSearchHandler,\r\n  UserListRouteHandler,\r\n  UserListRemoveHandler,\r\n  // 用户详情\r\n  UserDetailFormLoadHandler,\r\n  UserDetailSaveHandler,\r\n  UserDetailCloseHandler,\r\n  UserDetailEditHandler,\r\n  UserDetailAddHandler,\r\n  UserDetailCancelHandler,\r\n  // 用户详情-用户岗位\r\n  UserPositionFormLoadHandler,\r\n  AddUserPosition,\r\n  DeleteUserPosition,\r\n  SaveUserPosition\r\n];\r\n\r\n\r\n\r\n// 列表依赖注入提供者\r\nconst USERLIST_APP_PROVIDERS: Provider[] = [\r\n  GSPUserListBindingData,\r\n  GSPUserListForm,\r\n  GSPUserListStateMachine,\r\n  GSPUserListUIState,\r\n  GSPUserListViewModel\r\n];\r\n\r\nexport {\r\n  USERLIST_APP_PROVIDERS,\r\n  userListCommandHandlers,\r\n  GSPUserListBindingData,\r\n  GSPUserListForm,\r\n  GSPUserListStateMachine,\r\n  GSPUserListUIState,\r\n  GSPUserListViewModel\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/app/user-list-app.index.ts","import { Entity, NgField, NgObject, EntityList, NgList } from '@farris/devkit';\r\n\r\n/**\r\n * 用户列表实体\r\n */\r\nexport class GSPUserListEntity extends Entity {\r\n\r\n  /**\r\n   * 用户内码\r\n   */\r\n  @NgField(\r\n    {\r\n      primary: true,\r\n      dataField: 'id'\r\n    }\r\n  )\r\n  id: string;\r\n\r\n  /**\r\n   * 用户编号\r\n   */\r\n  @NgField()\r\n  code: string;\r\n\r\n  /**\r\n   * 用户名称\r\n   */\r\n  @NgField()\r\n  name: string;\r\n\r\n  /**\r\n  * 用户类别\r\n  */\r\n  @NgField()\r\n  userType: number;\r\n\r\n  /**\r\n   * 组织内码\r\n   */\r\n  @NgField()\r\n  sysOrgId: string;\r\n  /**\r\n   * 组织编号\r\n   */\r\n  @NgField()\r\n  sysOrgCode: string;\r\n  /**\r\n   * 系统组织名称\r\n   */\r\n  @NgField()\r\n  sysOrgName: string;\r\n  /**\r\n   * 创建人\r\n   */\r\n  @NgField()\r\n  creatorName: string;\r\n\r\n    /**\r\n   * 描述\r\n   */\r\n  @NgField()\r\n  note: string;\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/domain/entities/gspuser-list.entity.ts","import { SysManagerUtil } from './../../../common/util/sys-manager-util';\r\nimport { Injectable, Injector } from '@angular/core';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { GSPUserListDataStorage } from './gspuser-list.datastorage';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n\r\n/**\r\n * 所有的用户列表数据获取走这里，获取所有，删除，搜索\r\n */\r\n@Injectable()\r\nexport class GSPUserListDataService {\r\n\r\n  /**\r\n   * 依赖注入\r\n   */\r\n  constructor (\r\n    private rest: RestfulService,\r\n    private dataStorage: GSPUserListDataStorage,\r\n    private userSession: SysManagerUtil\r\n  ) { }\r\n\r\n  /**\r\n   * 加载所有用户列表数据\r\n   */\r\n  getAllUsers (): void {\r\n    const allUsersUrl = `${ this.userSession.userWebApi }/all`;\r\n    const headers = this.userSession.getHeader();\r\n    this.rest.get(allUsersUrl, null, headers).subscribe(\r\n      (result: any) => {\r\n        this.dataStorage.load(result);\r\n      }, error => {\r\n        console.log(error);\r\n        console.log('获取用户列表失败');\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 根据用户编号或者姓名搜索用户\r\n   * @param codeOrName 用户编号或者姓名\r\n   */\r\n  getUsersByCodeOrName (codeOrName: string) {\r\n    const filter = { 'userCodeOrName': codeOrName };\r\n    this.getUserByFilter(filter, '根据编号或者名称获取用户出错');\r\n  }\r\n\r\n  /**\r\n   * 根据系统组织获取用户列表\r\n   * @param sysOrg 系统组织内码\r\n   */\r\n  getUsersBySysOrg (sysOrg: string) {\r\n    const filter = { 'sysOrgId': sysOrg };\r\n    this.getUserByFilter(filter, '根据系统组织获取用户出错');\r\n  }\r\n\r\n  /**\r\n   * 根据过滤条件获取用户\r\n   * @param filter 查询参数\r\n   * @param errorMsg 错误提示\r\n   */\r\n  private getUserByFilter (filter: object, errorMsg: string) {\r\n    const userUrl = this.userSession.userWebApi;\r\n    const headers = this.userSession.getHeader();\r\n    this.rest.get(userUrl, filter, headers).subscribe(result => {\r\n      this.dataStorage.load(result);\r\n    }, error => {\r\n      console.log(error);\r\n      console.log(errorMsg);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 删除一个用户\r\n   */\r\n  remove (id: string): Observable<any> {\r\n    const headers = this.userSession.getHeader();\r\n    const deleteUrl = `${ this.userSession.userWebApi }/${ id }`;\r\n    return this.rest.delete(deleteUrl, null, headers);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/domain/gspuser-list.dataservice.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { MemoryStorage } from '@farris/devkit';\r\n\r\n/**\r\n * 用户列表数据存储\r\n */\r\n@Injectable()\r\nexport class GSPUserListDataStorage extends MemoryStorage {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/domain/gspuser-list.datastorage.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { NgRepository, Repository } from '@farris/devkit';\r\nimport { GSPUserListEntity } from './entities/gspuser-list.entity';\r\nimport { GSPUserListDataStorage } from './gspuser-list.datastorage';\r\n\r\n/**\r\n * 用户列表仓库持久化层\r\n */\r\n@Injectable()\r\n@NgRepository({\r\n  from: GSPUserListDataStorage,\r\n  entityType: GSPUserListEntity\r\n})\r\nexport class GSPUserListRepository extends Repository<GSPUserListEntity> {\r\n  constructor(injector: Injector) {\r\n    super(injector);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/domain/gspuser-list.repository.ts","import { Provider } from '@angular/core';\r\nimport { GSPUserListEntity } from './entities/gspuser-list.entity';\r\nimport { GSPUserListDataStorage } from './gspuser-list.datastorage';\r\nimport { GSPUserListRepository } from './gspuser-list.repository';\r\nimport { GSPUserListDataService } from './gspuser-list.dataservice';\r\n\r\n// domain域服务提供者\r\nconst USERLIST_DOMAIN_PROVIDERS: Provider[] = [\r\n  GSPUserListDataStorage,\r\n  GSPUserListRepository,\r\n  GSPUserListDataService,\r\n];\r\n\r\n// 列表需要导出实体以及依赖注入\r\nexport {\r\n  GSPUserListEntity,\r\n  GSPUserListDataStorage,\r\n  GSPUserListRepository,\r\n  GSPUserListDataService,\r\n  USERLIST_DOMAIN_PROVIDERS\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/domain/user-list-domain.index.ts","module.exports = \"<div class=\\\"d-flex g-main\\\">\\r\\n    <!--系统组织和分组导航-->\\r\\n    <div class=\\\"col-xs-3 col-sm-3 col-md-3 col-lg-3\\\">\\r\\n      <div class=\\\"pt-5 mb-2\\\">\\r\\n        <ng-container>\\r\\n          <kendo-tabstrip>\\r\\n            <kendo-tabstrip-tab [title]=\\\"'系统组织'\\\" [selected]=\\\"true\\\">\\r\\n              <ng-template kendoTabContent>\\r\\n                <app-sys-org-tree></app-sys-org-tree>\\r\\n              </ng-template>\\r\\n            </kendo-tabstrip-tab>\\r\\n            \\r\\n          </kendo-tabstrip>\\r\\n        </ng-container>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!--用户列表-->\\r\\n    <div class=\\\"col-xs-9 col-sm-9 col-md-9 col-lg-9\\\">\\r\\n        <div class=\\\"d-flex flex-column g-main\\\">\\r\\n          <!--标题-->\\r\\n          <div class=\\\"clearfix pt-2 mb-2  mr-3\\\">\\r\\n              <h1 class=\\\"h4 d-inline-block\\\">用户列表</h1>\\r\\n              <div class=\\\"float-right\\\">\\r\\n                <button class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"viewModel.add()\\\">新增</button>\\r\\n                <button class=\\\"btn btn-sm btn-default\\\" (click)=\\\"viewModel.edit()\\\">编辑</button>\\r\\n                <button class=\\\"btn btn-sm btn-default\\\" (click)=\\\"viewModel.view()\\\">查看</button>\\r\\n                <button class=\\\"btn btn-sm btn-default\\\" (click)=\\\"viewModel.remove()\\\">删除</button>\\r\\n              </div>\\r\\n          </div>\\r\\n          <!--搜索框-->\\r\\n          <div class=\\\"clearfix mb-2\\\">\\r\\n              <form [formGroup]=\\\"viewModel.form\\\">\\r\\n                <div class=\\\"form-inline\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"k-form-field\\\">\\r\\n                      <span>条件搜索:</span>\\r\\n                    </label>\\r\\n                    <div class=\\\"k-form-field mx-3\\\">\\r\\n                      <input formControlName=\\\"userSearch\\\" placeholder=\\\"输入用户编号或者名称\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div>\\r\\n                    <button class=\\\"mr-1 k-button\\\" (click)=\\\"viewModel.search()\\\">\\r\\n                      <i class=\\\"material-icons align-middle\\\" style=\\\"font-size: 18px;\\\">搜索</i>\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </form>\\r\\n          </div>\\r\\n          <!--用户列表信息-->\\r\\n          <div class=\\\"flex-auto d-flex mr-3\\\" style=\\\"position:relative;\\\">\\r\\n            <kendo-grid \\r\\n            [pageable]=\\\"pageSetting\\\"\\r\\n            [pageSize]=\\\"20\\\"\\r\\n            [class]=\\\"'flex-auto'\\\"\\r\\n             [selectable]=\\\"selectableSettings\\\" [kendoGridBinding]=\\\"userList\\\"\\r\\n              [kendoGridSelectBy]=\\\"'id'\\\" [selectedKeys]=\\\"viewModel.uiState.selectedIds\\\">\\r\\n              <kendo-grid-checkbox-column width=\\\"5%\\\"></kendo-grid-checkbox-column>\\r\\n              <kendo-grid-column field=\\\"code\\\" title=\\\"用户编号\\\" width=\\\"15%\\\"></kendo-grid-column>\\r\\n              <kendo-grid-column field=\\\"name\\\" title=\\\"用户名称\\\" width=\\\"20%\\\"></kendo-grid-column>\\r\\n              <kendo-grid-column field=\\\"sysOrgName\\\" title=\\\"系统组织\\\" width=\\\"20%\\\"></kendo-grid-column>\\r\\n              <kendo-grid-column field=\\\"creatorName\\\" title=\\\"创建人\\\" width=\\\"20%\\\"></kendo-grid-column>\\r\\n              <kendo-grid-column field=\\\"note\\\" title=\\\"描述\\\" width=\\\"20%\\\"></kendo-grid-column>\\r\\n            </kendo-grid>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/gspuser-list/gspuser-list.component.html\n// module id = ./src/app/modules/user-manager/gspuser-list/gspuser-list.component.html\n// module chunks = user-manager.module","import { Component, OnInit } from '@angular/core';\r\nimport { GSPUserListViewModel } from './app/user-list-app.index';\r\nimport { SelectableSettings, PageChangeEvent, GridDataResult, PagerSettings} from '@progress/kendo-angular-grid';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { SysManagerUtil } from '../../common/util/sys-manager-util';\r\n\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'app-gspuser-list',\r\n    templateUrl: './gspuser-list.component.html',\r\n})\r\nexport class GSPUserListComponent implements OnInit {\r\n\r\n  userList: any[];\r\n  public pageSetting: PagerSettings;\r\n  public selectableSettings: SelectableSettings;\r\n  constructor (\r\n    public viewModel: GSPUserListViewModel,\r\n    private route: ActivatedRoute,\r\n    private currentSession: SysManagerUtil\r\n  ) {\r\n  }\r\n\r\n  ngOnInit () {\r\n    // 清空搜索框和选中行\r\n    this.viewModel.form.userSearch.setValue('');\r\n    this.viewModel.uiState.selectedIds = [];\r\n    // 框架路由进来的时候获取到funcid\r\n    this.route.paramMap.subscribe((params: Params) => {\r\n      if (params.has('funcid')) {\r\n        this.currentSession.funcId = params.get('funcid');\r\n      }\r\n    });\r\n    this.viewModel.bindingData.changes.subscribe(\r\n      result => {\r\n        this.userList = this.viewModel.bindingData.list.toJSON();\r\n      }\r\n    );\r\n    this.viewModel.formLoad();\r\n    // 分页模式\r\n    this.pageSetting = {\r\n      buttonCount: 5,\r\n      info: false,\r\n      pageSizes: true,\r\n      previousNext: true\r\n    };\r\n      // 单选\r\n    this.selectableSettings = {\r\n      checkboxOnly: true,\r\n      mode: 'single',\r\n      enabled: true\r\n    };\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/gspuser-list/gspuser-list.component.ts","import { Provider } from '@angular/core';\r\nimport { GSPSysOrgDataService } from './sys-org.dataservice';\r\nimport { GSPSysOrgDataStorage } from './sys-org.datastorage';\r\n\r\n\r\n\r\nconst sysOrgProvider: Provider[] = [\r\n    GSPSysOrgDataStorage,\r\n    GSPSysOrgDataService\r\n];\r\n\r\nexport {\r\n    GSPSysOrgDataService,\r\n    sysOrgProvider\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/sys-org-tree/domain/index.ts","import { SysManagerUtil } from './../../../common/util/sys-manager-util';\r\nimport { Injectable } from '@angular/core';\r\nimport { RestfulService } from '@farris/devkit';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { GSPUserListDataService } from '../../gspuser-list/domain/gspuser-list.dataservice';\r\nimport { GSPSysOrgDataStorage } from './sys-org.datastorage';\r\n\r\n/**\r\n * 系统组织restful服务\r\n */\r\n@Injectable()\r\nexport class GSPSysOrgDataService {\r\n\r\n    constructor (\r\n        private rest: RestfulService,\r\n        private userListService: GSPUserListDataService,\r\n        private userSession: SysManagerUtil,\r\n    ) {\r\n    }\r\n\r\n    /**\r\n     * 根据组织内码获取用户数据\r\n     * @param dataId 组织内码\r\n     */\r\n    getUsersWhenOrgChanged (dataId: string) {\r\n        if (dataId !== '') {\r\n            this.userListService.getUsersBySysOrg(dataId);\r\n        } else {\r\n            // 获取所有用户\r\n            this.userListService.getAllUsers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取所有系统组织\r\n     */\r\n    getAllSysOrgs (): Observable<any> {\r\n        const allSysOrgsUrl = `${ this.userSession.sysOrgWebApi }/all`;\r\n        const headers = this.userSession.getHeader();\r\n        return this.rest.get(allSysOrgsUrl, null, headers).map((result: any[]) => {\r\n            const data = result.map(sysOrg => {\r\n                if (sysOrg.layer === 1 && sysOrg.parentId === '') {\r\n                    sysOrg.parentId = undefined;\r\n                }\r\n                return sysOrg;\r\n            });\r\n            return data;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/sys-org-tree/domain/sys-org.dataservice.ts","import { Injectable, Injector } from '@angular/core';\r\nimport { MemoryStorage } from '@farris/devkit';\r\n\r\n/**\r\n * 系统组织数据存储\r\n */\r\n@Injectable()\r\nexport class GSPSysOrgDataStorage extends MemoryStorage {\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/sys-org-tree/domain/sys-org.datastorage.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.css\n// module id = ./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.css\n// module chunks = user-manager.module","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12 col-sm-12 col-md-12 col-lg-12\\\">\\r\\n      <kendo-treeview \\r\\n      [nodes]=\\\"this.sysOrgs\\\"\\r\\n      textField=\\\"name\\\"\\r\\n      idField=\\\"id\\\"\\r\\n      parentIdField=\\\"parentId\\\"\\r\\n      kendoTreeViewExpandable\\r\\n      kendoTreeViewFlatDataBinding\\r\\n      kendoTreeViewSelectable\\r\\n      [selectBy]=\\\"'id'\\\"\\r\\n      [(selectedKeys)]=\\\"selectKeys\\\"\\r\\n      (selectionChange)=\\\"selectChange($event)\\\"\\r\\n      ></kendo-treeview>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.html\n// module id = ./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.html\n// module chunks = user-manager.module","import { SysOrgEntity } from './domain/entities/sys-org.entity';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { sysOrgsDemo } from './sys-org-json';\r\nimport { GSPSysOrgDataService } from './domain/sys-org.dataservice';\r\n\r\n/**\r\n * 系统组织组件\r\n */\r\n@Component({\r\n  selector: 'app-sys-org-tree',\r\n  templateUrl: './sys-org-tree.component.html',\r\n  styleUrls: ['./sys-org-tree.component.css']\r\n})\r\nexport class SysOrgTreeComponent implements OnInit {\r\n\r\n  constructor (\r\n    private sysOrgService: GSPSysOrgDataService\r\n  ) { }\r\n  /**组织数据 */\r\n  public sysOrgs: any[];\r\n  /**组织树上选择的主键 */\r\n  selectKeys: any[] = [];\r\n  ngOnInit () {\r\n    this.sysOrgService.getAllSysOrgs().subscribe(\r\n      (result: any) => {\r\n        this.sysOrgs = result;\r\n        console.log(result);\r\n      }, error => { console.log('获取系统组织列表失败'); }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 组织树选择后出发事件，需要自己处理值是否变化\r\n   * @param event 事件参数\r\n   */\r\n  selectChange (event: any) {\r\n    // 当前选中行的内码\r\n    const curSysOrgId = event.dataItem.id;\r\n    // 首次选择\r\n    if (this.selectKeys == null || this.selectKeys.length === 0) {\r\n      this.sysOrgService.getUsersWhenOrgChanged(curSysOrgId);\r\n    } else {\r\n      // 这个事件里还不会对selectedkeys数组赋值，是上一个状态的\r\n      const lastSysOrgId = this.selectKeys[0];\r\n      // 变化的情况下触发\r\n      if (curSysOrgId !== lastSysOrgId) {\r\n        this.sysOrgService.getUsersWhenOrgChanged(curSysOrgId);\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/sys-org-tree/sys-org-tree.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { CommandModule, RestfulService } from '@farris/devkit';\r\n/**用户列表 */\r\nimport { USERLIST_DOMAIN_PROVIDERS } from './gspuser-list/domain/user-list-domain.index';\r\nimport { USERLIST_APP_PROVIDERS, allCommandHandlers } from './gspuser-list/app/user-list-app.index';\r\n/**用户详情 */\r\nimport { USERDETAIL_DOMAIN_PROVIDERS } from './gspuser-detail/domain/gspuser-detail-domain.index';\r\nimport { USERDETAIL_APP_PROVIDERS } from './gspuser-detail/app/gspuser-detail-app.index';\r\n/**路由 */\r\nimport { GSPUserManagerRoutingModule } from './user-manager.route.module';\r\nimport { GSPUserListComponent } from './gspuser-list/gspuser-list.component';\r\nimport { GSPUserDetailComponent } from './gspuser-detail/gspuser-detail.component';\r\n/**系统组织导航 */\r\nimport { SysOrgTreeComponent } from './sys-org-tree/sys-org-tree.component';\r\nimport { UserPositionComponent } from './gspuser-detail/user-position/user-position.component';\r\nimport { sysOrgProvider } from './sys-org-tree/domain';\r\nimport { UserPasswordComponent } from './gspuser-detail/userpassword/userpassword.component';\r\nimport { UserPasswordDataService } from './gspuser-detail/userpassword/domain/userpassword.dataservice';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\n// import { KendoBindingModule } from '@farris/kendo-binding';\r\nimport { UserPassWord } from './gspuser-detail/userpassword/domain/password';\r\nimport { userPos_Domain_Providers } from './gspuser-detail/user-position/domain';\r\nimport { userPos_App_Providers } from './gspuser-detail/user-position/app';\r\n// import { SysCommonModule } from '../common/sys-common.module';\r\nimport { SysManagerUtil } from '../common';\r\nimport { PosHelpComponent } from './gspuser-detail/help/list-help/pos-help.component';\r\nimport { SysOrgHelpComponent } from './gspuser-detail/help/sys-org-help.component';\r\nvar GSPUserManagerModule = /** @class */ (function () {\r\n    function GSPUserManagerModule() {\r\n    }\r\n    GSPUserManagerModule.prototype.constrctor = function () {\r\n    };\r\n    GSPUserManagerModule = __decorate([\r\n        NgModule({\r\n            declarations: [\r\n                GSPUserListComponent,\r\n                GSPUserDetailComponent,\r\n                SysOrgTreeComponent,\r\n                UserPositionComponent,\r\n                UserPasswordComponent,\r\n                PosHelpComponent,\r\n                SysOrgHelpComponent\r\n            ],\r\n            imports: [\r\n                CommonModule,\r\n                FormsModule,\r\n                ReactiveFormsModule,\r\n                /**Kendo-Start */\r\n                GridModule,\r\n                // DateInputsModule,\r\n                LayoutModule,\r\n                TreeViewModule,\r\n                /**Kendo-End */\r\n                // KendoBindingModule,\r\n                GSPUserManagerRoutingModule,\r\n                /**命令(列表+详情) */\r\n                CommandModule.setup(allCommandHandlers, []),\r\n            ],\r\n            providers: [\r\n                RestfulService,\r\n                USERLIST_DOMAIN_PROVIDERS,\r\n                USERLIST_APP_PROVIDERS,\r\n                USERDETAIL_DOMAIN_PROVIDERS,\r\n                USERDETAIL_APP_PROVIDERS,\r\n                sysOrgProvider,\r\n                // 密码添加\r\n                UserPasswordDataService,\r\n                UserPasswordComponent,\r\n                UserPassWord,\r\n                // 用户和岗位关联关系\r\n                userPos_Domain_Providers,\r\n                userPos_App_Providers,\r\n                PosHelpComponent,\r\n                SysManagerUtil\r\n            ]\r\n        })\r\n    ], GSPUserManagerModule);\r\n    return GSPUserManagerModule;\r\n}());\r\nexport { GSPUserManagerModule };\r\n//# sourceMappingURL=user-manager.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/user-manager/user-manager.module.js\n// module id = ./src/app/modules/user-manager/user-manager.module.js\n// module chunks = user-manager.module","import { NgModule, Provider } from '@angular/core';\r\nimport { Routes, RouterModule, Router } from '@angular/router';\r\nimport { GSPUserListComponent } from './gspuser-list/gspuser-list.component';\r\nimport { GSPUserDetailComponent } from './gspuser-detail/gspuser-detail.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  /**列表页面 */\r\n  { path: 'users', component: GSPUserListComponent },\r\n  /**详情页面 */\r\n  { path: 'users/:id', component: GSPUserDetailComponent },\r\n  { path: '', redirectTo: 'users', pathMatch: 'full' },\r\n  // { path: '/:ssid', component: GSPUserListComponent },\r\n  { path: '**', redirectTo: 'users' }\r\n];\r\n/**\r\n * 用户管理路由模块\r\n */\r\n/*\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nexport class GSPUserManagerRoutingModule {}\r\n*/\r\n\r\nexport const GSPUserManagerRoutingModule = RouterModule.forChild(routes);\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/user-manager/user-manager.route.module.ts"],"sourceRoot":"webpack:///"}