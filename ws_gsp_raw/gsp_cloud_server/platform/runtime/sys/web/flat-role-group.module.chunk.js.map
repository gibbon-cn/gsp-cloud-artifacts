{"version":3,"sources":["./src/app/modules/flat-role-groups/app/flat-func-tree-bindingdata.ts","./src/app/modules/flat-role-groups/app/flat-func-tree-form.ts","./src/app/modules/flat-role-groups/app/flat-func-tree-statemachine.ts","./src/app/modules/flat-role-groups/app/flat-func-tree-uistate.ts","./src/app/modules/flat-role-groups/app/flat-func-tree-viewmodel.ts","./src/app/modules/flat-role-groups/app/handler/flat-add-child.handler.ts","./src/app/modules/flat-role-groups/app/handler/flat-add-item.handler.ts","./src/app/modules/flat-role-groups/app/handler/flat-cancle.handler.ts","./src/app/modules/flat-role-groups/app/handler/flat-edit.handler.ts","./src/app/modules/flat-role-groups/app/handler/flat-form-load.handler.ts","./src/app/modules/flat-role-groups/app/handler/flat-remove.handler.ts","./src/app/modules/flat-role-groups/app/handler/flat-save.handler.ts","./src/app/modules/flat-role-groups/app/handler/index.ts","./src/app/modules/flat-role-groups/app/index.ts","./src/app/modules/flat-role-groups/domain/entities/flat-func.entity.ts","./src/app/modules/flat-role-groups/domain/flat-func-tree-datastorage.ts","./src/app/modules/flat-role-groups/domain/flat-func-tree-repository.ts","./src/app/modules/flat-role-groups/domain/flat-func.service.ts","./src/app/modules/flat-role-groups/domain/index.ts","./src/app/modules/flat-role-groups/flat-function-tree.component.css","./src/app/modules/flat-role-groups/flat-function-tree.component.html","./src/app/modules/flat-role-groups/flat-function-tree.component.ts","./src/app/modules/flat-role-groups/flat-function-tree.routing.module.ts","./src/app/modules/flat-role-groups/flat-role-group.module.js","./src/app/modules/shared/data-util.ts"],"names":[],"mappings":"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","file":"flat-role-group.module.chunk.js","sourcesContent":["import { Injectable, Injector } from '@angular/core';\nimport { NgBindingData, BindingData } from '@farris/devkit';\nimport { FlatFuncEntity, FlatFuncTreeRepository } from '../domain';\n\n@Injectable()\n@NgBindingData({\n  entity:     FlatFuncEntity,\n  repository: FlatFuncTreeRepository\n})\nclass FlatFuncTreeBindingdata extends BindingData {\n  constructor(injector: Injector) {\n    super(injector);\n  }\n}\n\nexport { FlatFuncTreeBindingdata };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/flat-func-tree-bindingdata.ts","import { Injectable, Injector } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { NgForm, Form, NgFormControl, NgChildForm, NgChildFormArray } from '@farris/devkit';\nimport { FlatFuncTreeBindingdata} from './flat-func-tree-bindingdata';\n\n \n@Injectable()\n@NgForm({\n  bindingData: FlatFuncTreeBindingdata\n})\nclass FlatFuncTreeForm extends Form {\n\n  constructor(injector: Injector) {\n    super(injector);\n  }\n\n  /**\n   * id\n   */\n  @NgFormControl({\n    name: 'id',\n    binding: 'FID'\n  })\n  FID: FormControl;\n\n  /**\n   * code\n   */\n  @NgFormControl({\n    name: 'code',\n    binding: 'FCode'\n  })\n  FCode: FormControl;\n\n  /**\n   * 名称\n   */\n  @NgFormControl({\n    name: 'name',\n    binding: 'FName'\n  })\n  FName: FormControl;\n\n  /**\n   * path\n   */\n  @NgFormControl({\n    name: 'path',\n    binding: 'FPath'\n  })\n  FPath: FormControl;\n\n    /**\n   * layer\n   */\n  @NgFormControl({\n    name: 'layer',\n    binding: 'FLayer'\n  })\n  FLayer: FormControl;\n\n    /**\n   * isdetail\n   */\n  @NgFormControl({\n    name: 'isDetail',\n    binding: 'FIsdetail'\n  })\n  FIsdetail: FormControl;\n\n  \n    /**\n   * sortorder\n   */\n  @NgFormControl({\n    name: 'sortOrder',\n    binding: 'FSortorder'\n  })\n  FSortorder: FormControl;\n\n    /**\n   * sysinit\n   */\n  @NgFormControl({\n    name: 'sysInit',\n    binding: 'FSysinit'\n  })\n  FSysinit: FormControl;\n\n    /**\n   * note\n   */\n  @NgFormControl({\n    name: 'note',\n    binding: 'FNote'\n  })\n  FNote: FormControl;\n\n    /**\n   * 父级\n   */\n  @NgFormControl({\n    name: 'parentId',\n    binding: 'FParentid'\n  })\n  FParentid: FormControl;\n  \n}\n\n\nexport {FlatFuncTreeForm };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/flat-func-tree-form.ts","import { Injectable } from '@angular/core';\nimport { StateMachine, NgStatemachine, State, NgState, RenderState,  NgRenderState, Action, NgAction } from '@farris/devkit';\n\n@Injectable()\n@NgStatemachine()\nclass FlatFuncTreeStatemachine extends StateMachine {\n\n  /**\n   * --------------------------------------------------------------------------------\n   * 基本状态定义\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * 查看状态\n   */\n  @NgState({ initialState: true })\n  viewState: State;\n\n  /**\n   * 新增状态\n   */\n  @NgState()\n  addState: State;\n\n  /**\n   * 编辑状态\n   */\n  @NgState()\n  editState: State;\n\n\n  /**\n   * --------------------------------------------------------------------------------\n   * 渲染状态定义\n   * --------------------------------------------------------------------------------\n   */\n\n  /**\n   * 新增按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canAdd: RenderState;\n\n  /**\n   * 编辑按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canEdit: RenderState;\n\n\n  /**\n   * 取消按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'addState' || context.state === 'editState'\n  })\n  canCancel: RenderState;\n\n\n  /**\n   * 删除\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canDelete: RenderState;\n\n  /**\n   * 保存按钮是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'addState' || context.state === 'editState'\n  })\n  canSave: RenderState;\n\n  /**\n   * 上一条、下一条是否允许点击\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'viewState'\n  })\n  canSwitch: RenderState;\n\n  /**\n   * 输入控件是否允许输入\n   */\n  @NgRenderState({\n    render: (context) => context.state === 'addState' || context.state === 'editState'\n  })\n  canInput: RenderState;\n\n\n  /**\n   * --------------------------------------------------------------------------------\n   * 迁移动作定义\n   * --------------------------------------------------------------------------------\n   */\n  @NgAction({transitTo: 'addState' })\n  add: Action;\n\n  @NgAction({ transitTo: 'editState' })\n  edit: Action;\n\n  @NgAction({ transitTo: 'viewState' })\n  view: Action;\n}\n\nexport { FlatFuncTreeStatemachine };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/flat-func-tree-statemachine.ts","class FlatFuncTreeUistate {\n\n    //上个状态\n    action:string;\n}\nexport { FlatFuncTreeUistate };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/flat-func-tree-uistate.ts","import { Injector, Injectable } from '@angular/core';\nimport { NgViewModel, ViewModel,  NgCommand } from '@farris/devkit';\n\nimport { FlatFuncTreeBindingdata } from './flat-func-tree-bindingdata';\nimport { FlatFuncTreeForm } from './flat-func-tree-form';\nimport { FlatFuncTreeStatemachine } from './flat-func-tree-statemachine';\nimport { FlatFuncTreeUistate } from './flat-func-tree-uistate';\n\n/**\n * 视图模型\n */\n@Injectable()\n@NgViewModel({\n  children: [],\n  binding: FlatFuncTreeBindingdata,\n  form: FlatFuncTreeForm,\n  stateMachine: FlatFuncTreeStatemachine,\n})\nclass FlatFuncTreeViewmodel extends ViewModel {\n\n  public stateMachine: FlatFuncTreeStatemachine;\n  public uiState: FlatFuncTreeUistate;\n\n  /**\n   * 构造函数\n   */\n  constructor(injector: Injector) {\n    super(injector);\n    this.uiState = this.injector.get(FlatFuncTreeUistate);\n  }\n\n  /**\n   * 表单加载\n   */\n  @NgCommand({\n    name: 'formLoad'\n   })\n  public formLoad() {}\n\n  /**\n   * 新增子级\n   */\n  @NgCommand({\n    name: 'addchild'\n   })\n  public addchild() {}\n\n  /**\n   * 新增平级\n   */\n  @NgCommand({\n    name: 'additem'\n   })\n  public additem() {}\n\n  /**\n   * 编辑\n   */\n  @NgCommand({\n    name: 'edit'\n   })\n  public edit() {}\n\n\n  /**\n   * 删除\n   */\n  @NgCommand({\n    name: 'remove'\n   })\n  public remove() {}\n\n  /**\n   * 保存\n   */\n  @NgCommand({\n    name: 'save'\n   })\n  public save() {}\n\n  /**\n   * 取消\n   */\n  @NgCommand({\n    name: 'cancel'\n   })\n  public cancel() {}\n\n\n}\n\nexport { FlatFuncTreeViewmodel };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/flat-func-tree-viewmodel.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext ,EntityFactory} from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\nimport { FlatFuncEntity } from '../../domain';\r\nimport { DataUtil } from '../../../shared/data-util';\r\nimport { FlatFuncTreeBindingdata } from '../flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeRepository } from '../../domain/flat-func-tree-repository';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'addchild'\r\n})\r\nclass FlatAddChildHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private uiState: FlatFuncTreeUistate,\r\n    private stateMachine: FlatFuncTreeStatemachine,\r\n    private repository: FlatFuncTreeRepository,\r\n    private bindingData: FlatFuncTreeBindingdata\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('addchild', () => {\r\n      \r\n      this.uiState.action = 'add';\r\n      let item = this.bindingData.list.currentItem;\r\n      let data = {\r\n          id: DataUtil.createNM(), \r\n          code : '',\r\n          name: '' ,\r\n          parentId: item['FID'],\r\n          layer: Number(item['FLayer']) + 1,\r\n          isDetail: true\r\n        };\r\n      \r\n      const newEntity = EntityFactory<FlatFuncEntity>(FlatFuncEntity, data);\r\n\r\n      this.repository.addEntity(newEntity);\r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['edit']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatAddChildHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-add-child.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext,EntityFactory } from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\nimport { DataUtil } from '../../../shared/data-util';\r\nimport { FlatFuncEntity } from '../../domain';\r\nimport { FlatFuncTreeBindingdata } from '../flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeRepository } from '../../domain/flat-func-tree-repository';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'additem'\r\n})\r\nclass FlatAddItemHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private uiState: FlatFuncTreeUistate,\r\n    private stateMachine: FlatFuncTreeStatemachine,\r\n    private repository: FlatFuncTreeRepository,\r\n    private bindingData: FlatFuncTreeBindingdata\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('additem', () => {\r\n      this.uiState.action = 'add';\r\n      let item = this.bindingData.list.currentItem;\r\n      // data必须与实体绑定数据大小写一致\r\n      let data = {\r\n          id: DataUtil.createNM(), \r\n          code : '',\r\n          name: '' ,\r\n          layer : item['FLayer'] || 1,\r\n          isdDetail: true,\r\n          parentId: item['FParentid']\r\n        };\r\n      \r\n      const newEntity = EntityFactory<FlatFuncEntity>(FlatFuncEntity, data);\r\n\r\n      this.repository.addEntity(newEntity);\r\n      \r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['edit']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatAddItemHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-add-item.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\nimport { FlatFuncTreeBindingdata } from '../flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeRepository } from '../../domain/flat-func-tree-repository'\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'cancel'\r\n})\r\nclass FlatCancleHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private repository: FlatFuncTreeRepository,\r\n    private bindingData: FlatFuncTreeBindingdata,\r\n    private stateMachine: FlatFuncTreeStatemachine,\r\n    private uiState: FlatFuncTreeUistate,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('cancel', () => {\r\n      \r\n        if(this.uiState.action !== 'add')\r\n            return ;\r\n        let id = this.bindingData.list.currentId;        \r\n        this.repository.removeEntityById(id.toString());\r\n        this.uiState.action ='camcel';\r\n      });\r\n\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {    \r\n      this.stateMachine['view']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatCancleHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-cancle.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\nimport { FlatFuncTreeBindingdata } from '../flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeRepository } from '../../domain/flat-func-tree-repository'\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'edit'\r\n})\r\nclass FlatEditHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private repository: FlatFuncTreeRepository,\r\n    private uiState: FlatFuncTreeUistate,\r\n    private bindingData: FlatFuncTreeBindingdata,\r\n    private stateMachine: FlatFuncTreeStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {  \r\n      this.uiState.action = 'edit'; \r\n      this.stateMachine['edit']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatEditHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-edit.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'formLoad'\r\n})\r\nclass FlatFormLoadHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private uiState: FlatFuncTreeUistate,\r\n    private stateMachine: FlatFuncTreeStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('loadData', () => {\r\n        this.uiState.action ='load';\r\n        this.dataService.getdata();\r\n      \r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {\r\n      const action = this.uiState.action;\r\n      this.stateMachine['view']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatFormLoadHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-form-load.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\nimport { FlatFuncTreeBindingdata } from '../flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeRepository } from '../../domain/flat-func-tree-repository'\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'remove'\r\n})\r\nclass FlatRemoveHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private repository: FlatFuncTreeRepository,\r\n    private bindingData: FlatFuncTreeBindingdata,\r\n    private stateMachine: FlatFuncTreeStatemachine,\r\n    private uiState: FlatFuncTreeUistate,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('remove', () => {\r\n      \r\n        const fid = this.bindingData['FID'];\r\n        this.dataService.remove(fid);\r\n        this.uiState.action ='remove';\r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {      \r\n      this.stateMachine['view']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatRemoveHandler };\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-remove.handler.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { CommandHandler, NgCommandHandler, TaskExecutionContext } from '@farris/devkit';\r\nimport { FlatFuncService } from '../../domain';\r\nimport { FlatFuncTreeStatemachine } from '../flat-func-tree-statemachine';\r\nimport { FlatFuncTreeUistate } from '../flat-func-tree-uistate';\r\nimport { FlatFuncTreeBindingdata } from '../flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeRepository } from '../../domain/flat-func-tree-repository';\r\n\r\n\r\n@Injectable()\r\n@NgCommandHandler({\r\n  commandName: 'save'\r\n})\r\nclass FlatSaveHandler extends CommandHandler {\r\n\r\n  constructor(\r\n    private dataService: FlatFuncService,\r\n    private repository: FlatFuncTreeRepository,\r\n    private bindingData: FlatFuncTreeBindingdata,\r\n    private uiState: FlatFuncTreeUistate,\r\n    private stateMachine: FlatFuncTreeStatemachine\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  schedule() {\r\n\r\n    // 数据加载\r\n    this.addTask('save', () => {\r\n      \r\n        \r\n        let item = this.bindingData.list.currentItem;\r\n        console.log('savedata = ' + JSON.stringify(this.bindingData.list.toJSON()));\r\n        this.dataService.save(item);\r\n        console.log('savedata = ' + JSON.stringify(this.bindingData.list.toJSON()));\r\n        this.uiState.action ='save';\r\n    });\r\n\r\n    // 状态迁移\r\n    this.addTask('transitState', () => {\r\n      this.stateMachine['view']();\r\n    });\r\n  }\r\n}\r\n\r\nexport { FlatSaveHandler };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/flat-save.handler.ts","import { FlatFormLoadHandler } from './flat-form-load.handler';\r\nimport { FlatRemoveHandler } from './flat-remove.handler';\r\nimport { FlatSaveHandler } from './flat-save.handler';\r\nimport { FlatAddItemHandler } from './flat-add-item.handler';\r\nimport { FlatAddChildHandler } from './flat-add-child.handler';\r\nimport { FlatCancleHandler } from './flat-cancle.handler';\r\nimport { FlatEditHandler } from './flat-edit.handler';\r\n\r\n\r\nconst commandHandlers = [\r\n  FlatFormLoadHandler,\r\n  FlatRemoveHandler,\r\n  FlatSaveHandler,\r\n  FlatAddItemHandler,\r\n  FlatAddChildHandler,\r\n  FlatCancleHandler,\r\n  FlatEditHandler\r\n];\r\n\r\nexport { commandHandlers };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/handler/index.ts","import { Provider } from '@angular/core';\r\nimport { FlatFuncTreeBindingdata } from './flat-func-tree-bindingdata';\r\nimport { FlatFuncTreeForm } from './flat-func-tree-form';\r\nimport { FlatFuncTreeStatemachine } from './flat-func-tree-statemachine';\r\nimport { FlatFuncTreeViewmodel } from './flat-func-tree-viewmodel';\r\nimport { FlatFuncTreeUistate } from './flat-func-tree-uistate';\r\nimport { commandHandlers } from './handler';\r\n\r\n\r\nconst APP_PROVIDERS: Provider[] = [\r\n    FlatFuncTreeBindingdata,\r\n    FlatFuncTreeForm,\r\n    FlatFuncTreeStatemachine,\r\n    FlatFuncTreeViewmodel,\r\n    FlatFuncTreeUistate\r\n];\r\n\r\nexport {\r\n    FlatFuncTreeBindingdata,\r\n    FlatFuncTreeForm,\r\n    FlatFuncTreeStatemachine,\r\n    FlatFuncTreeViewmodel,\r\n    FlatFuncTreeUistate,\r\n\r\n    APP_PROVIDERS,\r\n    commandHandlers\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/app/index.ts","import { Entity, NgField, NgObject, EntityList, NgList } from '@farris/devkit';\n/**\n * 客户实体\n */\nexport class FlatFuncEntity extends Entity {\n\n  /**\n   * Id\n   */\n  @NgField({\n    dataField:'id',\n    primary:true\n  })\n  FID: string;\n\n  /**\n   * code\n   */\n  @NgField({\n    dataField:'code'\n  })\n  FCode: string;\n\n  /**\n   * name\n   */\n  @NgField({\n    dataField: 'name'\n  })\n  FName: string;\n\n\n  /**\n   * 业务对象\n   */\n  @NgField({\n    dataField:'path'\n  })\n  FPath: string;\n\n\n    /**\n   * 业务操作\n   */\n  @NgField({\n    dataField:'layer'\n  })\n  FLayer: string;\n\n\n  /**\n   * 是否是工作中心\n   */\n  @NgField({\n    dataField:'isDetail'\n  })\n  FIsdetail: boolean;\n\n\n\n  /**\n   * 调用信息\n   */\n  @NgField({\n    dataField:'sortOrder'\n  })\n  FSortorder: string;\n\n  /**\n   * 层级\n   */\n  @NgField({\n    dataField:'sysInit'\n  })\n  FSysinit: string;\n\n  /**\n   * 图标\n   */\n  @NgField({\n    dataField:'note'\n  })\n  FNote: string;\n\n\n  /**\n   * 父节点  //NgField、NgList、NgObject\n   */\n  @NgField({\n    dataField:'parentId',\n  })\n  FParentid: string;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/domain/entities/flat-func.entity.ts","import { Injectable, Injector } from '@angular/core';\nimport { MemoryStorage } from '@farris/devkit';\n\n@Injectable()\nclass FlatFuncTreeDatastorage extends MemoryStorage {\n  constructor() {\n    super();\n  }\n}\nexport { FlatFuncTreeDatastorage };\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/domain/flat-func-tree-datastorage.ts","import { Injectable, Injector } from '@angular/core';\nimport { NgRepository, Repository } from '@farris/devkit';\nimport { FlatFuncEntity } from './entities/flat-func.entity';\nimport { FlatFuncTreeDatastorage } from './flat-func-tree-datastorage';\n\n@Injectable()\n@NgRepository({\n  from: FlatFuncTreeDatastorage,\n  entityType: FlatFuncEntity\n})\nclass FlatFuncTreeRepository extends Repository<FlatFuncEntity> {\n  constructor(injector: Injector) {\n    super(injector);\n  }\n}\n\nexport { FlatFuncTreeRepository };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/domain/flat-func-tree-repository.ts","import { Injectable } from '@angular/core';\nimport { FlatFuncTreeDatastorage } from './flat-func-tree-datastorage';\nimport { FlatFuncTreeRepository } from './flat-func-tree-repository'; \nimport { HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { RestfulService } from '@farris/devkit';\n\n@Injectable()\nexport class FlatFuncService {\n\n  private url = '/api/runtime/sys/v1.0/rolegroups';\n  public sessionid: string;\n  postdata: any;\n\n  constructor(private reposity: FlatFuncTreeRepository,\n    private datastorage : FlatFuncTreeDatastorage,\n    private rest: RestfulService\n  ) { }\n\n  getdata():any\n  {\n    const headers = new HttpHeaders().set('SessionId', this.sessionid);\n    return this.rest.get(`${this.url}/${'all'}`, null, {headers}).subscribe((res: any) => {\n      if (res instanceof Array) {\n        res.forEach((item) => {\n          if (item.parentId === '0') {\n            item.parentId = undefined;\n          }\n        });\n        this.datastorage.load(res);\n      } else {\n        if (res.parentId === '0') {\n          res.parentId = undefined;\n        }\n        this.datastorage.load([res]);\n      }\n    });\n  }\n\n\n\n  /**\n   * 保存\n   */\n  save(item: any) {\n\n    //todo:此处争取顺序应该是先httpservice 更新服务端，然后客户端重新load\n    \n    let entities =  this.reposity.getAllEntities();\n    entities.forEach(element => {\n      if(element.FID === item.FID)\n      {\n        element.FCode = item.FCode;\n        element.FIsdetail = item.FIsdetail;\n        element.FLayer = item.FLayer;\n        element.FName = item.FName;\n        element.FNote = item.FNote;\n        element.FParentid = item.FParentid;\n        element.FPath = item.FPath;\n        element.FSortorder = item.FSortorder;     \n        element.FSysinit = item.FSysinit;      \n        this.postdata = this.convert2json(item);  \n      }      \n    });\n\n    const headers = new HttpHeaders().set('SessionId', this.sessionid);\n    this.rest.post(this.url, this.postdata, null, { headers }).subscribe(\n      (res: any) => {\n        //this.getdata();\n      }, \n      (error: HttpErrorResponse) => {\n          alert(error.error.Message);\n      });\n  };\n\n\n  /**\n   * 删除并重新加载\n   */\n  remove(id: string) {\n      // todo:此处争取顺序应该是先httpservice 更新服务端，然后客户端重新load\n      let headers = new HttpHeaders().set('SessionId', this.sessionid);\n      this.rest.delete(`${this.url}/${id}`, null, {headers}).subscribe(\n        (res: any) => {\n          this.reposity.removeEntityById(id);\n        }\n      )\n    };\n\n    convert2json(item: any): any {\n\n      var data = {\n        Id: item.FID,\n        Code: item.FCode,\n        Name: item.FName,\n        Path: item.FPath || '',\n        ParentId: item.FParentid || '0',\n        Layer: item.FLayer || 1,\n        Note: item.FNote,\n        IsDetail: item.FIsdetail,\n        Creator: ''\n      };\n      return data;\n    }\n\n  clonefunction(item: any){\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/domain/flat-func.service.ts","import { Provider } from '@angular/core';\r\n\r\nimport { FlatFuncEntity } from './entities/flat-func.entity';\r\n\r\nimport { FlatFuncTreeDatastorage } from './flat-func-tree-datastorage';\r\nimport { FlatFuncTreeRepository } from './flat-func-tree-repository'\r\nimport { FlatFuncService } from './flat-func.service';\r\n\r\n\r\nconst DOMAIN_PROVIDERS: Provider[]  = [\r\n  FlatFuncTreeDatastorage,\r\n  FlatFuncTreeRepository,\r\n  FlatFuncService,\r\n];\r\n\r\nexport {\r\n  FlatFuncEntity,\r\n  FlatFuncTreeDatastorage,\r\n  FlatFuncTreeRepository,\r\n  FlatFuncService,\r\n  DOMAIN_PROVIDERS\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/domain/index.ts","module.exports = \".k-icon.my-custom-icon-class:before {\\r\\n        content: \\\"\\\\\\\\e13a\\\";\\r\\n     }\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/flat-role-groups/flat-function-tree.component.css\n// module id = ./src/app/modules/flat-role-groups/flat-function-tree.component.css\n// module chunks = flat-role-group.module","module.exports = \"<div class=\\\"pt-2 mb-2\\\"> \\n    <div class=\\\"pr-2 text-left\\\">\\n                <button type=\\\"button\\\" (click)= \\\"viewmodel.additem()\\\" [disabled]=\\\"!viewmodel.stateMachine.canAdd\\\"  class=\\\"btn btn-sm btn-default\\\">新增同级 </button>\\n                <button type=\\\"button\\\" (click)= \\\"viewmodel.addchild()\\\" [disabled]=\\\"!viewmodel.stateMachine.canAdd\\\"  class=\\\"btn btn-sm btn-default\\\">新增子级 </button>\\n                <button type=\\\"button\\\"  [disabled]=\\\"!viewmodel.stateMachine.canEdit\\\"  (click)= \\\"viewmodel.edit()\\\"  class=\\\"btn btn-sm btn-default\\\">编辑 </button>\\n                <button type=\\\"button\\\"   [disabled]=\\\"!viewmodel.stateMachine.canCancel\\\" (click)= \\\"viewmodel.cancel()\\\" class=\\\"btn btn-sm btn-default\\\">取消 </button>\\n                <button type=\\\"button\\\"  [disabled]=\\\"!viewmodel.stateMachine.canSave\\\" (click)= \\\"viewmodel.save()\\\" class=\\\"btn btn-sm btn-default\\\">保存 </button>\\n                <button type=\\\"button\\\"  [disabled]=\\\"!viewmodel.stateMachine.canDelete\\\"  (click)= \\\"viewmodel.remove()\\\" class=\\\"btn btn-sm btn-default\\\">删除 </button>\\n    </div>\\n\\n    <div class=\\\"functioninfos\\\" style=\\\"height: 1300px\\\">\\n    <kendo-splitter orientation=\\\"horizontal\\\" style=\\\"height: 100%;\\\">\\n        <kendo-splitter-pane [collapsible]=\\\"true\\\"  size=\\\"30%\\\" min = \\\"20%\\\" max =\\\"70%\\\">\\n            <!--工具栏了 BEGIN-->\\n            <div class=\\\"row pt-2 mb-2\\\">\\n                <div class=\\\"col-md-12 col-lg-12 funcinfo-col\\\">\\n                    <h2>功能组分组</h2>\\n                    <div class=\\\"card\\\" >\\n                            <!--tree -->\\n                        <div class=\\\"col-xs-12 col-sm-12 col-md-3 col-lg-3 \\\">                  \\n                            <kendo-treeview style=\\\"width:500px\\\"  [nodes]=\\\"data\\\" textField=\\\"FName\\\" kendoTreeViewExpandable  kendoTreeViewFlatDataBinding  idField=\\\"FID\\\"  parentIdField=\\\"FParentid\\\" (selectionChange)=\\\"handleSelection($event)\\\" > </kendo-treeview>                  \\n                        </div>\\n                        <!--tree end -->\\n                    </div>\\n                </div>\\n            </div>\\n        </kendo-splitter-pane>\\n        <kendo-splitter-pane   [resizable]=\\\"true\\\" style=\\\"height: 1300px;\\\">\\n            <kendo-tabstrip >\\n                <kendo-tabstrip-tab [title]=\\\"'基本信息'\\\" [selected]=\\\"true\\\" style=\\\"height : 1300px\\\">\\n                    <ng-template kendoTabContent style=\\\"height : 1300px\\\">\\n                        <!--info  -->\\n                        <div class=\\\"row funcinfo-wrapper\\\">\\n                            <div class=\\\"col-xs-12 col-sm-12 col-md-12 col-lg-12 funcinfo-col\\\">                        \\n                                <div class=\\\"card col-xs-12 col-sm-12 col-md-12 col-lg-12\\\">\\n                                    <div class=\\\"card-block \\\">\\n                                        <form class=\\\"k-form\\\" [formGroup]=\\\"viewmodel.form\\\"  >\\n                                            <label class=\\\"k-form-field\\\">\\n                                                <span>内码 </span>\\n                                                <input formControlName=\\\"id\\\" disabled=\\\"false\\\" class=\\\"k-textbox w-100\\\" />\\n                                            </label>\\n                                            <label class=\\\"k-form-field\\\">\\n                                                <span>编号 </span>\\n                                                <input class=\\\"k-textbox\\\" [readonly]=\\\"!viewmodel.stateMachine.canInput\\\" formControlName=\\\"code\\\"  />\\n                                            </label>\\n                                            <label class=\\\"k-form-field\\\">\\n                                                <span>名称</span>\\n                                                <input class=\\\"k-textbox\\\" [readonly]=\\\"!viewmodel.stateMachine.canInput\\\" formControlName=\\\"name\\\"/>\\n                                            </label>\\n                                            <label class=\\\"k-form-field\\\">\\n                                                <span>描述</span>\\n                                                <input class=\\\"k-textbox\\\" [readonly]=\\\"!viewmodel.stateMachine.canInput\\\" formControlName=\\\"note\\\"  />\\n                                            </label>                                                        \\n                                        </form>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </ng-template>\\n                </kendo-tabstrip-tab>\\n                <!-- <kendo-tabstrip-tab [title]=\\\"'高级信息'\\\" [selected]=\\\"true\\\" style=\\\"height : 100%\\\">\\n                        <ng-template kendoTabContent >\\n                            <div class=\\\"row funcinfo-wrapper\\\">\\n                                <div class=\\\"col-xs-12 col-sm-12 col-md-12 col-lg-12 funcinfo-col\\\">                        \\n                                    <div class=\\\"card col-xs-12 col-sm-12 col-md-12 col-lg-12\\\" >\\n                                        <div class=\\\"card-block \\\">\\n                                            <form class=\\\"k-form\\\" [formGroup]=\\\"viewmodel.form\\\"  >\\n                                                <div class=\\\"k-form-field\\\">\\n                                                    <input type=\\\"checkbox\\\" id=\\\"ch1\\\" class=\\\"k-checkbox\\\" [checked] = \\\"isworkstation\\\" >\\n                                                    <label class=\\\"k-checkbox-label\\\" for=\\\"ch1\\\">发布为菜单</label>\\n                                                \\n                                                    <input type=\\\"checkbox\\\" id=\\\"ch2\\\" class=\\\"k-checkbox\\\" [checked] = \\\"viewmodel.form.FIsWorkStation.value\\\">\\n                                                    <label class=\\\"k-checkbox-label\\\" for=\\\"ch2\\\">发布为联查</label>\\n                                                \\n                                                    <input type=\\\"checkbox\\\" id=\\\"ch3\\\" class=\\\"k-checkbox\\\">\\n                                                    <label class=\\\"k-checkbox-label\\\" for=\\\"ch3\\\">发布为工作中心</label>\\n                                                </div>\\n                                                <fieldset>\\n                                                    <legend>调用信息</legend>\\n\\n                                                    <label class=\\\"k-form-field\\\">\\n                                                        <span>url </span>\\n                                                        <input class=\\\"k-textbox w-100\\\" [disabled]=\\\"viewmodel.stateMachine.canInput\\\" formControlName=\\\"invokingtype\\\"/>\\n                                                    </label>      \\n                                                    <label class=\\\"k-form-field\\\">\\n                                                            <span>path </span>\\n                                                            <input  class=\\\"k-textbox w-100\\\" [disabled]=\\\"viewmodel.stateMachine.canInput\\\" formControlName=\\\"name\\\"/>\\n                                                        </label>                                                    \\n                                                </fieldset>\\n                                            </form>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </ng-template>\\n                    </kendo-tabstrip-tab> -->\\n            </kendo-tabstrip> \\n        </kendo-splitter-pane>\\n</kendo-splitter>\\n</div>\\n        <!--info end -->\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/flat-role-groups/flat-function-tree.component.html\n// module id = ./src/app/modules/flat-role-groups/flat-function-tree.component.html\n// module chunks = flat-role-group.module","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { of } from 'rxjs/observable/of';\nimport { FlatFuncTreeViewmodel } from './app/flat-func-tree-viewmodel';\nimport { Change, ChangeType } from '@farris/devkit';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { FlatFuncService } from './domain';\nimport { FrameworkService } from '@gsp-sys/rtf-common';\n\n@Component({\n  selector: 'app-function-tree',\n  templateUrl: './flat-function-tree.component.html',\n  styleUrls: ['./flat-function-tree.component.css']\n})\nexport class FlatFunctionTreeComponent implements OnInit {\n\n  public data: any[] ;\n  currentid:string;\n  isworkstation:boolean;\n\n  public fetchChildren(node: any): Observable<any[]> {\n    return of(node.items);\n  }\n\n  public hasChildren(node: any): boolean {\n    return node.items && node.items.length > 0;\n  }\n\n  constructor( public viewmodel: FlatFuncTreeViewmodel,\n    private route: ActivatedRoute,\n    private dataService: FlatFuncService,\n    private frmService: FrameworkService\n  ) {\n  }\n\n  ngOnInit() {\n\n    this.route.paramMap.subscribe((params: ParamMap) => {\n      if (params.has('funcid')) {\n          let funcid = params.get('funcid');\n          this.dataService.sessionid = this.frmService.getSession(funcid);\n      }\n    })\n\n    this.viewmodel.bindingData.changes.subscribe((changes:Change ) =>{\n      console.log(\"changetype =\" + changes.type);\n      if(changes.type === ChangeType.SelectionChanged)\n         return;  \n      this.data = this.viewmodel.bindingData.list.toJSON();\n      console.log(JSON.stringify(this.data));\n    });\n\n\n    this.viewmodel.form.valueChanges.subscribe(\n      (changes:Change ) =>{\n        console.log(\"changetype =\" + changes.type);  \n        this.data = this.viewmodel.bindingData.list.toJSON();\n        console.log(JSON.stringify(this.data));\n    })\n\n    this.viewmodel.formLoad();\n\n    this.isworkstation = false;\n  }\n\n  handleSelection({ dataItem }: any):void\n  {    \n    this.isworkstation = dataItem.FIsWorkStation;\n    this.viewmodel.bindingData.list.setCurrentId(dataItem.FID);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/flat-function-tree.component.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FlatFunctionTreeComponent } from './flat-function-tree.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: FlatFunctionTreeComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nclass FlatFuncTreeRoutingModule {}\r\n\r\nexport { FlatFuncTreeRoutingModule };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/flat-role-groups/flat-function-tree.routing.module.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FlatFunctionTreeComponent } from './flat-function-tree.component';\r\nimport { FlatFuncTreeRoutingModule } from './flat-function-tree.routing.module';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { CommandModule, RestfulService } from '@farris/devkit';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlatFuncService } from './domain/flat-func.service';\r\nimport { DOMAIN_PROVIDERS } from './domain';\r\nimport { APP_PROVIDERS, commandHandlers } from './app';\r\nvar FlatRoleGroupTreeModule = /** @class */ (function () {\r\n    function FlatRoleGroupTreeModule() {\r\n    }\r\n    FlatRoleGroupTreeModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                CommonModule,\r\n                FlatFuncTreeRoutingModule,\r\n                TreeViewModule,\r\n                CommandModule.setup(commandHandlers, []),\r\n                FormsModule,\r\n                ReactiveFormsModule,\r\n                LayoutModule\r\n            ],\r\n            declarations: [\r\n                FlatFunctionTreeComponent\r\n            ],\r\n            providers: [\r\n                FlatFuncService,\r\n                DOMAIN_PROVIDERS,\r\n                APP_PROVIDERS,\r\n                commandHandlers,\r\n                RestfulService\r\n            ]\r\n        })\r\n    ], FlatRoleGroupTreeModule);\r\n    return FlatRoleGroupTreeModule;\r\n}());\r\nexport { FlatRoleGroupTreeModule };\r\n//# sourceMappingURL=flat-role-group.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/flat-role-groups/flat-role-group.module.js\n// module id = ./src/app/modules/flat-role-groups/flat-role-group.module.js\n// module chunks = flat-role-group.module","class DataUtil {\r\n\r\n  /**\r\n   * 创建内码\r\n   */\r\n  static createNM() {\r\n    // const S4 = function() {\r\n    //     return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    // };\r\n    // return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    return '' + Math.round(Math.random() * 10000);\r\n  }\r\n\r\n  /**\r\n   * 创建编号\r\n   */\r\n  static createBH(prefix: string) {\r\n    const d = new Date();\r\n    return `${prefix}${d.getFullYear()}${d.getMonth()}${d.getDate()}${d.getHours()}${d.getMinutes()}${d.getSeconds()}`;\r\n  }\r\n\r\n}\r\n\r\nexport { DataUtil };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modules/shared/data-util.ts"],"sourceRoot":"webpack:///"}