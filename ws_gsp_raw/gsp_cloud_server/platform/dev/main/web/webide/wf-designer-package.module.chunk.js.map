{"version":3,"sources":["./src/packages/wfdesigner-frame/index.ts","./src/packages/wfdesigner-frame/package.ts","./src/packages/wfdesigner-frame/service/WFPropertyService.service.ts","./src/packages/wfdesigner-frame/service/wfPublish.service.ts","./src/packages/wfdesigner-frame/util/Utils.ts","./src/packages/wfdesigner-frame/views/index.ts","./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.css","./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.html","./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.ts","./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.module.ts","./src/packages/wfdesigner-frame/wf-designer-package.module.js"],"names":[],"mappings":"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","file":"wf-designer-package.module.chunk.js","sourcesContent":["/**\r\n * Created by Zhang Zhichao on 2018/8/7.\r\n */\r\nexport * from './package';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/index.ts","import { Package, GSP } from '@farris/ide-devkit';\r\nimport { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { WFDesignerPackageView } from './views';\r\nimport { WFDesignerFrameComponent } from './views/wf-designer-frame/wf-designer-frame.component';\r\n\r\nexport class WFDesignerPackage extends Package {\r\n\r\n    private layoutPanel: any;\r\n\r\n    constructor(\r\n      gsp: GSP,\r\n      private cfr: ComponentFactoryResolver,\r\n      private injector: Injector\r\n    ) {\r\n      super(gsp);\r\n    }\r\n  \r\n    activate(state) {\r\n    //   if (!this.packageView) {\r\n    //     this.packageView = new WFDesignerPackageView(state, this.cfr, this.injector);\r\n    //     this.workspace.addMainPanel({id: this.id, title: this.data.name, item: this.packageView.getElement()});\r\n  \r\n    //     const currentElement = this.packageView.getElement().instance as WFDesignerFrameComponent;\r\n    //     if (currentElement) {\r\n    //        currentElement.metadataContent = this.data;\r\n    //     }\r\n    //   }\r\n    //   this.workspace.activePackage(this);\r\n    // }\r\n      this.gsp.workspace.addOpener((uri: string) => {\r\n        const center = this.gsp.workspace.getCenter().getActivePane();\r\n\r\n        center.onDidChangeActiveItem((item) => this.onTabChange(item));\r\n\r\n        return this.openWFdesigner(uri);\r\n      });\r\n    }\r\n    openWFdesigner(uri) {\r\n      if (uri.endsWith('.wf')) {\r\n        const pkgView = new WFDesignerPackageView({}, this.cfr, this.injector);\r\n        const currentElement = pkgView.getElement().instance as WFDesignerFrameComponent;\r\n        currentElement.metadataUri = uri;\r\n  \r\n        // 这里需要处理uri，title应返回元数据名称，\r\n        return {\r\n          getTitle: () => uri.substring(uri.lastIndexOf('/') + 1),\r\n          getElement: () => pkgView.getElement()\r\n        };\r\n      }\r\n    }\r\n  \r\n    onTabChange(item: any): any {\r\n      if (item == null) {\r\n        return;\r\n      }\r\n      // console.log(item.getElement());\r\n      // alert(beFlowchartDesignerComponent.metadataUri);\r\n      if (item.getElement().instance instanceof WFDesignerFrameComponent) {\r\n        // console.log('这是的实例');\r\n        const wfDesignerFrameComponent = item.getElement().instance as WFDesignerFrameComponent;\r\n        // if (wfDesignerFrameComponent.myParentPageMessageFunct != window['myParentPageMessageFunct']) {\r\n        //   wfDesignerFrameComponent.initPropertyPanel();\r\n        //   wfDesignerFrameComponent.addMessageListener();\r\n        // }\r\n      }\r\n    }\r\n  }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/package.ts","\r\nimport { Injectable, ViewContainerRef, ComponentFactoryResolver, EventEmitter } from '@angular/core';\r\nimport { PropertyPanelComponent } from '@farris/ide-devkit';\r\n\r\n\r\n@Injectable()\r\nexport class WFDesignerPropertyService {\r\n\r\n    private container: ViewContainerRef;\r\n    constructor(private componentFactoryResolvor: ComponentFactoryResolver) {\r\n\r\n    }\r\n\r\n    initPropertyContainer(container) {\r\n        this.container = container;\r\n    }\r\n    createPropertyPanel(propertyConfig, propertyData): PropertyPanelComponent {\r\n        this.container.clear();\r\n        const itemPanel = this.componentFactoryResolvor.resolveComponentFactory(PropertyPanelComponent);\r\n        const propertyRef = this.container.createComponent(itemPanel);\r\n        propertyRef.instance.propertyConfig = propertyConfig;\r\n        propertyRef.instance.propertyData = propertyData;\r\n    \r\n        return propertyRef.instance;\r\n        \r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/service/WFPropertyService.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { environment } from '../../../environments/environment';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\n \r\n/**\r\n * 流程发布服务\r\n */\r\n@Injectable()\r\nexport class WFPublishService {\r\n    constructor(private http: Http, private cache: CacheService) {\r\n        this.sessonId = this.cache.get('sessionId');\r\n    }\r\n    currentUrl = environment.lcmUrl;\r\n    sessonId: string;\r\n\r\n/**\r\n    * 发布流程定义\r\n     * @param metadataID 元数据ID\r\n     * @param packageName 元数据包名称\r\n     * @param operation 流程发布操作\r\n     */\r\n    publish(content: string, operation: PublishOperatorType): Observable<any> {\r\n        const publisData = {\r\n            'procContent': content\r\n        };\r\n        const httpOptions = {\r\n            headers: new Headers({\r\n              'Content-Type':  'application/json',\r\n              'SessionId': this.sessonId\r\n            })\r\n          };\r\n        const jitUrl = `${this.currentUrl}api/runtime/wf/v1.0/ProcDefs/Deploy`;\r\n        return this.http.post(jitUrl, JSON.stringify(publisData), httpOptions);\r\n   }\r\n}\r\n\r\n/**\r\n * 流程发布\r\n */\r\nexport enum PublishOperatorType {\r\n    // 发布并禁用以前的流程\r\n    PublicAndDisablePre = 1,\r\n    // 发布不禁用之前版本的流程\r\n    PublishOnly = 2,\r\n   // 发布不生效\r\n    PublishButNotUse = 3\r\n }\r\n \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/service/wfPublish.service.ts","import {Injectable} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Util {\r\n  newGuid() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n      // noinspection TsLint\r\n      const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/util/Utils.ts","import { PackageView } from '@farris/ide-devkit';\r\nimport { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { WFDesignerFrameComponent } from './wf-designer-frame/wf-designer-frame.component';\r\n\r\n/**\r\n * Created by Zhang Zhichao on 2018/8/7.\r\n */\r\nexport class WFDesignerPackageView extends PackageView {\r\n\r\n    constructor(serializedState: any,\r\n                 private cfr: ComponentFactoryResolver,\r\n                 private injector: Injector) {\r\n      super(serializedState);\r\n      const componentFactory = this.cfr.resolveComponentFactory(WFDesignerFrameComponent);\r\n      this.element = componentFactory.create(this.injector);\r\n    }\r\n  \r\n  }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/views/index.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n    -webkit-box-flex: 1;\\r\\n        -ms-flex: 1;\\r\\n            flex: 1;\\r\\n}\\r\\n\\r\\n#bemain * {\\r\\n    padding: 0 !important;\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n}\\r\\n\\r\\n.bpmn-designer{\\r\\n    height: 100%;\\r\\n    min-height: 400px;\\r\\n    /* height: -webkit-fill-available;  */\\r\\n    /* min-width: 550px; */\\r\\n    width: 100%;\\r\\n    /* width: -webkit-fill-available; */\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.css\n// module id = ./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.css\n// module chunks = wf-designer-package.module","module.exports = \"<div class=\\\"d-flex flex-column\\\" style=\\\"flex:1 1 auto;\\\">\\r\\n    <div id=\\\"bpmnmain\\\" class=\\\"d-flex flex-column\\\" style=\\\" flex: 1 1 auto; display:flex!important;flex-direction: row!important\\\">\\r\\n        <kendo-splitter-pane [collapsible]=\\\"false\\\" size=\\\"100%\\\">\\r\\n            <!-- <iframe #iframe class=\\\"bpmn-designer\\\" src=\\\"http://localhost:53266/index.html\\\" frameborder=\\\"0\\\"> -->\\r\\n            <iframe #iframe class=\\\"bpmn-designer\\\" [src]=\\\"srcUrl\\\" frameborder=\\\"0\\\" (load)=\\\"sendMetadataMessage(this)\\\" (readystatechange)=\\\"sendMetadataMessage(this)\\\">\\r\\n\\r\\n            </iframe>\\r\\n        </kendo-splitter-pane>\\r\\n        <kendo-splitter-pane [collapsible]=\\\"true\\\">\\r\\n            <!-- <button id=\\\"btn-update-cell\\\" (click)=\\\"test()\\\" style=\\\"display: none;\\\">更新</button> -->\\r\\n            <ng-container #propertyPanel></ng-container>\\r\\n            <!-- <div #propertyPanel></div> -->\\r\\n            <!-- <app-property-panel [(propertyConfig)]=\\\"propertyConfig\\\" [(propertyData)]=\\\"propertyData\\\"></app-property-panel> -->\\r\\n            <!-- <button (click)=\\\"test()\\\">Test</button> -->\\r\\n        </kendo-splitter-pane>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.html\n// module id = ./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.html\n// module chunks = wf-designer-package.module","import { Component, OnInit, ViewChild, ElementRef, Renderer, ViewContainerRef, EventEmitter } from '@angular/core';\r\nimport { ElementPropertyConfig, PropertyEntity, Workspace} from '@farris/ide-devkit';\r\nimport { WFDesignerPropertyService } from '../../service/WFPropertyService.service';\r\nimport { MetadataDto, GSPMetadataService } from '@gsp-lcm/metadata-selector';\r\nimport { Util } from '../../util/Utils';\r\nimport { Observable } from 'rxjs';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { WFPublishService, PublishOperatorType } from '../../service/wfPublish.service';\r\n\r\n\r\n export const POST_MESSAGE_SOURCE = window.document.location.origin + '/platform/dev/main/web/wf/wwwroot/index.html';\r\n export const POST_MESSAGE_TARGET = window.document.location.origin + '/platform/dev/main/web/wf/wwwroot/index.html';\r\n// const POST_MESSAGE_TARGET = 'http://localhost:10202/wwwroot/index.html';\r\n// const POST_MESSAGE_SOURCE = 'http://localhost:42000/';\r\n\r\n@Component({\r\n  selector: 'app-wf-designer-frame',\r\n  templateUrl: './wf-designer-frame.component.html',\r\n  styleUrls: ['./wf-designer-frame.component.css'],\r\n  providers: [WFDesignerPropertyService, WFPublishService, Util]\r\n})\r\n\r\nexport class WFDesignerFrameComponent implements OnInit {\r\n\r\n  @ViewChild('propertyPanel', { read: ViewContainerRef })\r\n  propertyContainer: ViewContainerRef;\r\n\r\n  @ViewChild('iframe')\r\n  iframe: ElementRef;\r\n  \r\n  srcUrl: any;\r\n  iframeId: string;\r\n\r\n  propertyConfig: ElementPropertyConfig[] = [];\r\n  propertyData = {};\r\n\r\n  metadataDto: MetadataDto;\r\n  private _metadataContent: string;\r\n\r\n  set metadataContent(metadataContent: any) {\r\n    this._metadataContent = metadataContent;\r\n    this.loadMetadata(metadataContent);\r\n  }\r\n\r\n  private _metadataUri: string;\r\n  set metadataUri(metadataUri: string) {\r\n    this._metadataUri = metadataUri;\r\n    // todo: 通过元数据服务获取元数据内容\r\n    ///////\r\n    const fullname: string = this._metadataUri.substring(this._metadataUri.lastIndexOf('/') + 1);\r\n    const path: string = this._metadataUri.substring(1, this._metadataUri.lastIndexOf('/'));\r\n    this.lcmService.LoadMetadata(fullname, path).subscribe(data => {\r\n      this.metadataDto = data;\r\n      this.loadMetadata(this.metadataDto);\r\n    });\r\n  }\r\n  get metadataUri(): string {\r\n    return this._metadataUri;\r\n  }\r\n\r\n  constructor(private el: ElementRef, private propertyService: WFDesignerPropertyService, \r\n    private lcmService: GSPMetadataService, private sanitizer: DomSanitizer,\r\n    private publishService: WFPublishService, private util: Util, private cache: CacheService) {\r\n    this.addMessageListener();\r\n    this.iframeId = util.newGuid();\r\n    // 修改iframe的url\r\n    this.srcUrl = this.sanitizer.bypassSecurityTrustResourceUrl(POST_MESSAGE_TARGET + '?id=' + this.iframeId);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.propertyService.initPropertyContainer(this.propertyContainer);\r\n  }\r\n\r\n  // ngAfterViewInit(): void {\r\n\r\n  // }\r\n\r\n  // ngAfterContentInit(): void {\r\n\r\n  // }\r\n\r\n  // iframe加载完成后向grapheditor发送消息\r\n  public sendMetadataMessage(obj: any) {\r\n    if (obj.readyState && obj.readyState !== 'complete') {\r\n      return;\r\n    }else {\r\n      // alert('页面加载完成');\r\n      setTimeout(() => {\r\n        console.log('延时器');\r\n        const iframeWindow = this.iframe.nativeElement.contentWindow;\r\n        iframeWindow.postMessage([this.iframeId, '#open#' + this._metadataContent], POST_MESSAGE_TARGET);\r\n        console.log('metadata消息已发送.....');\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  private addMessageListener() { \r\n    window.addEventListener('message', (event) => {\r\n      console.log( '父页面收到' + event.origin + '消息......');\r\n      if (POST_MESSAGE_TARGET.search(event.origin) !== -1 && event.data[0] === this.iframeId) {\r\n        if ( typeof event.data[1] === 'string' && (event.data[1] as string).startsWith('#save#')) {\r\n            console.log('文件保存操作');\r\n            const content: string = (event.data[1] as string).substr(6);\r\n            this._metadataContent = content;\r\n            this.metadataDto.content = content;\r\n            this.saveMetadata();\r\n            return;\r\n        }\r\n        if ( typeof event.data[1] === 'string' && (event.data[1] as string).startsWith('#release#')) {\r\n            console.log((event.data[1] as string).substr(9));\r\n            this._metadataContent = (event.data[1] as string).substr(9);\r\n            this.metadataDto.content = (event.data[1] as string).substr(9);\r\n            this.publishProcess(this._metadataContent, PublishOperatorType.PublicAndDisablePre);\r\n            return;\r\n        }\r\n        this.setPropertyConfig(event.data[1]);\r\n      }\r\n    }, false);\r\n  }\r\n\r\n  /**\r\n   * 父子页面规定好传输json数据格式{'geomtry': {k0:v0,k1:v1,...},'property': {k0:v0,k1:v1,...}}\r\n   * @param obj \r\n   */\r\n  setPropertyConfig(obj: object) {\r\n    // 更新属性框数据与配置\r\n    \r\n    this.propertyConfig = this.convertToPropertyConfig(obj['propertyConfig']);\r\n    this.propertyData = obj['propertyData'];\r\n    this.showPropertiesPanel();\r\n  }\r\n\r\n  // 将obj['propertyConfig']转化为ElementPropertyConfig[]\r\n  private convertToPropertyConfig(obj: object[]): ElementPropertyConfig[] {\r\n    const propertyConfig: ElementPropertyConfig[] = [];\r\n    if (obj) {\r\n      obj.forEach(element => {\r\n        const elementPropertyConfig = new ElementPropertyConfig();\r\n        elementPropertyConfig.categoryId = element['categoryId'];\r\n        elementPropertyConfig.categoryName = element['categoryName'];\r\n        elementPropertyConfig.setPropertyRelates = element['setPropertyRelates'] !== undefined ? element['setPropertyRelates'] : undefined;\r\n        elementPropertyConfig.properties = element['properties'] ? this.convertToPropertyEntity(element['properties']) : []; \r\n        propertyConfig.push(elementPropertyConfig);\r\n    });   \r\n    }\r\n   return propertyConfig;\r\n  }\r\n  // 将element['properties']转化为PropertyEntity[]\r\n  private convertToPropertyEntity(obj: object[]): PropertyEntity[] {\r\n    const properties: PropertyEntity[] = [];\r\n    obj.forEach((item) => {\r\n      const property = new PropertyEntity();\r\n      for(let i in item){\r\n        property[i] = item[i];\r\n      }\r\n      properties.push(property);\r\n    });\r\n    return properties;\r\n  }\r\n\r\n  private showPropertiesPanel(): boolean {\r\n    const propertyPanel = this.propertyService.createPropertyPanel(this.propertyConfig, this.propertyData);\r\n    // propertyPanel.propertyValueChanged(this.propertyData);\r\n    propertyPanel.propertyChanged.subscribe((data: object) => {\r\n      // console.log(JSON.stringify(data));\r\n      this.sendMessage(this.createMessage(data));\r\n    });\r\n\r\n    return false; // 防止冒泡\r\n  }\r\n  // 构造属性修改时父页面与子页面之间传递消息\r\n  private createMessage(data: object): string {\r\n    const msg: object = {};\r\n    // 需携带唯一id使子页面确定是哪一元素\r\n    msg['id'] = this.propertyData['id'];\r\n\r\n    // 修改内容的key和value\r\n    msg['propertyID'] = data['propertyID'];\r\n    msg['propertyValue'] = data['propertyValue'];\r\n\r\n    return JSON.stringify(msg);\r\n  }\r\n  // 向子页面发送修改消息\r\n  private sendMessage(data: string): void {\r\n    const iframeWindow = this.iframe.nativeElement.contentWindow;\r\n    iframeWindow.postMessage([this.iframeId, data], POST_MESSAGE_TARGET);\r\n  }\r\n  /**\r\n   * \r\n   * @param dto 加载元数据\r\n   */\r\n  private loadMetadata(dto: MetadataDto) {\r\n    // debugger;\r\n    // HttpUrlConst.currentPath = dto.relativePath;\r\n    this.metadataDto = dto;\r\n    if (this.metadataDto.content && this.metadataDto.content !== '') {\r\n      this._metadataContent = dto.content;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 保存元数据\r\n   */\r\n  saveMetadata() {\r\n    this.saveMetadataService().subscribe((data) => {\r\n      alert('保存成功');\r\n    });\r\n  }\r\n\r\n  saveMetadataService(): Observable<any> {\r\n    return this.lcmService.SaveMetadata(this.metadataDto, this.cache.get('sessionId'));\r\n  }\r\n\r\n  private publishProcess(content: string, publishOption: PublishOperatorType) {\r\n      this.publishService.publish(content, publishOption).subscribe((data) => {\r\n          alert('发布成功');\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.component.ts","import { WFDesignerFrameComponent } from './wf-designer-frame.component';\r\nimport { SplitterModule, LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { HttpModule } from '@angular/http';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { PopupModule } from '@progress/kendo-angular-popup';\r\nimport { DropDownListModule } from '@progress/kendo-angular-dropdowns';\r\nimport { InputsModule } from '@progress/kendo-angular-inputs';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { DialogModule } from 'primeng/primeng';\r\nimport { ButtonGroupModule, ButtonsModule } from '@progress/kendo-angular-buttons';\r\n// import { GridModule } from '@progress/kendo-angular-grid/dist/es2015/grid.module';\r\nimport { CommonModule } from '@angular/common';\r\n// import { AuthorizationModule } from '../../../bedesigner-frame/views/bedesigner-frame/refModule/authorization/authorization.module';\r\nimport { NgModule, ComponentFactoryResolver } from '@angular/core';\r\nimport { PropertyPanelModule } from '@farris/ide-devkit';\r\n\r\n@NgModule({\r\n    declarations: [\r\n      WFDesignerFrameComponent,\r\n  \r\n      // 工具\r\n    //   PopupAnchorDirective,\r\n    //   ChooseComponentListComponent, // 可复用的弹出列表\r\n    //   ChooseListBaseComponent,\r\n    //   ChooseMethodListComponent,\r\n    //   UtilComponentComponent,\r\n    //   PopUpChooseListComponent\r\n    ],\r\n    imports: [\r\n        \r\n      // 元数据选择界面\r\n      // MetadataModule,\r\n      // AuthorizationModule,\r\n  \r\n      CommonModule,\r\n      // HttpClientModule,\r\n      // HttpClientJsonpModule,\r\n  \r\n      // GridModule,\r\n      FormsModule,\r\n      ButtonsModule,\r\n      ButtonGroupModule,\r\n      DialogModule,\r\n      ReactiveFormsModule,\r\n      InputsModule,\r\n      DropDownListModule,\r\n      PopupModule,\r\n      TreeViewModule,\r\n      LayoutModule,\r\n      HttpModule,\r\n      SplitterModule,\r\n      PropertyPanelModule\r\n    ],\r\n    providers: [\r\n      // ComponentFactoryResolver\r\n    ],\r\n    exports: [WFDesignerFrameComponent],\r\n    entryComponents: [WFDesignerFrameComponent]\r\n  })\r\n  export class WFDesignerFrameModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/wfdesigner-frame/views/wf-designer-frame/wf-designer-frame.module.ts","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { NgModule, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { WFDesignerFrameModule } from './views/wf-designer-frame/wf-designer-frame.module';\r\nimport { PackageModule, PropertyPanelModule } from '@farris/ide-devkit';\r\nimport { WFDesignerPackage } from '.';\r\nimport { CommonModule } from '@angular/common';\r\nvar WFDesignerPackageModule = (function (_super) {\r\n    __extends(WFDesignerPackageModule, _super);\r\n    function WFDesignerPackageModule(cfr, injector) {\r\n        var _this = _super.call(this) || this;\r\n        _this.cfr = cfr;\r\n        _this.injector = injector;\r\n        return _this;\r\n    }\r\n    WFDesignerPackageModule.prototype.initPackage = function (gsp) {\r\n        this.package = new WFDesignerPackage(gsp, this.cfr, this.injector);\r\n    };\r\n    WFDesignerPackageModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                WFDesignerFrameModule,\r\n                PropertyPanelModule,\r\n            ],\r\n            providers: [\r\n                CommonModule,\r\n            ]\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ComponentFactoryResolver, Injector])\r\n    ], WFDesignerPackageModule);\r\n    return WFDesignerPackageModule;\r\n}(PackageModule));\r\nexport { WFDesignerPackageModule };\r\n//# sourceMappingURL=wf-designer-package.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/wfdesigner-frame/wf-designer-package.module.js\n// module id = ./src/packages/wfdesigner-frame/wf-designer-package.module.js\n// module chunks = wf-designer-package.module"],"sourceRoot":"webpack:///"}