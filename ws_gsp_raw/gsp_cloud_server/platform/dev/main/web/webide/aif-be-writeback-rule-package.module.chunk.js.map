{"version":3,"sources":["./src/packages/aif-be-writeback-rule/aif-be-writeback-rule-package.module.js","./src/packages/aif-be-writeback-rule/package.ts","./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.css","./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.html","./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.ts","./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-entity.ts","./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule.module.ts","./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule.service.ts","./src/packages/aif-be-writeback-rule/views/index.ts"],"names":[],"mappings":"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","file":"aif-be-writeback-rule-package.module.chunk.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { ComponentFactoryResolver, Injector, NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { PackageModule } from '@farris/ide-devkit';\r\nimport { GSPMetadataServiceModule } from '@gsp-lcm/metadata-selector';\r\nimport { AifBeWritebackRulePackage } from './package';\r\nimport { AifBeWritebackRuleModule } from './views/aif-be-writeback-rule.module';\r\nimport { environment } from '../../environments/environment';\r\nvar AifBeWritebackRulePackageModule = (function (_super) {\r\n    __extends(AifBeWritebackRulePackageModule, _super);\r\n    function AifBeWritebackRulePackageModule(cfr, injector) {\r\n        var _this = _super.call(this) || this;\r\n        _this.cfr = cfr;\r\n        _this.injector = injector;\r\n        return _this;\r\n    }\r\n    AifBeWritebackRulePackageModule.prototype.initPackage = function (gsp) {\r\n        this.package = new AifBeWritebackRulePackage(gsp, this.cfr, this.injector);\r\n    };\r\n    AifBeWritebackRulePackageModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                HttpModule,\r\n                AifBeWritebackRuleModule,\r\n                GSPMetadataServiceModule.forRoot(environment.SERVER_IP)\r\n            ],\r\n            providers: []\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ComponentFactoryResolver, Injector])\r\n    ], AifBeWritebackRulePackageModule);\r\n    return AifBeWritebackRulePackageModule;\r\n}(PackageModule));\r\nexport { AifBeWritebackRulePackageModule };\r\n//# sourceMappingURL=aif-be-writeback-rule-package.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-writeback-rule/aif-be-writeback-rule-package.module.js\n// module id = ./src/packages/aif-be-writeback-rule/aif-be-writeback-rule-package.module.js\n// module chunks = aif-be-writeback-rule-package.module","import { GSP, Package } from '@farris/ide-devkit';\r\nimport { ComponentFactoryResolver, Injector, Type } from '@angular/core';\r\nimport { AifBeWritebackRulePackageView } from './views';\r\nimport { AifBeWritebackRuleDesignerComponent } from './views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component';\r\n\r\nexport class AifBeWritebackRulePackage extends Package {\r\n  constructor(\r\n    gsp: GSP,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector\r\n  ) {\r\n    super(gsp);\r\n  }\r\n\r\n  activate(state) {\r\n    this.gsp.workspace.addOpener((uri: string) => this.openBeWritebackRule(uri));\r\n  }\r\n\r\n  openBeWritebackRule(uri) {\r\n    if (uri.endsWith('.aifwr')) {\r\n      const pkgView = new AifBeWritebackRulePackageView({}, this.cfr, this.injector);\r\n      const currentElement = pkgView.getElement().instance as AifBeWritebackRuleDesignerComponent;\r\n      currentElement.metadataUri = uri;\r\n      // 这里需要处理uri，title应返回元数据名称，\r\n      return {\r\n        getTitle: () => uri.substring(uri.lastIndexOf('/') + 1),\r\n        getElement: () => pkgView.getElement()\r\n      };\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-writeback-rule/package.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n    -webkit-box-flex: 1;\\r\\n        -ms-flex: 1;\\r\\n            flex: 1;\\r\\n}\\r\\n\\r\\n#bemain .k-content {\\r\\n    padding: 0 !important;\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav {\\r\\n    background: #e8edf2;\\r\\n    height: 40px;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle {\\r\\n    padding: 0px 10px;\\r\\n    color: #666666;\\r\\n    line-height: 40px;\\r\\n    cursor: pointer;\\r\\n    font-size: 0.875rem;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle.active {\\r\\n    color: #FFFFFF;\\r\\n    background-color: #0072c6 !important;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle:not(:first-child).active {\\r\\n    margin-left: -17px;\\r\\n    padding-left: 25px;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle.disable {\\r\\n    color: #cdcdcf;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right {\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    border-width: 20px 0 20px 18px;\\r\\n    border-style: solid;\\r\\n    border-color: transparent transparent transparent #cccccc;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right span {\\r\\n    display: block;\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    border-width: 20px 0px 20px 18px;\\r\\n    border-style: solid;\\r\\n    border-color: transparent transparent transparent #e8edf2;\\r\\n    position: absolute;\\r\\n    top: -20px;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right.active {\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    border-width: 20px 0 20px 20px;\\r\\n    border-color: transparent transparent transparent #e8edf2;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right.active span {\\r\\n    border-width: 20px 0 20px 20px;\\r\\n    border-color: transparent transparent transparent #0072c6;\\r\\n}\\r\\n\\r\\n#beFrameObjTab {\\r\\n    position: absolute;\\r\\n    top: 3em;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n#beFrameBeTab {\\r\\n    position: absolute;\\r\\n    top: 0em;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.aifHeader{\\r\\n    background-color:#C0C0C0;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.css\n// module id = ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.css\n// module chunks = aif-be-writeback-rule-package.module","module.exports = \"<div class=\\\"d-flex flex-column\\\" style=\\\"flex:1;\\\">\\r\\n  <div class=\\\"border-bottom\\\">\\r\\n    <button kendoButton [look]=\\\"'bare'\\\" (click)=\\\"saveMetadata()\\\">保存</button>\\r\\n    <button kendoButton [look]=\\\"'bare'\\\" (click)=\\\"publishMetadata()\\\">发布</button>\\r\\n    <button kendoButton [look]=\\\"'bare'\\\" (click)=\\\"unPublishMetadata()\\\">撤销发布</button>\\r\\n  </div>\\r\\n\\r\\n  <div>\\r\\n    <h5 class=\\\"float-left aifHeader\\\">回写规则</h5>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"flex-auto\\\" style=\\\"overflow-y:auto;\\\" id=\\\"attachmentParent\\\">\\r\\n    <form class=\\\"k-form\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"id\\\">\\r\\n            <span>\\r\\n              ID\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"id\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.Id\\\"\\r\\n              #ID=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"ID.valid || ID.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"ID\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field \\\" for=\\\"name\\\">\\r\\n            <span>名称</span>\\r\\n            <input class=\\\"k-textbox w-100\\\" placeholder=\\\"\\\" name=\\\"name\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.Name\\\">\\r\\n          </label>\\r\\n\\r\\n          <!-- <label class=\\\"k-form-field\\\" for=\\\"isEnabled\\\">\\r\\n            <div class=\\\"d-flex mr-5\\\">\\r\\n              <br/>\\r\\n              <input type=\\\"checkbox\\\" id=\\\"isEnabled\\\" class=\\\"k-checkbox\\\" name=\\\"isEnabled\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.IsEnabled\\\">\\r\\n              <label class=\\\"k-checkbox-label\\\" for=\\\"isEnabled\\\">是否启用</label>\\r\\n              <br/>\\r\\n            </div>\\r\\n          </label> -->\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"mappingRuleId\\\">\\r\\n            <span>\\r\\n              映射规则ID\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearMappingRuleIdable(true)\\\" (mouseleave)=\\\"setClearMappingRuleIdable(false)\\\">\\r\\n              <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"mappingRuleId\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.MappingRuleId\\\"\\r\\n                  #MappingRuleId=\\\"ngModel\\\">\\r\\n                <span *ngIf=\\\"clearMappingRuleIdable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearMappingRuleId()\\\">x</span>\\r\\n              </span>\\r\\n\\r\\n              <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('MappingRule')\\\">\\r\\n                <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n              </button>\\r\\n            </div>\\r\\n\\r\\n            <div [hidden]=\\\"MappingRuleId.valid || MappingRuleId.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"映射规则ID\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"description\\\">\\r\\n            <span>描述</span>\\r\\n            <textarea kendoTextArea class=\\\"form-control\\\" placeholder=\\\"\\\" name=\\\"description\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.Description\\\"></textarea>\\r\\n          </label>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n          <label class=\\\"k-form-field \\\" for=\\\"sourceBeMetadataID\\\">\\r\\n            <span>\\r\\n              来源BE元数据ID\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearSourceBeMetadataIdable(true)\\\" (mouseleave)=\\\"setClearSourceBeMetadataIdable(false)\\\">\\r\\n              <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"sourceBeMetadataID\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.SourceBeMetadataID\\\"\\r\\n                  #SourceBeMetadataID=\\\"ngModel\\\">\\r\\n                <span *ngIf=\\\"clearSourceBeMetadataIdable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearSourceBeMetadataId()\\\">x</span>\\r\\n              </span>\\r\\n\\r\\n              <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('GSPBusinessEntity',true)\\\">\\r\\n                <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n              </button>\\r\\n            </div>\\r\\n\\r\\n            <div [hidden]=\\\"SourceBeMetadataID.valid || SourceBeMetadataID.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"来源BE元数据ID\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"sourceBeType\\\">\\r\\n            <span>\\r\\n              来源BE类型\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"sourceBeType\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.SourceBeType\\\"\\r\\n              #SourceBeType=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"SourceBeType.valid || SourceBeType.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"来源BE类型\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"sourceBeName\\\">\\r\\n            <span>\\r\\n              来源BE名称\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"sourceBeName\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.SourceBeName\\\"\\r\\n              #SourceBeName=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"SourceBeName.valid || SourceBeName.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"来源BE名称\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"sourceBeMetadataPackageName\\\">\\r\\n            <span>\\r\\n              来源BE元数据包名称\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"sourceBeMetadataPackageName\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.SourceBeMetadataPackageName\\\"\\r\\n              #SourceBeMetadataPackageName=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"SourceBeMetadataPackageName.valid || SourceBeMetadataPackageName.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"来源BE元数据包名称\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field \\\" for=\\\"targetBeMetadataID\\\">\\r\\n            <span>\\r\\n              目标BE元数据ID\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n\\r\\n            <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearTargetBeMetadataIdable(true)\\\" (mouseleave)=\\\"setClearTargetBeMetadataIdable(false)\\\">\\r\\n              <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"targetBeMetadataID\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.TargetBeMetadataID\\\"\\r\\n                  #TargetBeMetadataID=\\\"ngModel\\\">\\r\\n                <span *ngIf=\\\"clearTargetBeMetadataIdable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearTargetBeMetadataId()\\\">x</span>\\r\\n              </span>\\r\\n\\r\\n              <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('GSPBusinessEntity',false)\\\">\\r\\n                <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n              </button>\\r\\n            </div>\\r\\n\\r\\n            <div [hidden]=\\\"TargetBeMetadataID.valid || TargetBeMetadataID.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"目标BE元数据ID\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"targetBeType\\\">\\r\\n            <span>\\r\\n              目标BE类型\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"targetBeType\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.TargetBeType\\\"\\r\\n              #TargetBeType=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"TargetBeType.valid || TargetBeType.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"目标BE类型\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"targetBeName\\\">\\r\\n            <span>\\r\\n              目标BE名称\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"targetBeName\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.TargetBeName\\\"\\r\\n              #TargetBeName=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"TargetBeName.valid || TargetBeName.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"目标BE名称\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"targetBeMetadataPackageName\\\">\\r\\n            <span>\\r\\n              目标BE元数据包名称\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"targetBeMetadataPackageName\\\" [(ngModel)]=\\\"toDesignerBeWritebackRule&&toDesignerBeWritebackRule.TargetBeMetadataPackageName\\\"\\r\\n              #TargetBeMetadataPackageName=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"TargetBeMetadataPackageName.valid || TargetBeMetadataPackageName.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"目标BE元数据包名称\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.html\n// module id = ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.html\n// module chunks = aif-be-writeback-rule-package.module","import { Component, OnInit, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\nimport { BsModalService } from '@farris/ui';\r\nimport { MetadataDto, GSPMetadataService, SelectMetadataComponent } from '@gsp-lcm/metadata-selector';\r\nimport { AifBeWritebackRuleEntity } from '../aif-be-writeback-rule-entity';\r\nimport { AifBeWritebackRuleService } from '../aif-be-writeback-rule.service';\r\n\r\n@Component({\r\n    selector: 'app-aif-be-writeback-rule-designer',\r\n    templateUrl: './aif-be-writeback-rule-designer.component.html',\r\n    styleUrls: ['./aif-be-writeback-rule-designer.component.css'],\r\n    providers: [AifBeWritebackRuleService]\r\n})\r\nexport class AifBeWritebackRuleDesignerComponent implements OnInit {\r\n    toDesignerBeWritebackRule: AifBeWritebackRuleEntity;\r\n    metadataDto: MetadataDto;\r\n    title = 'app';\r\n    private _metadataUri: string;\r\n    set metadataUri(metadataUri: string) {\r\n        this._metadataUri = metadataUri;\r\n\r\n        let fullname: string = this._metadataUri.substring(this._metadataUri.lastIndexOf('/') + 1);\r\n        let path: string = this._metadataUri.substring(1, this._metadataUri.lastIndexOf('/'));\r\n        this.lcmService.LoadMetadata(fullname, path).subscribe(data => {\r\n            this.metadataDto = data;\r\n            this.loadMetadata(this.metadataDto);\r\n        }, error => {\r\n            alert(\"加载元数据失败。\")\r\n        });\r\n    }\r\n\r\n    constructor(private lcmService: GSPMetadataService, private cache: CacheService, private beWritebackRuleService: AifBeWritebackRuleService,\r\n        private modalService: BsModalService, private resolver: ComponentFactoryResolver, private injector: Injector) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    saveMetadata() {\r\n        this.saveMetadataService().subscribe(() => {\r\n            alert(\"保存成功\");\r\n        }, error => {\r\n            alert(\"保存失败\")\r\n        });\r\n    }\r\n\r\n    saveMetadataService() {\r\n        let beWritebackRule: string = JSON.stringify(this.toDesignerBeWritebackRule);\r\n        let entity: any = {};\r\n        entity.Entity = beWritebackRule;\r\n        this.metadataDto.content = JSON.stringify(entity);\r\n\r\n        return this.lcmService.SaveMetadata(this.metadataDto, this.cache.get(\"sessionId\"));\r\n    }\r\n\r\n    publishMetadata(): void {\r\n        this.saveMetadataService().subscribe(() => {\r\n            this.lcmService.GetProjectInfo(this.metadataDto.relativePath).subscribe(data => {\r\n                this.toDesignerBeWritebackRule.MetadataID = this.metadataDto.id;\r\n                this.toDesignerBeWritebackRule.MetadataPackageName = data.metadataPackageInfo.name;\r\n                this.lcmService.GetGspProjInfo(data.projectPath).subscribe(data => {\r\n                    this.toDesignerBeWritebackRule.SuName = data.serviceUnitCode;\r\n                    this.beWritebackRuleService.publishBeWritebackRule(this.toDesignerBeWritebackRule).subscribe(() => {\r\n                        alert(\"发布成功\");\r\n                    }, error => {\r\n                        let errorString: string = error.error ? error.error.Message : error.statusText;\r\n                        alert(\"发布失败。\\n\" + errorString);\r\n                    });\r\n                })\r\n\r\n            })\r\n        });\r\n    }\r\n\r\n    unPublishMetadata(): void {\r\n        this.beWritebackRuleService.unPublishBeWritebackRule(this.metadataDto.id).subscribe(() => {\r\n            alert(\"撤销发布成功\");\r\n        }, error => {\r\n            let errorString: string = error.error ? error.error.Message : error.statusText;\r\n            alert(\"撤销发布失败。\\n\" + errorString);\r\n        });\r\n    }\r\n\r\n    private loadMetadata(dto: MetadataDto) {\r\n        this.metadataDto = dto;\r\n        if (this.metadataDto.content && this.metadataDto.content != \"\") {\r\n            let entity = JSON.parse(this.metadataDto.content);\r\n            if (entity.Entity != \"null\") {\r\n                this.toDesignerBeWritebackRule = JSON.parse(entity.Entity);\r\n            }\r\n            else {\r\n                this.toDesignerBeWritebackRule = new AifBeWritebackRuleEntity();\r\n            }\r\n\r\n            if (this.toDesignerBeWritebackRule.Id == null) {\r\n                this.toDesignerBeWritebackRule.Id = this.metadataDto.id;\r\n                this.toDesignerBeWritebackRule.IsEnabled = true;\r\n                this.toDesignerBeWritebackRule.Name = this.metadataDto.name;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    selectMetadata(typeName: string, isSourceBe?: boolean) {\r\n        const compFactory = this.resolver.resolveComponentFactory(SelectMetadataComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.metadataPath = this.metadataDto.relativePath;\r\n        compRef.instance.typeName = typeName;\r\n        compRef.instance.selectedMetadata.subscribe($event => {\r\n            if (typeName == 'MappingRule') {\r\n                this.toDesignerBeWritebackRule.MappingRuleId = JSON.parse($event.metadata.content).ID;\r\n            }\r\n            else if (typeName == 'GSPBusinessEntity' && isSourceBe == true) {\r\n                this.toDesignerBeWritebackRule.SourceBeMetadataID = $event.metadata.id;\r\n                this.toDesignerBeWritebackRule.SourceBeType = $event.metadata.code;\r\n                this.toDesignerBeWritebackRule.SourceBeMetadataPackageName = $event.packageHeader.name;\r\n                let businessEntity = JSON.parse($event.metadata.content);\r\n                this.toDesignerBeWritebackRule.SourceBeName = businessEntity.MainObject.Name;\r\n            }\r\n            else if (typeName == 'GSPBusinessEntity' && isSourceBe == false) {\r\n                this.toDesignerBeWritebackRule.TargetBeMetadataID = $event.metadata.id;\r\n                this.toDesignerBeWritebackRule.TargetBeType = $event.metadata.code;\r\n                this.toDesignerBeWritebackRule.TargetBeMetadataPackageName = $event.packageHeader.name;\r\n                let businessEntity = JSON.parse($event.metadata.content);\r\n                this.toDesignerBeWritebackRule.TargetBeName = businessEntity.MainObject.Name;\r\n            }\r\n        });\r\n        const modalConfig = {\r\n            title: '元数据选择',\r\n            width: 882,\r\n            height: 573,\r\n            showButtons: false\r\n        };\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n\r\n        compRef.instance.closeModalEmitter.subscribe($event => {\r\n            dialog.close();\r\n        });\r\n    }\r\n\r\n    clearMappingRuleId() {\r\n        this.toDesignerBeWritebackRule.MappingRuleId = null;\r\n    }\r\n\r\n    clearSourceBeMetadataId() {\r\n        this.toDesignerBeWritebackRule.SourceBeMetadataID = null;\r\n        this.toDesignerBeWritebackRule.SourceBeType = null;\r\n        this.toDesignerBeWritebackRule.SourceBeName = null;\r\n        this.toDesignerBeWritebackRule.SourceBeMetadataPackageName = null;\r\n    }\r\n\r\n    clearTargetBeMetadataId() {\r\n        this.toDesignerBeWritebackRule.TargetBeMetadataID = null;\r\n        this.toDesignerBeWritebackRule.TargetBeType = null;\r\n        this.toDesignerBeWritebackRule.TargetBeName = null;\r\n        this.toDesignerBeWritebackRule.TargetBeMetadataPackageName = null;\r\n    }\r\n\r\n    clearMappingRuleIdable: boolean = false;\r\n    setClearMappingRuleIdable(display: boolean) {\r\n        if (this.toDesignerBeWritebackRule.MappingRuleId != null) {\r\n            this.clearMappingRuleIdable = display;\r\n        }\r\n        else {\r\n            this.clearMappingRuleIdable = false;\r\n        }\r\n    }\r\n\r\n    clearSourceBeMetadataIdable: boolean = false;\r\n    setClearSourceBeMetadataIdable(display: boolean) {\r\n        if (this.toDesignerBeWritebackRule.SourceBeMetadataID != null) {\r\n            this.clearSourceBeMetadataIdable = display;\r\n        }\r\n        else {\r\n            this.clearSourceBeMetadataIdable = false;\r\n        }\r\n    }\r\n\r\n    clearTargetBeMetadataIdable: boolean = false;\r\n    setClearTargetBeMetadataIdable(display: boolean) {\r\n        if (this.toDesignerBeWritebackRule.TargetBeMetadataID != null) {\r\n            this.clearTargetBeMetadataIdable = display;\r\n        }\r\n        else {\r\n            this.clearTargetBeMetadataIdable = false;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component.ts","export class AifBeWritebackRuleEntity {\r\n    Id: string;\r\n\r\n    Name: string;\r\n\r\n    Description: string;\r\n\r\n    MetadataPackageName: string;\r\n\r\n    MetadataID: string;\r\n\r\n    SuName: string;\r\n\r\n    IsEnabled: boolean;\r\n\r\n    SourceBeMetadataPackageName: string;\r\n\r\n    SourceBeMetadataID: string;\r\n\r\n    SourceBeType: string;\r\n\r\n    SourceBeName: string;\r\n\r\n    TargetBeMetadataPackageName: string;\r\n\r\n    TargetBeMetadataID: string;\r\n\r\n    TargetBeType: string;\r\n\r\n    TargetBeName: string;\r\n\r\n    MappingRuleId: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule-entity.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ButtonsModule } from '@progress/kendo-angular-buttons';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { WindowModule, DialogModule } from '@progress/kendo-angular-dialog';\r\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\r\nimport { GSPHttpModule } from '@farris/ide-devkit/services';\r\nimport { FarrisDialogModule } from '@farris/ui';\r\nimport { MetadataSelectModule } from '@gsp-lcm/metadata-selector';\r\nimport { AifBeWritebackRuleDesignerComponent } from './aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpClientModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        ButtonsModule,\r\n        GridModule,\r\n        WindowModule,\r\n        DialogModule,\r\n        DropDownsModule,\r\n        GSPHttpModule,\r\n        FarrisDialogModule,\r\n        MetadataSelectModule\r\n    ],\r\n    declarations: [AifBeWritebackRuleDesignerComponent],\r\n    entryComponents: [AifBeWritebackRuleDesignerComponent]\r\n})\r\nexport class AifBeWritebackRuleModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule.module.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/observable';\r\nimport { HttpService } from '@farris/ide-devkit/services';\r\n\r\n@Injectable()\r\nexport class AifBeWritebackRuleService {\r\n  private baseUrl = '/api/dev/sys/v1.0/BeWritebackRuleEntities';\r\n\r\n  constructor(private http: HttpService, ) { }\r\n\r\n  publishBeWritebackRule(item: any): Observable<any> {\r\n    return this.http.post(this.baseUrl, item);\r\n  }\r\n\r\n  unPublishBeWritebackRule(metadataId: string): Observable<any> {\r\n    let param: any = {\r\n      \"parameters\": metadataId\r\n    }\r\n\r\n    const url = ` ${this.baseUrl}/UnPublishBeWritebackRule`;\r\n    return this.http.post(url, param);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-writeback-rule/views/aif-be-writeback-rule.service.ts","import { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { PackageView } from '@farris/ide-devkit';\r\nimport { AifBeWritebackRuleDesignerComponent } from './aif-be-writeback-rule-designer/aif-be-writeback-rule-designer.component';\r\n\r\nexport class AifBeWritebackRulePackageView extends PackageView {\r\n\r\n  constructor(serializedState: any,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector) {\r\n    super(serializedState);\r\n    const componentFactory = this.cfr.resolveComponentFactory(AifBeWritebackRuleDesignerComponent);\r\n    this.element = componentFactory.create(this.injector);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-writeback-rule/views/index.ts"],"sourceRoot":"webpack:///"}