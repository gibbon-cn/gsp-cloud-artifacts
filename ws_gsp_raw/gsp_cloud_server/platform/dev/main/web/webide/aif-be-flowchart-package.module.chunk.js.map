{"version":3,"sources":["./src/packages/aif-be-flowchart/aif-be-flowchart-package.module.js","./src/packages/aif-be-flowchart/index.ts","./src/packages/aif-be-flowchart/package.ts","./src/packages/aif-be-flowchart/pipe/SafePipe.ts","./src/packages/aif-be-flowchart/views/aif-be-flowchart-designer.module.ts","./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.css","./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.html","./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.ts","./src/packages/aif-be-flowchart/views/aif-be-flowchart.service.ts","./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.css","./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.html","./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.ts","./src/packages/aif-be-flowchart/views/index.ts"],"names":[],"mappings":"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","file":"aif-be-flowchart-package.module.chunk.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { ComponentFactoryResolver, Injector, NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { PackageModule } from '@farris/ide-devkit';\r\nimport { GSPMetadataServiceModule, MetadataSelectModule } from '@gsp-lcm/metadata-selector';\r\nimport { environment } from '../../environments/environment';\r\nimport { TabsComponent } from '../../app/framework/directives/tabs';\r\nimport { AifBeFlowchartDesignerModule } from './views/aif-be-flowchart-designer.module';\r\nimport { AifBeFlowchartPackage } from '.';\r\nimport { FarrisDialogModule } from '@farris/ui';\r\nvar AifBeFlowchartPackageModule = (function (_super) {\r\n    __extends(AifBeFlowchartPackageModule, _super);\r\n    function AifBeFlowchartPackageModule(cfr, injector) {\r\n        var _this = _super.call(this) || this;\r\n        _this.cfr = cfr;\r\n        _this.injector = injector;\r\n        return _this;\r\n    }\r\n    AifBeFlowchartPackageModule.prototype.initPackage = function (gsp) {\r\n        this.package = new AifBeFlowchartPackage(gsp, this.cfr, this.injector);\r\n    };\r\n    AifBeFlowchartPackageModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                HttpModule,\r\n                AifBeFlowchartDesignerModule,\r\n                GSPMetadataServiceModule.forRoot(environment.SERVER_IP),\r\n                MetadataSelectModule,\r\n                FarrisDialogModule,\r\n            ],\r\n            providers: [\r\n                // ComponentFactoryResolver\r\n                TabsComponent\r\n            ]\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ComponentFactoryResolver, Injector])\r\n    ], AifBeFlowchartPackageModule);\r\n    return AifBeFlowchartPackageModule;\r\n}(PackageModule));\r\nexport { AifBeFlowchartPackageModule };\r\n//# sourceMappingURL=aif-be-flowchart-package.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-flowchart/aif-be-flowchart-package.module.js\n// module id = ./src/packages/aif-be-flowchart/aif-be-flowchart-package.module.js\n// module chunks = aif-be-flowchart-package.module","export * from './package';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/index.ts","import { ComponentFactoryResolver, Injector, Type } from '@angular/core';\r\nimport { GSP, Package } from '@farris/ide-devkit';\r\nimport { AifBeFlowchartPackageView } from './views';\r\nimport { AifBeFlowchartDesignerComponent, POST_MESSAGE_TARGET } from './views/aif-be-flowchart/aif-be-flowchart-designer.component';\r\nimport { WorkspaceComponent } from '../../app/workspace/workspace.component';\r\n\r\nexport class AifBeFlowchartPackage extends Package {\r\n\r\n  private layoutPanel: any;\r\n  // private pkgView:AifBeFlowchartPackageView;\r\n\r\n  constructor(\r\n    gsp: GSP,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector\r\n  ) {\r\n    super(gsp);\r\n  }\r\n\r\n  activate(state) {\r\n    //this.gsp.eventBus.on(WorkspaceComponent.name, 'Workspace', 'tabHidding', AifBeFlowchartPackageView, this.onMainTabsSelecting);\r\n\r\n    this.gsp.workspace.addOpener((uri: string) => {\r\n      //this.gsp.workspace.getCenter().getActivePane().onWillRemoveItem((item)=>this.onTabWillRemove(item));\r\n      this.gsp.workspace.getCenter().getActivePane().onDidChangeActiveItem((item) => this.onTabDidChange(item));\r\n\r\n      return this.openAifBeFlowchart(uri);\r\n    });\r\n  }\r\n\r\n  openAifBeFlowchart(uri) {\r\n    if (uri.endsWith('.aifbf')) {\r\n      let pkgView = new AifBeFlowchartPackageView({}, this.cfr, this.injector);\r\n      const currentElement = pkgView.getElement().instance as AifBeFlowchartDesignerComponent;\r\n      currentElement.metadataUri = uri;\r\n\r\n      // 这里需要处理uri，title应返回元数据名称，\r\n      return {\r\n        getTitle: () => uri.substring(uri.lastIndexOf('/') + 1),\r\n        getElement: () => pkgView.getElement()\r\n      };\r\n    }\r\n  }\r\n\r\n  onTabDidChange(item: any): any {\r\n    if (item == null) {\r\n      return;\r\n    }\r\n    //console.log(item.getElement());\r\n    // alert(beFlowchartDesignerComponent.metadataUri);\r\n    //console.log((item.getElement().instance as AifBeFlowchartDesignerComponent).metadataUri);\r\n    if (item.getElement().instance instanceof AifBeFlowchartDesignerComponent) {\r\n      console.log(\"这是AifBeFlowchartDesignerComponent的实例\");\r\n      let aifBeFlowchartDesignerComponent = item.getElement().instance as AifBeFlowchartDesignerComponent;\r\n      if (aifBeFlowchartDesignerComponent.myParentPageMessageFunct != window['myParentPageMessageFunct']) {\r\n        //aifBeFlowchartDesignerComponent.propertyPanel.collapse();\r\n        aifBeFlowchartDesignerComponent.initPropertyPanel();\r\n        aifBeFlowchartDesignerComponent.addMessageListener();\r\n      }\r\n    }\r\n  }\r\n\r\n  onTabWillRemove(item): void {\r\n    //alert(item.getTitle());\r\n  }\r\n\r\n  onMainTabsSelecting(item): void {\r\n    if (item.getElement().instance instanceof AifBeFlowchartDesignerComponent) {\r\n      let currentElement = item.getElement().instance as AifBeFlowchartDesignerComponent;\r\n      if (currentElement.changed == true) {\r\n        //debugger;\r\n        // if(confirm(\"是否保存？\")){\r\n        console.log(\"自动保存\");\r\n        try {\r\n          let latestContent=currentElement.iframe.nativeElement.contentWindow.aifGetBpmnModel();\r\n          currentElement.metadataDto.content=latestContent;\r\n          currentElement.metadataContent=currentElement.metadataDto;\r\n          currentElement.lcmService.SaveMetadata(currentElement.metadataDto,currentElement.cache.get(\"sessionId\")).subscribe(\r\n            ()=>{\r\n              console.log(\"自动保存成功\");\r\n            },(error)=>{\r\n              console.error(\"自动保存失败\");\r\n              console.error(error);\r\n            });\r\n          //目前问题：调用下面方法发送消息后由于新的消息监听器刚注册完毕，导致消息存储出新打开的元数据中\r\n          //currentElement.iframe.nativeElement.contentWindow.aifAutoSave();\r\n          //throw \"error\";\r\n          //currentElement.iframe.nativeElement.contentWindow.postMessage(\"#save_request#\",POST_MESSAGE_TARGET);\r\n        } catch (error) {\r\n          console.error(\"自动保存失败\");\r\n          console.error(error);\r\n        }\r\n        // }else{\r\n\r\n        // }\r\n      }\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/package.ts","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\n\r\n/**\r\n* safe管道\r\n* 将url转换为angular 中 iframe可以识别的安全url链接\r\n*\r\n* @export\r\n* @class SafePipe\r\n* @implements {PipeTransform}\r\n*/\r\n@Pipe({\r\n    name: \"safe\"\r\n})\r\nexport class SafePipe implements PipeTransform {\r\n    constructor(private sanitizer: DomSanitizer) {\r\n\r\n    }\r\n\r\n    //Angular 2 中提供的 DomSanitizer 服务，可以让url变得安全\r\n    transform(url): any {\r\n        return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/pipe/SafePipe.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonsModule, ButtonGroupModule } from '@progress/kendo-angular-buttons';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { InputsModule } from '@progress/kendo-angular-inputs';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { DialogModule } from '@progress/kendo-angular-dialog';\r\nimport { DropDownListModule } from '@progress/kendo-angular-dropdowns';\r\nimport { PopupModule } from '@progress/kendo-angular-popup';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { LayoutModule, SplitterModule } from '@progress/kendo-angular-layout';\r\nimport { HttpModule } from '@angular/http';\r\nimport { PropertyPanelModule } from '@farris/ide-devkit';\r\nimport { SafePipe } from '../pipe/SafePipe';\r\nimport { AifBeFlowchartDesignerComponent } from './aif-be-flowchart/aif-be-flowchart-designer.component';\r\nimport { PropertySelectorComponent } from './aif-be-flowchart-property-selector/property-selector/property-selector.component';\r\nimport { MetadataSelectModule } from '@gsp-lcm/metadata-selector';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { GSPHttpModule } from '@farris/ide-devkit/services';\r\n\r\n@NgModule({\r\n  imports: [\r\n        \r\n      // 元数据选择界面\r\n      //MetadataModule,\r\n      CommonModule,\r\n      GridModule,\r\n      FormsModule,\r\n      ButtonsModule,\r\n      ButtonGroupModule,\r\n      DialogModule,\r\n      ReactiveFormsModule,\r\n      InputsModule,\r\n      DropDownListModule,\r\n      PopupModule,\r\n      TreeViewModule,\r\n      LayoutModule,\r\n      HttpModule,\r\n      SplitterModule,\r\n      PropertyPanelModule,\r\n      MetadataSelectModule,\r\n      HttpClientModule,\r\n      GSPHttpModule,\r\n  ],\r\n  declarations: [AifBeFlowchartDesignerComponent,SafePipe,PropertySelectorComponent],\r\n  entryComponents: [AifBeFlowchartDesignerComponent,PropertySelectorComponent]\r\n})\r\nexport class AifBeFlowchartDesignerModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart-designer.module.ts","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".templateBlock {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.infoBlock {\\r\\n    width: 100%;\\r\\n    min-width: 400px;\\r\\n}\\r\\n\\r\\n.infoBlock label {\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.templateSelector {\\r\\n    width: 600px;\\r\\n    height: 450px;\\r\\n    border: 0.5px solid #ddd;\\r\\n}\\r\\n\\r\\n.templateDescription {\\r\\n    width: 200px;\\r\\n    height: 450px;\\r\\n    border: 0.5px solid #ddd;\\r\\n}\\r\\n\\r\\n.templateInfo {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.css\n// module id = ./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.css\n// module chunks = aif-be-flowchart-package.module","module.exports = \"<!-- \\r\\nbizobjectID: \\\"salesorder\\\"\\r\\ncode: \\\"salesorder\\\"\\r\\ncontent: \\\"{\\\"ID\\\":\\\"bfe1b263-a5c5-498b-8619-e89e0741fd84\\\",\\\"Code\\\":\\\"salesorder\\\",\\\"Name\\\":\\\"salesorder\\\",\\\"IsVirtual\\\":false,\\\"EntityType\\\":\\\"\\\",\\\"ExtendNodeList\\\":[{\\\"GSPBusinessEntity\\\":\\\"<GSPBusinessEntity ComponentAssemblyName=\\\\\\\"Inspur.GS.BPM.SD.salesorder\\\\\\\" DataLockType=\\\\\\\"PessimisticLocking\\\\\\\" Category=\\\\\\\"DependentBusinessEntity\\\\\\\" DependentEntityId=\\\\\\\"\\\\\\\" DependentEntityName=\\\\\\\"\\\\\\\" DependentEntityPackageName=\\\\\\\"\\\\\\\" IsUsingTimeStamp=\\\\\\\"False\\\\\\\"><MainObject ID=\\\\\\\"460155bd-ab44-43a6-8c48-911925366275\\\\\\\"><DeterminationList /><ValidationList /><ActionList /><ElementList><Element RequiredCheckOccasion=\\\\\\\"All\\\\\\\" ID=\\\\\\\"7d6b6e3d-78fb-47a6-ba3f-c57bce9acf29\\\\\\\" /></ElementList></MainObject><MgrActionList><InternalOperation ID=\\\\\\\"m_6xIwJwoUy7qzsuZ6_S5A\\\\\\\" OperationId=\\\\\\\"\\\\\\\" OperationName=\\\\\\\"\\\\\\\" /><InternalOperation ID=\\\\\\\"Tji_dbrLtEKQlOLRpOJj9Q\\\\\\\" OperationId=\\\\\\\"\\\\\\\" OperationName=\\\\\\\"\\\\\\\" /><InternalOperation ID=\\\\\\\"fQbpcO7bIEGoRdTZZIyrag\\\\\\\" OperationId=\\\\\\\"\\\\\\\" OperationName=\\\\\\\"\\\\\\\" /><InternalOperation ID=\\\\\\\"8Wna6KaBQEOHpRJfmGMBYQ\\\\\\\" OperationId=\\\\\\\"\\\\\\\" OperationName=\\\\\\\"\\\\\\\" /><InternalOperation ID=\\\\\\\"9sEsnADPFkCRK6ZBC0OwiA\\\\\\\" OperationId=\\\\\\\"\\\\\\\" OperationName=\\\\\\\"\\\\\\\" /></MgrActionList></GSPBusinessEntity>\\\"}],\\\"PrimayKeyID\\\":\\\"ID\\\",\\\"GeneratingAssembly\\\":\\\"Inspur.GS.BPM.SD.salesorder\\\",\\\"FkConstraints\\\":[],\\\"MainObject\\\":{\\\"ContainElements\\\":[{\\\"ID\\\":\\\"7d6b6e3d-78fb-47a6-ba3f-c57bce9acf29\\\",\\\"Code\\\":\\\"ID\\\",\\\"Name\\\":\\\"ID\\\",\\\"LabelID\\\":\\\"ID\\\",\\\"ObjectType\\\":\\\"None\\\",\\\"MDataType\\\":\\\"String\\\",\\\"BillCodeConfig\\\":{\\\"CanBillCode\\\":true,\\\"BillCodeID\\\":\\\"\\\",\\\"BillCodeName\\\":\\\"\\\",\\\"CodeGenerateType\\\":0,\\\"CodeGenerateOccasion\\\":0},\\\"DefaultValue\\\":\\\"\\\",\\\"DefaultValueType\\\":0,\\\"Length\\\":36,\\\"Precision\\\":0,\\\"ChildAssociations\\\":[],\\\"ContainEnumValues\\\":[],\\\"ColumnID\\\":\\\"\\\",\\\"IsVirtual\\\":false,\\\"IsRequire\\\":true,\\\"Readonly\\\":false,\\\"IsRefElement\\\":false,\\\"RefElementID\\\":\\\"\\\",\\\"IsCustomItem\\\":false,\\\"IsMultiLanguage\\\":false,\\\"IsRef\\\":false,\\\"BelongModelID\\\":\\\"\\\",\\\"IsUdt\\\":false,\\\"UdtPkgName\\\":\\\"\\\",\\\"UdtID\\\":\\\"\\\",\\\"UdtName\\\":\\\"\\\",\\\"CalculationExpress\\\":null,\\\"ValidationExpress\\\":null,\\\"RequiredCheckOccasion\\\":\\\"All\\\"}],\\\"ContainChildObjects\\\":[],\\\"ID\\\":\\\"460155bd-ab44-43a6-8c48-911925366275\\\",\\\"Code\\\":\\\"salesorder\\\",\\\"Name\\\":\\\"salesorder\\\",\\\"ObjectType\\\":0,\\\"RefObjectName\\\":\\\"\\\",\\\"LogicDelete\\\":false,\\\"ColumnGenerateID\\\":{\\\"ElementID\\\":\\\"7d6b6e3d-78fb-47a6-ba3f-c57bce9acf29\\\",\\\"GernerateType\\\":\\\"Guid\\\"},\\\"ContainConstraints\\\":[],\\\"OrderbyCondition\\\":\\\"\\\",\\\"FilterCondition\\\":\\\"\\\",\\\"ModifiedDateElementID\\\":\\\"\\\",\\\"CreatorElementID\\\":\\\"\\\",\\\"CreatedDateElementID\\\":\\\"\\\",\\\"ModifierElementID\\\":\\\"\\\",\\\"RecordDelData\\\":false,\\\"IsReadOnly\\\":false,\\\"IsVirtual\\\":false,\\\"BelongModelID\\\":\\\"\\\",\\\"HirarchyInfo\\\":{\\\"PathGenerateType\\\":0,\\\"PathLength\\\":4},\\\"Keys\\\":[],\\\"IsRef\\\":false,\\\"StateElementID\\\":\\\"\\\",\\\"Determinations\\\":[],\\\"Validations\\\":[],\\\"BizActions\\\":[{\\\"ID\\\":\\\"aD73GrGaKEiA7N9jsPxIOQ\\\",\\\"Code\\\":\\\"Delete\\\",\\\"Name\\\":\\\"内置删除操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[]},{\\\"ID\\\":\\\"tf9MVINdJ0yhUrsJgfcvBA\\\",\\\"Code\\\":\\\"Modify\\\",\\\"Name\\\":\\\"内置修改操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[]},{\\\"ID\\\":\\\"cJwzDlFfa0uz4rChlTEd4g\\\",\\\"Code\\\":\\\"Retrieve\\\",\\\"Name\\\":\\\"内置检索操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[]}],\\\"AuthFieldInfos\\\":[]},\\\"ComponentAssemblyName\\\":\\\"Inspur.GS.BPM.SD.salesorder\\\",\\\"Category\\\":1,\\\"DataLockType\\\":0,\\\"ExtendType\\\":\\\"GSPBusinessEntity\\\",\\\"DependentEntityId\\\":\\\"\\\",\\\"DependentEntityName\\\":\\\"\\\",\\\"IsUsingTimeStamp\\\":false,\\\"DependentEntityPackageName\\\":\\\"\\\",\\\"Authorizations\\\":[],\\\"BizMgrActions\\\":[{\\\"ID\\\":\\\"m_6xIwJwoUy7qzsuZ6_S5A\\\",\\\"Code\\\":\\\"Query\\\",\\\"Name\\\":\\\"内置查询操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[],\\\"FuncOperationID\\\":\\\"\\\",\\\"FuncOperationName\\\":\\\"\\\"},{\\\"ID\\\":\\\"Tji_dbrLtEKQlOLRpOJj9Q\\\",\\\"Code\\\":\\\"RetrieveDefault\\\",\\\"Name\\\":\\\"内置新增操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[],\\\"FuncOperationID\\\":\\\"\\\",\\\"FuncOperationName\\\":\\\"\\\"},{\\\"ID\\\":\\\"fQbpcO7bIEGoRdTZZIyrag\\\",\\\"Code\\\":\\\"Retrieve\\\",\\\"Name\\\":\\\"内置检索操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[],\\\"FuncOperationID\\\":\\\"\\\",\\\"FuncOperationName\\\":\\\"\\\"},{\\\"ID\\\":\\\"8Wna6KaBQEOHpRJfmGMBYQ\\\",\\\"Code\\\":\\\"Modify\\\",\\\"Name\\\":\\\"内置修改操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[],\\\"FuncOperationID\\\":\\\"\\\",\\\"FuncOperationName\\\":\\\"\\\"},{\\\"ID\\\":\\\"9sEsnADPFkCRK6ZBC0OwiA\\\",\\\"Code\\\":\\\"Delete\\\",\\\"Name\\\":\\\"内置删除操作\\\",\\\"Description\\\":null,\\\"ComponentId\\\":null,\\\"ComponentName\\\":null,\\\"ComponentPkgName\\\":null,\\\"IsVisible\\\":false,\\\"BelongModelID\\\":null,\\\"IsRef\\\":false,\\\"IsGenerateComponent\\\":false,\\\"CurentAuthType\\\":0,\\\"OpIdList\\\":[],\\\"Parameters\\\":[],\\\"FuncOperationID\\\":\\\"\\\",\\\"FuncOperationName\\\":\\\"\\\"}]}\\\"\\r\\nextendProperty: \\\"\\\"\\r\\nfileName: \\\"salesorder.be\\\"\\r\\nid: \\\"bfe1b263-a5c5-498b-8619-e89e0741fd84\\\"\\r\\nname: \\\"salesorder\\\"\\r\\nnameSpace: \\\"Inspur.GS.BPM.SD.salesorder\\\"\\r\\nrelativePath: \\\"bo-salesorder-bpmn-demo/be\\\"\\r\\ntype: \\\"GSPBusinessEntity\\\"\\r\\n -->\\r\\n\\r\\n<div *ngIf=\\\"typeName=='GSPBusinessEntity'\\\">\\r\\n  <table class=\\\"table table-striped table-bordered\\\">\\r\\n    <tr>\\r\\n      <th>属性名</th>\\r\\n      <th>值</th>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>元数据ID</td>\\r\\n      <td>{{value?value.Id:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>名称</td>\\r\\n      <td>{{value?value.BeName:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>编号</td>\\r\\n      <td>{{value?value.BeType:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <!-- \\r\\n    <tr>\\r\\n      <td>类型</td>\\r\\n      <td>{{value?value.type:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>命名空间</td>\\r\\n      <td>{{value?value.nameSpace:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>业务对象</td>\\r\\n      <td>{{value?value.bizobjectID:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>文件名</td>\\r\\n      <td>{{value?value.fileName:\\\"\\\"}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>相对路径</td>\\r\\n      <td>{{value?value.relativePath:\\\"\\\"}}</td>\\r\\n    </tr> -->\\r\\n  </table>\\r\\n</div>\\r\\n<div *ngIf=\\\"typeName!='AifBeWritebackProcess'&&typeName!='GSPBusinessEntity'\\\">\\r\\n    <table class=\\\"table table-striped table-bordered\\\">\\r\\n        <tr>\\r\\n          <th>属性名</th>\\r\\n          <th>值</th>\\r\\n        </tr>\\r\\n        <!-- <tr>\\r\\n          <td>元数据ID</td>\\r\\n          <td>{{value?value.id:\\\"\\\"}}</td>\\r\\n        </tr> -->\\r\\n        <tr>\\r\\n            <td>流程元素ID</td>\\r\\n            <td>{{value?value.Id:\\\"\\\"}}</td>\\r\\n          </tr>\\r\\n        <!-- <tr>\\r\\n          <td>编号</td>\\r\\n          <td>{{value?value.code:\\\"\\\"}}</td>\\r\\n        </tr> -->\\r\\n        <tr>\\r\\n          <td>名称</td>\\r\\n          <td>{{value?value.Name:\\\"\\\"}}</td>\\r\\n        </tr>\\r\\n        <!-- <tr>\\r\\n          <td>类型</td>\\r\\n          <td>{{value?value.type:\\\"\\\"}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>命名空间</td>\\r\\n          <td>{{value?value.nameSpace:\\\"\\\"}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>业务对象</td>\\r\\n          <td>{{value?value.bizobjectID:\\\"\\\"}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>文件名</td>\\r\\n          <td>{{value?value.fileName:\\\"\\\"}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>相对路径</td>\\r\\n          <td>{{value?value.relativePath:\\\"\\\"}}</td>\\r\\n        </tr> -->\\r\\n      </table>\\r\\n  <!-- <table class=\\\"table table-striped table-bordered\\\">\\r\\n    <tr>\\r\\n      <th>属性名</th>\\r\\n      <th>值</th>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td>Id</td>\\r\\n      <td>{{value}}</td>\\r\\n    </tr>\\r\\n    </table> -->\\r\\n</div>\\r\\n<div *ngIf=\\\"typeName=='AifBeWritebackProcess'\\\">\\r\\n  <table class=\\\"table table-striped table-bordered\\\">\\r\\n    <!-- <tr>\\r\\n      <th>Id</th>\\r\\n      <th>操作</th>\\r\\n    </tr>\\r\\n    <tr *ngFor=\\\"let item of value\\\">\\r\\n      <td>{{item}}</td>\\r\\n      <td><button class=\\\"btn btn-danger btn-xs\\\" (click)=\\\"deleteValueItem($event.srcElement)\\\">删除</button></td>\\r\\n    </tr> -->\\r\\n    <tr>\\r\\n      <!-- <th>元数据文件ID</th> -->\\r\\n      <th>回写流程ID</th>\\r\\n      <!-- <th>编号</th> -->\\r\\n      <th>名称</th>\\r\\n      <!-- <th>类型</th> -->\\r\\n      <!-- <th>命名空间</th> -->\\r\\n      <!-- <th>业务对象</th> -->\\r\\n      <!-- <th>文件名</th> -->\\r\\n      <!-- <th>相对路径</th> -->\\r\\n      <th>操作</th>\\r\\n    </tr>\\r\\n    <tbody *ngIf=\\\"value!=null\\\">\\r\\n      <tr *ngFor=\\\"let item of value\\\">\\r\\n        <!-- <td>{{item.MetadataID}}</td> -->\\r\\n        <td>{{item.Id}}</td>\\r\\n        <!-- <td>{{item.code}}</td> -->\\r\\n        <td>{{item.Name}}</td>\\r\\n        <!-- <td>{{item.type}}</td> -->\\r\\n        <!-- <td>{{item.nameSpace}}</td> -->\\r\\n        <!-- <td>{{item.bizobjectID}}</td> -->\\r\\n        <!-- <td>{{item.fileName}}</td> -->\\r\\n        <!-- <td>{{item.relativePath}}</td> -->\\r\\n        <td><button class=\\\"btn btn-danger btn-xs\\\" (click)=\\\"deleteValueItem($event.srcElement)\\\">删除</button></td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</div>\\r\\n<ng-template #iconSelectFooter>\\r\\n  <div class=\\\"btns\\\" *ngIf=\\\"typeName!='AifBeWritebackProcess'\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm px-3\\\" (click)=\\\"selectMetadata()\\\">浏览</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm px-3\\\" (click)=\\\"clickOK()\\\">确定</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary btn-sm px-3\\\" (click)=\\\"clickCancel()\\\">取消</button>\\r\\n  </div>\\r\\n  <div class=\\\"btns\\\" *ngIf=\\\"typeName=='AifBeWritebackProcess'\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm px-3\\\" (click)=\\\"selectMetadata()\\\">添加</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-primary btn-sm px-3\\\" (click)=\\\"clickOK()\\\">确定</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary btn-sm px-3\\\" (click)=\\\"clickCancel()\\\">取消</button>\\r\\n  </div>\\r\\n</ng-template>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.html\n// module id = ./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.html\n// module chunks = aif-be-flowchart-package.module","import { Component, OnInit, Output, Input, ViewChild, TemplateRef, EventEmitter, OnChanges, SimpleChanges, ComponentFactoryResolver, Injector, ViewContainerRef, AfterViewInit } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-devkit';\r\nimport { isNullOrUndefined } from 'util';\r\nimport { GSPMetadataService, SelectMetadataComponent } from '@gsp-lcm/metadata-selector';\r\nimport { MetadataService } from '@gsp-lcm/metadata-selector/metadata/metadata-select/metadata.service';\r\nimport { BsModalService } from '@farris/ui';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\n\r\n@Component({\r\n  selector: 'app-property-selector',\r\n  templateUrl: './property-selector.component.html',\r\n  styleUrls: ['./property-selector.component.css']\r\n})\r\nexport class PropertySelectorComponent implements OnInit, OnChanges, AfterViewInit {\r\n\r\n  @Output()\r\n  closeModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  value;\r\n\r\n  valueFlag = false;\r\n\r\n  @ViewChild('iconSelectFooter')\r\n  modalFooter: TemplateRef<any>\r\n\r\n  @ViewChild(\"selectMetadataComponentContainer\", { read: ViewContainerRef })\r\n  selectMetadataComponentContainer: ViewContainerRef;\r\n\r\n  modalConfig = {\r\n    title: '元数据信息',\r\n    width: 800,\r\n    height: 400\r\n  };\r\n\r\n  @Input(\"editorParams\")\r\n  //public editorParams: any = {};\r\n  private _editorParams: any = {};\r\n\r\n  // @Input()\r\n  typeName: string;\r\n  // @Input()\r\n  metadataPath: string;\r\n  // @Input()\r\n  classifier: string;\r\n\r\n  actualValue: string;\r\n\r\n  constructor(private metadataService: MetadataService,\r\n    private gspMetadataSerive: GSPMetadataService,\r\n    private bsModalService: BsModalService,\r\n    private cacheService: CacheService,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n  }\r\n\r\n  public set editorParams(editorParams: any) {\r\n\r\n    this._editorParams = editorParams;\r\n\r\n    this.typeName = editorParams.typeName;\r\n    this.metadataPath = editorParams.metadataPath;\r\n    this.classifier = editorParams.classifier;\r\n    this.actualValue = editorParams.actualValue;\r\n    \r\n    //如果含有多个元数据id\r\n    if (this.typeName == \"AifBeWritebackProcess\") {\r\n      this.value=[];\r\n      for(let writebackProcess of JSON.parse(this.editorParams.propertyData[this.editorParams.propertyID])){\r\n        this.value.push({\r\n          Id:writebackProcess.ProcessId,\r\n          MetadataID:writebackProcess.ProcessMetadataID,\r\n          Name:writebackProcess.ProcessName\r\n        });\r\n        // this.gspMetadataSerive.GetRefMetadata(this.metadataPath,writebackProcess.ProcessMetadataID,this.cacheService.get(\"sessionId\")).subscribe((item)=>{\r\n        //   console.log(item);\r\n        //   this.value.push(item);\r\n        // },\r\n        // (error)=>{\r\n        //   console.error(error);\r\n        // });\r\n      }\r\n    } else if (this.typeName == 'GSPBusinessEntity') {\r\n      // this.gspMetadataSerive.GetRefMetadata(this.metadataPath, this.editorParams.propertyData.BeMetadataID, this.cacheService.get(\"sessionId\")).subscribe(\r\n      //   (data) => {\r\n      //     console.log(data);\r\n      //     this.value = data;\r\n      //   }\r\n      // );\r\n      this.value={\r\n        Id:this.editorParams.propertyData.BeMetadataID,\r\n        BeName:this.editorParams.propertyData.BeName,\r\n        BeType:this.editorParams.propertyData.BeType\r\n      };\r\n    }\r\n    else if(this.typeName=='AifBeCreationRule'){      \r\n      // this.gspMetadataSerive.GetRefMetadata(this.editorParams.metadataPath,this.editorParams.metadataId,this.cacheService.get(\"sessionId\")).subscribe(\r\n      //   (data)=>{\r\n      //     console.log(data);\r\n      //     this.value=data;\r\n      //   }\r\n      // );\r\n      this.value={\r\n        Id:this.editorParams.propertyData.CreationRuleId,\r\n        Name:this.editorParams.propertyData.RuleName,\r\n        MetadataID:this.editorParams.propertyData.RuleMetadataID,\r\n      };\r\n    }else if(this.typeName=='AifBeCreationProcess'){\r\n      this.value={\r\n        Id:this.editorParams.propertyData.CreationProcessId,\r\n        Name:this.editorParams.propertyData.ProcessName,\r\n        MetadataID:this.editorParams.propertyData.ProcessName,\r\n      };\r\n    }\r\n  }\r\n\r\n  public get editorParams(): any {\r\n    return this._editorParams;\r\n  }\r\n\r\n  addValue(item:any){\r\n    if(Array.isArray(this.value)){\r\n      this.value.push(item.metadata);\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    \r\n    if (this.typeName == 'AifBeWritebackProcess') {\r\n      let result:any[]=[];\r\n      for(let item of this.value){\r\n        // let temp=JSON.parse(JSON.parse(item.content).Entity);\r\n        let temp=item;\r\n        result.push({\r\n          ClrTypeID:\"aif.Flowchart.WritebackProcess\",\r\n          MexTag:\"aif.Flowchart.WritebackProcess\",\r\n          ProcessId:temp.Id,\r\n          ProcessName:temp.Name,\r\n          ProcessMetadataID:temp.MetadataID\r\n        });\r\n      }\r\n      this.editorParams.propertyData[this.editorParams.propertyID] = JSON.stringify(result);\r\n      this.closeModal.emit(JSON.stringify(result));\r\n    } else if (this.typeName == 'GSPBusinessEntity') {\r\n      let result: any = {};\r\n      result.BeMetadataID = this.value.Id;\r\n      result.BeName = this.value.BeName;\r\n      result.BeType = this.value.BeType;\r\n      result.typeName = this.editorParams.typeName;\r\n\r\n      this.editorParams.propertyData.BeMetadataID = this.value.Id;\r\n      this.editorParams.propertyData.BeName = this.value.BeName;\r\n      this.editorParams.propertyData.BeType=this.value.BeType;\r\n\r\n      this.closeModal.emit(result);\r\n    } else if(this.typeName=='AifBeCreationProcess'){\r\n      // let obj=this.getFlowElement(this.value);\r\n      // this.editorParams.propertyData.ProcessName=obj.Name;\r\n      // this.editorParams.propertyData.ProcessMetadataID=obj.MetadataID;\r\n      // let result:any={};\r\n      // result.ProcessMetadataID=this.value.id;\r\n      // result.ProcessName=obj.Name;\r\n      // result.typeName=this.typeName;\r\n      // result.CreationProcessId=obj.Id;\r\n\r\n      let result:any={};\r\n      this.editorParams.propertyData.ProcessName=this.value.Name;\r\n      this.editorParams.propertyData.CreationProcessId=this.value.Id;\r\n      this.editorParams.propertyData.ProcessMetadataID=this.value.MetadataID;\r\n      \r\n      result.CreationProcessId=this.value.Id;\r\n      result.ProcessName=this.value.Name;\r\n      result.typeName=this.typeName;\r\n      result.ProcessMetadataID=this.value.MetadataID;\r\n\r\n      this.closeModal.emit(result);\r\n    }else if(this.typeName=='AifBeCreationRule'){\r\n      // let obj=this.getFlowElement(this.value);\r\n      // this.editorParams.propertyData.RuleName=obj.Name;\r\n      // this.editorParams.propertyData.RuleMetadataID=obj.MetadataID;\r\n      // let result:any={};\r\n      // result.RuleMetadataID=this.value.id;\r\n      // result.RuleName=obj.Name;\r\n      // result.typeName=this.typeName;\r\n      // result.CreationRuleId=obj.Id;\r\n\r\n      let result:any={};\r\n      this.editorParams.propertyData.RuleName=this.value.Name;\r\n      this.editorParams.propertyData.CreationRuleId=this.value.Id;\r\n      this.editorParams.propertyData.RuleMetadataID=this.value.MetadataID;\r\n      \r\n      result.CreationRuleId=this.value.Id;\r\n      result.RuleName=this.value.Name;\r\n      result.typeName=this.typeName;\r\n      result.RuleMetadataID=this.value.MetadataID;\r\n\r\n      this.closeModal.emit(result);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  selectMetadata() {\r\n    // \r\n    const selectMetadataComponentFactory = this.cfr.resolveComponentFactory(SelectMetadataComponent);\r\n    const selectMetadataComponentRef = selectMetadataComponentFactory.create(this.injector);\r\n    selectMetadataComponentRef.instance.typeName = this.editorParams.typeName;\r\n    selectMetadataComponentRef.instance.metadataPath = this.editorParams.metadataPath;\r\n    selectMetadataComponentRef.instance.classifier = this.editorParams.classifier;\r\n\r\n    selectMetadataComponentRef.instance.selectedMetadata.subscribe($event => {\r\n      console.log($event);\r\n      if (this.typeName == 'AifBeWritebackProcess') {\r\n        let temp=JSON.parse(JSON.parse($event.metadata.content).Entity);\r\n        this.value.push({\r\n          Id:temp.Id,\r\n          MetadataID:temp.MetadataID,\r\n          Name:temp.Name\r\n        });\r\n      } else if(this.typeName=='GSPBusinessEntity'){\r\n        this.value = {\r\n          Id:$event.metadata.id,\r\n          BeName:$event.metadata.name,\r\n          BeType:$event.metadata.code\r\n        };\r\n      }else{\r\n        let temp=JSON.parse(JSON.parse($event.metadata.content).Entity);\r\n        this.value={\r\n          Id:temp.Id,\r\n          MetadataID:temp.MetadataID,\r\n          Name:temp.Name\r\n        };\r\n      }\r\n\r\n    });\r\n\r\n    const dialog = this.bsModalService.show(selectMetadataComponentRef,\r\n      {\r\n        title: '元数据选择',\r\n        width: 882,\r\n        height: 573,\r\n        showButtons: false\r\n      }\r\n    );\r\n\r\n    selectMetadataComponentRef.instance.closeModalEmitter.subscribe($event => {\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  public deleteValueItem(obj: HTMLButtonElement) {\r\n    // \r\n    console.log(\"删除项\");\r\n    if (Array.isArray(this.value) == false) {\r\n      return;\r\n    }\r\n    let metadataID = obj.parentElement.parentElement.getElementsByTagName(\"td\")[0].innerText;\r\n    for (let i = 0; i < this.value.length; i++) {\r\n      if(this.value[i].MetadataID==metadataID){\r\n        this.value.splice(i,1);\r\n        break;\r\n      }\r\n      // if (this.value[i].id == metadataId) {\r\n      //   this.value.splice(i, 1);\r\n      //   break;\r\n      // }\r\n    }\r\n    console.log(this.value);\r\n  }\r\n  getFlowElement(value){\r\n    return value&&typeof value=='object'?JSON.parse(JSON.parse(value.content).Entity):null;\r\n  }\r\n  getFlowElementId(value){\r\n    return value&&typeof value=='object'?JSON.parse(JSON.parse(value.content).Entity).Id:\"\";\r\n  }\r\n  public test(){\r\n    return \"hello\";\r\n  }\r\n}\r\nexport class PropertyConverter implements TypeConverter {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  convertTo(data: any): string {\r\n    if (!data) {\r\n      return \"\";\r\n    }\r\n    //debugger;\r\n    if(typeof data =='string'){\r\n      if((data as string).startsWith(\"[\")&&(data as string).endsWith(\"]\")){\r\n        let temp:any[]=JSON.parse(data);\r\n        let str=\"\";\r\n        for(let item of JSON.parse(data)){\r\n          str=str+item.ProcessName+\",\";\r\n        }\r\n        return str.length>0?str.substr(0,str.length-1):\"\";\r\n      }\r\n      return data;\r\n    }else if (typeof data == 'object') {\r\n      if(Array.isArray(data)){\r\n        let s=\"\";\r\n        for(let item of data){\r\n          s=s+item.ProcessName+\",\";\r\n        }\r\n        return s.substr(0,s.length-1);\r\n      }\r\n      if (data.typeName == 'AifBeCreationProcess') {\r\n        return data.ProcessName;\r\n      } else if (data.typeName == 'GSPBusinessEntity') {\r\n        return data.BeName;\r\n      } else if(data.typeName == 'AifBeCreationRule'){\r\n        return data.RuleName;\r\n      }\r\n    } \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart-property-selector/property-selector/property-selector.component.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/observable';\r\nimport { HttpService } from '@farris/ide-devkit/services';\r\nimport { MetadataDto } from '@gsp-lcm/metadata-selector';\r\n\r\n@Injectable()\r\nexport class AifBeFlowchartService {\r\n    private baseUrl = '/api/dev/sys/v1.0';\r\n\r\n    constructor(private http: HttpService, ) { }\r\n\r\n    publishFlowchartEntity(metadataDto: MetadataDto, metadataPackageName: string, suName: string): Observable<any> {\r\n        let content: any = {\r\n            \"BpmnModel\": metadataDto.content, //\"{\\\"DefaultDiagram\\\": {\\\"BpmnPlane\\\": {\\\"BpmnElementId\\\": \\\"_V99V6V66\\\", \\\"ClrTypeID\\\": \\\"bpmn.bpmndi.BPMNPlane\\\", \\\"Id\\\": \\\"_V99V6V68\\\", \\\"diagramElements\\\": [{\\\"Bounds\\\": {\\\"Height\\\": 40, \\\"Width\\\": 40, \\\"X\\\": -100, \\\"Y\\\": 50}, \\\"BpmnElementId\\\": \\\"StartEvent_V99V6V69\\\", \\\"ClrTypeID\\\": \\\"bpmn.bpmndi.BPMNShape\\\", \\\"Id\\\": \\\"_V99V6V6A\\\"}, {\\\"Bounds\\\": {\\\"Height\\\": 40, \\\"Width\\\": 40, \\\"X\\\": 0, \\\"Y\\\": 180}, \\\"BpmnElementId\\\": \\\"EndEvent_V99V6V6B\\\", \\\"ClrTypeID\\\": \\\"bpmn.bpmndi.BPMNShape\\\", \\\"Id\\\": \\\"_V99V6V6C\\\"}, {\\\"BpmnElementId\\\": \\\"_V99V6V6D\\\", \\\"ClrTypeID\\\": \\\"bpmn.bpmndi.BPMNEdge\\\", \\\"Id\\\": \\\"_V99V6V6E\\\", \\\"LineType\\\": \\\"PolyLine\\\", \\\"SourceShapeElementId\\\": \\\"StartEvent_V99V6V69\\\", \\\"TargetShapeElementId\\\": \\\"EndEvent_V99V6V6B\\\"}]}, \\\"Id\\\": \\\"_V99V6V67\\\"}, \\\"DefaultProcess\\\": {\\\"ClrTypeID\\\": \\\"bpmn.Process\\\", \\\"Id\\\": \\\"_V99V6V66\\\", \\\"Key\\\": \\\"demo\\\", \\\"flowElements\\\": [{\\\"ClrTypeID\\\": \\\"bpmn.StartEvent\\\", \\\"Id\\\": \\\"StartEvent_V99V6V69\\\", \\\"Name\\\": \\\"开始\\\"}, {\\\"ClrTypeID\\\": \\\"bpmn.EndEvent\\\", \\\"Id\\\": \\\"EndEvent_V99V6V6B\\\", \\\"Name\\\": \\\"结束\\\"}, {\\\"ClrTypeID\\\": \\\"bpmn.SequenceFlow\\\", \\\"Id\\\": \\\"_V99V6V6D\\\", \\\"SourceRef\\\": \\\"StartEvent_V99V6V69\\\", \\\"TargetRef\\\": \\\"EndEvent_V99V6V6B\\\"}]}, \\\"TargetNamespace\\\": \\\"http://www.inspur.com/gsp/aif/bizflowchart\\\"}\",\r\n            \"MetadataId\": metadataDto.id, //\"demoMetadataId\",\r\n            \"MetadataPackageName\": metadataPackageName, //\"demoMetadataPackageName\",\r\n            \"SuName\": suName, //\"demoSuName\"\r\n        }\r\n        let param: any = {\r\n            \"flowchartContent\": content\r\n        }\r\n\r\n        return this.http.post(`${this.baseUrl}/PublishBeFlowchartEntity`, param);\r\n    }\r\n\r\n    unPublishFlowchartEntity(metadataId: string): Observable<any> {\r\n        let param: any = {\r\n            \"parameters\": metadataId\r\n        }\r\n\r\n        const url = ` ${this.baseUrl}/UnPublishBeFlowchartEntity`;\r\n        return this.http.post(url, param);\r\n    }\r\n\r\n    findPublishedBeFlowchartEntities(key: string): Observable<any> {\r\n        return this.http.get(`${this.baseUrl}/BeFlowchartEntities/${key}`);\r\n    }\r\n\r\n    isBeFlowchartPublished(metadataId: string): Observable<any> {\r\n        const url = ` ${this.baseUrl}/BeFlowchartEntities/IsPublished(metadataId='${metadataId}')`;\r\n        return this.http.get(url);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart.service.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n    -webkit-box-flex: 1;\\r\\n        -ms-flex: 1;\\r\\n            flex: 1;\\r\\n}\\r\\n\\r\\n#bemain * {\\r\\n    padding: 0 !important;\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n}\\r\\n\\r\\n.bpmn-designer{\\r\\n    height: 100%;\\r\\n    min-height: 400px;\\r\\n    /* height: -webkit-fill-available;  */\\r\\n    /* min-width: 550px; */\\r\\n    width: 100%;\\r\\n    /* width: -webkit-fill-available; */\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.css\n// module id = ./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.css\n// module chunks = aif-be-flowchart-package.module","module.exports = \"<div class=\\\"d-flex flex-column\\\" style=\\\"flex:1 1 auto;\\\">\\r\\n  <!-- <div>\\r\\n    <input type=\\\"text\\\" onblur=\\\"alert(1111);return false;\\\">\\r\\n  </div> -->\\r\\n  <div id=\\\"bpmnmain\\\" class=\\\"d-flex flex-column\\\" style=\\\" flex: 1 1 auto; display:flex!important;flex-direction: row!important\\\">\\r\\n    <kendo-splitter-pane [collapsible]=\\\"false\\\" size=\\\"100%\\\">\\r\\n      <!-- <iframe #iframe class=\\\"bpmn-designer\\\" src=\\\"http://localhost:53266/index.html\\\" frameborder=\\\"0\\\"> -->\\r\\n      <!-- <iframe #iframe class=\\\"bpmn-designer\\\" src=\\\"http://localhost:10202/wwwroot/index.html\\\" (beforeunload)=\\\"beforeunload($event)\\\" onreadystatechange=\\\"alert('test')\\\" frameborder=\\\"0\\\" (load)=\\\"sendMetadataMessage(this)\\\" (readystatechange)=\\\"sendMetadataMessage(this)\\\"> -->\\r\\n        <!-- <iframe #iframe class=\\\"bpmn-designer\\\" [src]=\\\"getTarget()|safe\\\" frameborder=\\\"0\\\" (load)=\\\"sendMetadataMessage(this)\\\" (readystatechange)=\\\"sendMetadataMessage(this)\\\">       -->\\r\\n        <iframe #iframe class=\\\"bpmn-designer\\\" src=\\\"./assets/bpmneditor/index.html\\\" frameborder=\\\"0\\\" (load)=\\\"sendMetadataMessage(this)\\\" (readystatechange)=\\\"sendMetadataMessage(this)\\\">\\r\\n\\r\\n      </iframe>\\r\\n    </kendo-splitter-pane>\\r\\n    <kendo-splitter-pane [collapsible]=\\\"true\\\">\\r\\n      <app-property-panel #propertyPanel [(propertyConfig)]=\\\"propertyConfig\\\" [(propertyData)]=\\\"propertyData\\\" [width]=\\\"200\\\"\\r\\n        [showCloseBtn]=\\\"false\\\" (propertyChanged)=\\\"test($event)\\\"></app-property-panel>\\r\\n    </kendo-splitter-pane>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.html\n// module id = ./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.html\n// module chunks = aif-be-flowchart-package.module","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ViewContainerRef, ElementRef, ViewRef, AfterViewInit, AfterContentInit, AfterViewChecked, OnDestroy, DoCheck, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { Headers, RequestOptions, Http } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\nimport { MetadataDto, GSPMetadataService, SelectMetadataComponent } from '@gsp-lcm/metadata-selector';\r\nimport { host } from '../commonobject/global';\r\nimport { ElementPropertyConfig, PropertyEntity, PropertyPanelComponent, BsModalService } from '@farris/ide-devkit';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { PropertyConverter, PropertySelectorComponent } from '../aif-be-flowchart-property-selector/property-selector/property-selector.component';\r\nimport { MetadataService } from '@gsp-lcm/metadata-selector/metadata/metadata-select/metadata.service';\r\nimport { AifBeFlowchartService } from '../aif-be-flowchart.service';\r\n\r\n//export const POST_MESSAGE_TARGET=\"http://localhost:53266/index.html\";\r\n//export const POST_MESSAGE_SOURCE=\"http://localhost:5000/platform/dev/main/web/webide/index.html\";\r\n// export const POST_MESSAGE_TARGET = \"http://localhost:10202/wwwroot/index.html\";\r\n// export const POST_MESSAGE_SOURCE = \"http://localhost:42000/\";\r\nexport const POST_MESSAGE_SOURCE = window.document.location.href;\r\nexport const POST_MESSAGE_TARGET = window.document.location.href;\r\n// export const POST_MESSAGE_TARGET = window.document.location.href.substring(0, window.document.location.href.search(\"webide\")+6) + \"/bpmneditor/index.html\";\r\n\r\n@Component({\r\n  selector: 'app-aif-be-flowchart-designer',\r\n  templateUrl: './aif-be-flowchart-designer.component.html',\r\n  styleUrls: ['./aif-be-flowchart-designer.component.css'],\r\n  providers: [AifBeFlowchartService]\r\n})\r\nexport class AifBeFlowchartDesignerComponent implements OnInit, AfterViewInit, AfterContentInit, AfterViewChecked, OnDestroy {\r\n\r\n  // @ViewChild('propertyPanel', { read: ViewContainerRef })\r\n  // propertyContainer: ViewContainerRef;\r\n  @ViewChild('propertyPanel')\r\n  propertyPanel: PropertyPanelComponent;\r\n\r\n  @ViewChild(\"iframe\")\r\n  iframe: ElementRef;\r\n\r\n  propertyConfig: ElementPropertyConfig[] = [];\r\n\r\n  propertyData = {};\r\n\r\n  metadataDto: MetadataDto;\r\n  private _metadataContent: string;\r\n\r\n  set metadataContent(metadataContent: any) {\r\n    this._metadataContent = metadataContent;\r\n    this.loadMetadata(metadataContent);\r\n  }\r\n\r\n  model: string;\r\n  title = 'app';\r\n  private _metadataContnet: MetadataDto;\r\n  private _metadataUri: string;\r\n  public resourceTypeList: string[] = []; //资源类型列表\r\n  set metadataUri(metadataUri: string) {\r\n    this._metadataUri = metadataUri;\r\n    // todo: 通过元数据服务获取元数据内容\r\n    ///////\r\n\r\n    let fullname: string = this._metadataUri.substring(this._metadataUri.lastIndexOf('/') + 1);\r\n    let path: string = this._metadataUri.substring(1, this._metadataUri.lastIndexOf('/'));\r\n    this.lcmService.LoadMetadata(fullname, path).subscribe(data => {\r\n      this.metadataDto = data;\r\n      this.loadMetadata(this.metadataDto);\r\n    }, error => {\r\n      alert(\"加载元数据失败\");\r\n    });\r\n  }\r\n  get metadataUri(): string {\r\n    return this._metadataUri;\r\n  }\r\n\r\n  myParentPageMessageFunct: any;\r\n  changed: boolean = false;\r\n\r\n  constructor(\r\n    public lcmService: GSPMetadataService,\r\n    public cache: CacheService,\r\n    private sanitizer: DomSanitizer,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private metadataService: MetadataService,\r\n    private aifBeFlowchartService: AifBeFlowchartService\r\n  ) {\r\n    console.log(\"构造函数....\");\r\n    this.addMessageListener();\r\n    // console.log(this.iframe);\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log(\"ngOnInit\");\r\n    this.initPropertyPanel();\r\n\r\n    // console.log(this.iframe);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    console.log(\"ngAfterViewInit\");\r\n\r\n    //this.addMessageListener();\r\n    //console.log(this.iframe.nativeElement.contentWindow==window);\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    console.log(\"ngAfterContentInit\");\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    // console.log(\"ngAfterViewChecked\");\r\n  }\r\n  ngOnDestroy(): void {\r\n    console.log(\"ngOnDestroy\");\r\n    //confirm(\"确定要离开页面？\");\r\n    // console.log(window['myParentPageMessageFunct']);\r\n\r\n  }\r\n  //iframe加载完成后向grapheditor发送消息\r\n  public sendMetadataMessage(obj: any) {\r\n\r\n    // console.log(\"添加iframe监听器测试\");\r\n    // console.log(this.iframe);\r\n    // this.iframe.nativeElement.onclose=function(){\r\n    //   console.log(1111);\r\n    //   return \"1111\";\r\n    // };\r\n    // this.iframe.nativeElement.contentDocument.onclose=function(){\r\n    //   console.log(2222);\r\n    //   return \"2222\";\r\n    // };\r\n    // console.log(this.iframe);\r\n    // console.log(\"添加结束\");\r\n\r\n    if (obj.readyState) {\r\n      console.log(\"ie 浏览器，支持onreadystatechange事件\");\r\n      if (obj.readyState === \"complete\" || obj.readyState === \"loaded\") {\r\n        //代码能执行到这里说明已经载入成功完毕了\r\n        this.sendOpenMetadataMessage();\r\n      }\r\n      //要清除掉事件\r\n      console.log(\"清除事件\");\r\n      obj.detachEvent(\"onreadystatechange\", arguments.callee);\r\n    } else {\r\n      console.log(\"支持onload事件\");\r\n      this.sendOpenMetadataMessage();\r\n      // console.log(\"清除事件\");\r\n      // (obj as HTMLElement).removeEventListener(\"onload\",this.sendMetadataMessage);\r\n    }\r\n  }\r\n\r\n  private sendOpenMetadataMessage() {\r\n    setTimeout(() => {\r\n      console.log(\"延时器\");\r\n      const iframeWindow = this.iframe.nativeElement.contentWindow;\r\n      iframeWindow.postMessage(\"#open#\" + this._metadataContent, POST_MESSAGE_TARGET);\r\n      console.log(\"打开元数据消息已发送.....\");\r\n    }, 1000);\r\n  }\r\n\r\n  public beforeunload(obj: any) {\r\n    //alert(obj);\r\n  }\r\n\r\n  public unload(obj: any) {\r\n    //alert(\"unload\");\r\n  }\r\n\r\n  public beforedeactivate() {\r\n    //alert(\"beforedeactivate\");\r\n  }\r\n\r\n  public test($event): void {\r\n    console.log($event);\r\n  }\r\n\r\n  public getTarget(): string {\r\n    console.log(POST_MESSAGE_TARGET);\r\n    return POST_MESSAGE_TARGET;\r\n  }\r\n  public initPropertyPanel() {\r\n    console.log(\"初始化父页面\" + this._metadataUri + \"属性框容器\");\r\n\r\n    // this.propertyContainer.remove();\r\n    this.propertyData = {};\r\n    this.propertyConfig = [];\r\n    // this.propertyPanel.collapse();\r\n    this.propertyPanel.width = 60;\r\n    this.propertyPanel.showCloseBtn = false;\r\n    // this.propertyPanel.expand();\r\n    //this.propertyPanel.propertyValueChanged(this.propertyData);\r\n    this.propertyPanel.propertyChanged.subscribe(data => this.propertyDataChanged(data));\r\n    // this.propertyService.initPropertyContainer(this.propertyContainer);\r\n  }\r\n\r\n  private propertyDataChanged(data) {\r\n    //console.log(JSON.stringify(data));\r\n    //debugger;\r\n    if (typeof (data.propertyValue) == 'string') {\r\n      // if(data.propertyValue==='empty'){\r\n      //   (this.propertyData[data.propertyID] as string)=\"\";\r\n      //   data.propertyValue=\"\";\r\n      // }\r\n      this.propertyData[data.propertyID] = data.propertyValue;\r\n      this.sendMessage(this.createMessage(data));\r\n    } else if (typeof (data.propertyValue) == 'object') {\r\n      if (Array.isArray(data.propertyValue)) {\r\n        let str = \"\";\r\n        for (let item of data.propertyValue) {\r\n          str = str + item + \",\";\r\n        }\r\n        str = str.length > 0 ? str.substr(0, str.length - 1) : \"\";\r\n        data.propertyValue = str;\r\n        this.propertyData[data.propertyID] = str;\r\n        this.sendMessage(this.createMessage(data));\r\n      } else {\r\n        for (let i in data.propertyValue) {\r\n          if (i == 'typeName') {\r\n            continue;\r\n          }\r\n          // this.propertyData[i]=data.propertyValue[i];\r\n          this.sendMessage(this.createMessage({\r\n            propertyID: i,\r\n            propertyValue: data.propertyValue[i]\r\n          }));\r\n        }\r\n      }\r\n    }\r\n    \r\n  }\r\n  //添加消息监听器，实现webide与grapheditor交互\r\n  public addMessageListener() {\r\n    if (window.addEventListener != undefined) {\r\n      if (window['myParentPageMessageFunct']) {\r\n        // console.log(\"不删除父页面已有监听器\");\r\n        console.log(\"删除父页面\" + this._metadataUri + \"已有消息监听器\");\r\n        window.removeEventListener(\"message\", window['myParentPageMessageFunct'], false);\r\n      }\r\n      console.log(\"为父页面\" + this._metadataUri + \"添加新的消息监听器\");\r\n      let funct = (event) => {\r\n        console.log(\"父页面\" + this._metadataUri + \"收到\" + event.origin + \"消息......\");\r\n        console.log(event.data);\r\n        //判断消息是否来自于指定源地址\r\n        if (POST_MESSAGE_TARGET.search(event.origin) != -1) {\r\n\r\n          if (typeof event.data == 'string') {\r\n            let message: string = event.data;\r\n            //保存元数据，消息字符串以#save#开头作为命令标识\r\n            if (message.startsWith('#save#')) {\r\n              console.log(\"文件保存操作\");\r\n              let content: string = (event.data as string).substr(6);\r\n              this._metadataContent = content;\r\n              this.metadataDto.content = content;\r\n              this.saveMetadata();\r\n              \r\n              this.changed=false;\r\n            } else if (message.startsWith('#show#')) {\r\n              //显示属性框，消息字符串以#show#开头作为命令标识\r\n              console.log(\"属性框更新操作\");\r\n              //更新属性框\r\n              this.setPropertyConfig(JSON.parse(message.substr(6)));\r\n              this.changed = true;\r\n            } else if (message.startsWith('#publish#')) {\r\n              //发布元数据，消息字符串以#publish#开头作为命令标识\r\n              console.log(\"元数据发布操作\");\r\n              let content: string = (event.data as string).substr(9);\r\n              this._metadataContent = content;\r\n              this.metadataDto.content = content;\r\n              //发布元数据\r\n              this.publishMetadata();\r\n\r\n              this.changed=false;\r\n            } else if (message.startsWith('#unpublish#')) {\r\n              //发布元数据，消息字符串以#unpublish#开头作为命令标识\r\n              console.log(\"元数据撤销发布操作\");\r\n              let content: string = (event.data as string).substr(11);\r\n              this._metadataContent = content;\r\n              this.metadataDto.content = content;\r\n              //撤销发布元数据\r\n              this.unpublishMetadata();\r\n\r\n              this.changed=true;\r\n            }\r\n          } else {\r\n            console.log(\"未能识别的消息命令\");\r\n          }\r\n        }\r\n      };\r\n      window['myParentPageMessageFunct'] = funct;\r\n      this.myParentPageMessageFunct = funct;\r\n      window.addEventListener('message', funct, false);\r\n    } else {\r\n\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * 父子页面规定好传输json数据格式\r\n   * 示例:\r\n   * {\r\n   *      propertyConfig:[\r\n   *          usualPropertyConfig,\r\n   *          customPropertyConfig\r\n   *      ],\r\n   *      \r\n   *      propertyData:{\r\n   *          k1:v1,\r\n   *          k2:v2,\r\n   *          ...\r\n   *      }\r\n   * }\r\n   *\r\n   * @param obj \r\n   */\r\n  setPropertyConfig(obj: object) {\r\n    //更新属性框数据与配置\r\n    this.propertyData = obj['propertyData'];\r\n    this.propertyConfig = this.convertToPropertyConfig(obj['propertyConfig']);\r\n    if(this.propertyData.hasOwnProperty(\"Key\")){\r\n      console.log(\"check whether published\");\r\n      this.setProcessKeyReadonly();\r\n    }\r\n    // this.propertyPanel.propertyValueChanged(this.propertyData);\r\n    // \r\n    this.showPropertiesPanel();\r\n  }\r\n\r\n  //将obj['propertyConfig']转化为ElementPropertyConfig[]\r\n  private convertToPropertyConfig(obj: object[]): ElementPropertyConfig[] {\r\n    let propertyConfig: ElementPropertyConfig[] = [];\r\n    for (let element of obj) {\r\n      let elementPropertyConfig = new ElementPropertyConfig();\r\n      elementPropertyConfig.categoryId = element['categoryId'];\r\n      elementPropertyConfig.categoryName = element['categoryName'];\r\n      elementPropertyConfig.setPropertyRelates = element['setPropertyRelates'] != undefined ? element['setPropertyRelates'] : undefined;\r\n      elementPropertyConfig.properties = element['properties'] ? this.convertToPropertyEntity(element['properties']) : [];\r\n      propertyConfig.push(elementPropertyConfig);\r\n    }\r\n    // obj.forEach(element => {\r\n\r\n    // });\r\n    return propertyConfig;\r\n  }\r\n  //将element['properties']转化为PropertyEntity[]\r\n  private convertToPropertyEntity(obj: object[]): PropertyEntity[] {\r\n    let properties: PropertyEntity[] = [];\r\n    for (let item of obj) {\r\n      let property = new PropertyEntity();\r\n      for (let i in item) {\r\n        property[i] = item[i];\r\n      }\r\n      if (property.propertyType == \"modal\") {\r\n\r\n        // property.propertyType = \"string\";\r\n        property.editor = PropertySelectorComponent;\r\n        property.converter = new PropertyConverter();\r\n        property.editorParams = {\r\n          metadataPath: this.metadataDto.relativePath,\r\n          metadataId: this.propertyData['RuleMetadataID'] || this.propertyData['ProcessMetadataID'],\r\n          typeName: this.judgeTypeName(property.propertyID),\r\n          actualValue: this.propertyData[property.propertyID],\r\n          propertyID: property.propertyID,\r\n          propertyData: this.propertyData,\r\n        };\r\n        if (property.propertyID === 'BeType') {\r\n          property.editorParams['BeMetadataPackageName'] = this.propertyData['BeMetadataPackageName'];\r\n          property.editorParams['BeMetadataID'] = this.propertyData['BeMetadataID'];\r\n        }\r\n      }\r\n      properties.push(property);\r\n    }\r\n    // obj.forEach((item) => {\r\n\r\n    // });\r\n\r\n    return properties;\r\n  }\r\n\r\n  //创建并显示属性框\r\n  private showPropertiesPanel(): boolean {\r\n    // this.propertyPanel.expand();\r\n    return false; // 防止冒泡\r\n  }\r\n  //构造属性修改时父页面与子页面之间传递消息\r\n  private createMessage(data: object): string {\r\n    let msg: object = {};\r\n    //需携带唯一id使子页面确定是哪一元素\r\n    msg['id'] = this.propertyData['id'];\r\n    //修改内容的key和value\r\n    msg['propertyID'] = data['propertyID'];\r\n    msg['propertyValue'] = data['propertyValue'];\r\n    return JSON.stringify(msg);\r\n  }\r\n  //向子页面发送修改消息\r\n  public sendMessage(data: string): void {\r\n    const iframeWindow = this.iframe.nativeElement.contentWindow;\r\n    iframeWindow.postMessage(data, POST_MESSAGE_TARGET);\r\n    this.changed = true;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param dto 加载元数据\r\n   */\r\n  private loadMetadata(dto: MetadataDto) {\r\n    this.metadataDto = dto;\r\n    if (this.metadataDto.content && this.metadataDto.content != \"\") {\r\n      this._metadataContent = dto.content;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 保存元数据\r\n   */\r\n  saveMetadata() {\r\n    this.saveMetadataService().subscribe(() => {\r\n      alert(\"保存成功\");\r\n      this.changed = false;\r\n    },error=>{\r\n      alert(\"保存失败!\\n\");\r\n    });\r\n  }\r\n\r\n  saveMetadataService(): Observable<any> {\r\n    return this.lcmService.SaveMetadata(this.metadataDto, this.cache.get(\"sessionId\"));\r\n  }\r\n\r\n  publishMetadata(): void {\r\n    this.saveMetadataService().subscribe(()=>{\r\n      this.lcmService.GetProjectInfo(this.metadataDto.relativePath).subscribe(projectInfo => {\r\n        this.lcmService.GetGspProjInfo(projectInfo.projectPath).subscribe(gspProjctInfo => {\r\n          this.aifBeFlowchartService.publishFlowchartEntity(this.metadataDto, projectInfo.metadataPackageInfo.name, gspProjctInfo.serviceUnitCode).subscribe(\r\n            () => {\r\n              alert(\"发布成功\");\r\n              this.updateProcessKeyReadonly(true);\r\n            }, error => {\r\n              alert(\"发布失败!\\n\"+error.error.Message);\r\n              this.updateProcessKeyReadonly(false);\r\n            }\r\n          );\r\n        });\r\n      });\r\n    },error=>{\r\n      alert(\"发布失败!\\n\");\r\n    });\r\n\r\n  }\r\n  unpublishMetadata(): void {\r\n    // this.lcmService.GetProjectInfo(this.metadataDto.relativePath).subscribe(projectInfo => {\r\n    // this.lcmService.GetGspProjInfo(projectInfo.projectPath).subscribe(gspProjctInfo => {\r\n    this.aifBeFlowchartService.unPublishFlowchartEntity(this.metadataDto.id).subscribe(\r\n      () => {\r\n        alert(\"撤销发布成功\");\r\n        this.updateProcessKeyReadonly(false);\r\n      }, error => {\r\n        this.updateProcessKeyReadonly(true);\r\n        let errorString: string = error.error ? error.error.Message : error.statusText;\r\n        alert(\"撤销发布失败。\\n\" + errorString);\r\n        \r\n      }\r\n    );\r\n    // });\r\n    // });\r\n  }\r\n\r\n  judgeTypeName(propertyID: string): string {\r\n    switch (propertyID) {\r\n      case \"CreationProcessId\":\r\n      case \"ProcessName\":\r\n      case \"ProcessMetadataID\":\r\n        return \"AifBeCreationProcess\";\r\n      case \"CreationRuleId\":\r\n      case \"RuleName\":\r\n      case \"RuleMetadataID\":\r\n        return \"AifBeCreationRule\";\r\n      case \"BeType\":\r\n      case \"BeName\":\r\n        return \"GSPBusinessEntity\";\r\n      case \"extensionElements\":\r\n        return \"AifBeWritebackProcess\";\r\n      default:\r\n        return \"\";\r\n    }\r\n  }\r\n\r\n  setProcessKeyReadonly(){\r\n    this.aifBeFlowchartService.isBeFlowchartPublished(this.metadataDto.id).subscribe((data)=>{\r\n      if(data.value==false){\r\n        this.updateProcessKeyReadonly(false);\r\n      }else{\r\n        this.updateProcessKeyReadonly(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  updateProcessKeyReadonly(newValue:boolean){\r\n    this.propertyConfig.forEach((config)=>{\r\n      if(config.categoryId===\"property\"){\r\n        config.properties.forEach((entity)=>{\r\n          if(entity.propertyID===\"Key\"){\r\n            entity.readonly=newValue;\r\n            return;\r\n          }\r\n        });\r\n        return;\r\n      }\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/views/aif-be-flowchart/aif-be-flowchart-designer.component.ts","import { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { PackageView } from '@farris/ide-devkit';\r\nimport { AifBeFlowchartDesignerComponent } from './aif-be-flowchart/aif-be-flowchart-designer.component';\r\n\r\nexport class AifBeFlowchartPackageView extends PackageView {\r\n\r\n  constructor(serializedState: any,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector){\r\n    super(serializedState);\r\n    const componentFactory = this.cfr.resolveComponentFactory(AifBeFlowchartDesignerComponent);\r\n    this.element = componentFactory.create(this.injector);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-flowchart/views/index.ts"],"sourceRoot":"webpack:///"}