{"version":3,"sources":["./src/packages/help-metadata/help-metadata.module.js","./src/packages/help-metadata/package.ts","./src/packages/help-metadata/service/helpmetadata.service.ts","./src/packages/help-metadata/types/help-metadata.defaultvalue.ts","./src/packages/help-metadata/views/designer/help-metadata-designer.component.ts","./src/packages/help-metadata/views/guide/css/css.css","./src/packages/help-metadata/views/guide/css/step4.css","./src/packages/help-metadata/views/guide/custom-lookup.component.ts","./src/packages/help-metadata/views/guide/help-meatadata-guid.component.ts","./src/packages/help-metadata/views/guide/setps/step1.selectDisplayType.component.ts","./src/packages/help-metadata/views/guide/setps/step2.selectDataSource.component.ts","./src/packages/help-metadata/views/guide/setps/step3.basicInfoSetting.component.ts","./src/packages/help-metadata/views/guide/setps/step4.displayColumns.component.ts","./src/packages/help-metadata/views/guide/step.ts","./src/packages/help-metadata/views/help-metadata-desginer.packageview.ts","./src/packages/help-metadata/views/help-metadata-guide.packageview.ts","./src/packages/help-metadata/views/index.ts"],"names":[],"mappings":"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","file":"help-metadata.module.chunk.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n/*\r\n * @Author: Lucas.Huang（疯狂秀才）\r\n * @Date: 2018-09-28 18:58:11\r\n * @Last Modified by: Lucas.Huang（疯狂秀才）\r\n * @Last Modified time: 2018-10-01 10:58:21\r\n */\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { PackageModule, AngularMonacoEditorModule, WizardModule, PropertyPanelModule } from '@farris/ide-devkit';\r\n// import {  } from '@farris/ide-devkit/components/wizard';\r\nimport { HelpDesignerPackage } from './package';\r\nimport { HelpMetadataGuidComponent } from './views/guide/help-meatadata-guid.component';\r\nimport { SelectDisplayTypeComponent } from './views/guide/setps/step1.selectDisplayType.component';\r\nimport { DisplayColumnsComponent } from './views/guide/setps/step4.displayColumns.component';\r\nimport { BasicInfoSettingComponent } from './views/guide/setps/step3.basicInfoSetting.component';\r\nimport { SelectDataSourceComponent } from './views/guide/setps/step2.selectDataSource.component';\r\nimport { LookupModule, PerfectScrollbarModule, MessagerModule, LoadingModule, NotifyModule, TreeTableModule } from '@farris/ui';\r\nimport { CustomLookupComponent } from './views/guide/custom-lookup.component';\r\nimport { GSPMetadataServiceModule, MetadataSelectModule } from '@gsp-lcm/metadata-selector';\r\nimport { environment } from '../../environments/environment';\r\nimport { HelpMetaDataService } from './service/helpmetadata.service';\r\nimport { HelpMetadataDesignerComponent } from './views/designer/help-metadata-designer.component';\r\nvar monacoConfig = {\r\n    baseUrl: './assets',\r\n    defaultOptions: { scrollBeyondLastLine: false },\r\n    onMonacoLoad: function () { }\r\n};\r\nvar HelpMetadataModule = (function (_super) {\r\n    __extends(HelpMetadataModule, _super);\r\n    function HelpMetadataModule(cfr, inject) {\r\n        var _this = _super.call(this) || this;\r\n        _this.cfr = cfr;\r\n        _this.inject = inject;\r\n        return _this;\r\n    }\r\n    HelpMetadataModule.prototype.initPackage = function (gsp) {\r\n        this.package = new HelpDesignerPackage(gsp, this.cfr, this.inject);\r\n    };\r\n    HelpMetadataModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                CommonModule,\r\n                FormsModule,\r\n                WizardModule,\r\n                LookupModule.forRoot(),\r\n                GSPMetadataServiceModule.forRoot(environment.SERVER_IP),\r\n                MetadataSelectModule,\r\n                PerfectScrollbarModule,\r\n                MessagerModule.forRoot(),\r\n                LoadingModule.forRoot({\r\n                    message: 'Loading...'\r\n                }),\r\n                AngularMonacoEditorModule.forRoot(monacoConfig),\r\n                NotifyModule.forRoot(),\r\n                TreeTableModule,\r\n                PropertyPanelModule\r\n            ],\r\n            declarations: [\r\n                HelpMetadataGuidComponent,\r\n                SelectDisplayTypeComponent,\r\n                SelectDataSourceComponent,\r\n                BasicInfoSettingComponent,\r\n                DisplayColumnsComponent,\r\n                CustomLookupComponent,\r\n                HelpMetadataDesignerComponent\r\n            ],\r\n            entryComponents: [\r\n                HelpMetadataGuidComponent,\r\n                SelectDisplayTypeComponent,\r\n                SelectDataSourceComponent,\r\n                BasicInfoSettingComponent,\r\n                DisplayColumnsComponent,\r\n                CustomLookupComponent,\r\n                HelpMetadataDesignerComponent\r\n            ],\r\n            exports: [],\r\n            providers: [HelpMetaDataService]\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ComponentFactoryResolver, Injector])\r\n    ], HelpMetadataModule);\r\n    return HelpMetadataModule;\r\n}(PackageModule));\r\nexport { HelpMetadataModule };\r\n//# sourceMappingURL=help-metadata.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/help-metadata/help-metadata.module.js\n// module id = ./src/packages/help-metadata/help-metadata.module.js\n// module chunks = help-metadata.module","import { helpMeatadataDefault } from './types/help-metadata.defaultvalue';\r\nimport { Package, GSP } from '@farris/ide-devkit';\r\nimport {\r\n    ComponentFactoryResolver,\r\n    Injector,\r\n    ComponentRef\r\n} from '@angular/core';\r\nimport { HelpMetadataGuidComponent } from './views/guide/help-meatadata-guid.component';\r\nimport { HelpMetadataDesignerPackageView, HelpMetadataGuidePackageView } from './views';\r\nimport { HelpMetadataDesignerComponent } from './views/designer/help-metadata-designer.component';\r\n\r\nexport class HelpDesignerPackage extends Package {\r\n    constructor(\r\n        gsp: GSP,\r\n        private cfr: ComponentFactoryResolver,\r\n        private injector: Injector\r\n    ) {\r\n        super(gsp);\r\n    }\r\n\r\n    activate(state) {\r\n        this.gsp.workspace.addOpener((uri: string) => this.openHelpDesigner(uri));\r\n        this.gsp.eventBus.on(\r\n            null,\r\n            null,\r\n            'Command:openMetadataGuide:HelpMetadata',\r\n            this,\r\n            data => this.openHelpGuid(state, data)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 打开帮助设计器向导\r\n     * @param state\r\n     * @param data\r\n     */\r\n    openHelpGuid(state, data) {\r\n        const packageView1 = new HelpMetadataGuidePackageView(\r\n            state,\r\n            this.cfr,\r\n            this.injector\r\n        );\r\n        const element1 = packageView1.getElement();\r\n        const guide = element1.instance as HelpMetadataGuidComponent;\r\n\r\n        guide.metadata.metadata = data;\r\n        guide.metadata.beMetadata = {};\r\n        guide.metadata.helpMetadata = Object.assign( {}, helpMeatadataDefault, {\r\n            code: data.code,\r\n            name: data.name\r\n        });\r\n\r\n        this.showGuidDialog(element1);\r\n    }\r\n\r\n    showGuidDialog(el: ComponentRef<any>) {\r\n        const dialog = this.gsp.workspace.addModalPanel({\r\n            item: {\r\n                element: el,\r\n                modalOptions: {\r\n                    title: '帮助定义向导',\r\n                    width: 800,\r\n                    height: 700,\r\n                    showButtons: false,\r\n                    resizable: false,\r\n                    enableScroll: false,\r\n                    showMaxButton: false\r\n                }\r\n            }\r\n        });\r\n\r\n        const comp = el.instance as HelpMetadataGuidComponent;\r\n        comp.modalClosed.subscribe(() => dialog.destroy());\r\n        comp.finished.subscribe((url: string) => {\r\n            this.refreshTree(url);\r\n        });\r\n    }\r\n\r\n    refreshTree(url) {\r\n        const nodeInfo = {\r\n            action: '1',               // 新增节点（仅支持选中已有节点后新增节点）\r\n            node: {\r\n              nodeID: '1',             // 节点id,非空（暂时可使用静态值）\r\n              nodeName: url.substr(url.lastIndexOf('/') + 1),      // 节点名称 xx.hlp\r\n              nodeType: 'file',        // 节点类型\r\n              nodePath:  url           // 节点路径    /bo-\r\n              // customData: 'foo1'    // 自定义数据，支持增加并使用自定义数据\r\n            }\r\n          };\r\n          this.gsp.eventBus.requestFor('FileTreePanelPackage', null, 'AccessFileTree', nodeInfo,\r\n                                                            (responseData) => this.gsp.workspace.open(url));\r\n    }\r\n\r\n    openHelpDesigner(uri: string) {\r\n        if (uri.endsWith('.hlp')) {\r\n            const pkgView = new HelpMetadataDesignerPackageView({}, this.cfr, this.injector);\r\n            const currentElement = pkgView.getElement()\r\n                .instance as HelpMetadataDesignerComponent;\r\n            currentElement.uri = uri;\r\n            // 这里需要处理uri，title应返回元数据名称，\r\n            return {\r\n                getTitle: () => '帮助定义 - ' + uri.slice(uri.lastIndexOf('/') + 1),\r\n                getElement: () => pkgView.getElement()\r\n            };\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/package.ts","/*\r\n* @Author: Lucas.Huang（疯狂秀才）\r\n* @Date: 2018-09-28 09:55:57\r\n * @Last Modified by: Lucas.Huang（疯狂秀才）\r\n * @Last Modified time: 2018-10-10 15:25:37\r\n*/\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { GSPMetadataService } from '@gsp-lcm/metadata-selector';\r\nimport { MetadataDto } from '@gsp-lcm/metadata-selector';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\nimport { GuideData } from './../types/guide.data';\r\nimport { environment } from '../../../environments/environment';\r\nimport { HelpMetadataContent } from '../types/help.metadata';\r\n\r\n@Injectable()\r\nexport class HelpMetaDataService {\r\n    sessionId: string;\r\n    constructor(private cache: CacheService,\r\n        private metadataService: GSPMetadataService,\r\n        private http: HttpClient) {\r\n        this.sessionId = this.cache.get('sessionId');\r\n    }\r\n\r\n    private createMetadata(metadata: MetadataDto, content: any) {\r\n        return this.metadataService.InitializeMetadataEntity(metadata).pipe(\r\n            switchMap((res2: MetadataDto) => {\r\n                console.log(res2);\r\n                if (res2.type === 'HelpMetadata') {\r\n                    content.Id = JSON.parse(res2.content).Id;\r\n                } else {\r\n                    // 将VO id 同步到元数据的ID\r\n                    res2.id = content.ID;\r\n                }\r\n\r\n                res2.content = JSON.stringify(content);\r\n                return this.metadataService.CreateMetadata(res2);\r\n            })\r\n        );\r\n    }\r\n\r\n    createHelpMetadata(guide: GuideData, helpContent: HelpMetadataContent) {\r\n\r\n        return this.parseBeFields2VM(guide.beMetadata, guide.selectedFields, '').pipe(\r\n            switchMap(vmcontent => {\r\n                console.log('vm-content:', vmcontent);\r\n                const vmMetadata = Object.assign({}, guide.metadata );\r\n                const vmcode = guide.metadata.fileName;\r\n                vmMetadata.fileName = vmcode.replace('.', '_') + '.vm';\r\n                vmMetadata.code = vmMetadata.code + '_hlp';\r\n                vmMetadata.name =  vmMetadata.name + '_ViewModel' ;\r\n                vmMetadata.type = 'GSPViewModel';\r\n\r\n                vmcontent.Code = vmMetadata.code;\r\n                vmcontent.Name = vmMetadata.name;\r\n\r\n                helpContent.dataSource.uri = `${vmMetadata.relativePath}/${vmMetadata.fileName}`;\r\n                helpContent.dataSource.vmCode = vmcontent.Code;\r\n                // 生成帮助VM\r\n                return this.createMetadata(vmMetadata, vmcontent);\r\n            }),\r\n            switchMap((res) => {\r\n                if (res.statusText === 'OK') {\r\n                    // 保存帮助元数据\r\n                    return this.createMetadata(guide.metadata, helpContent).pipe(\r\n                        switchMap((r: any) => {\r\n                            if (r.statusText === 'OK') {\r\n                                return this.buildHelpVmDll(helpContent.dataSource.uri);\r\n                            }\r\n                        })\r\n                    );\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    save(metadata: MetadataDto) {\r\n        return this.metadataService.SaveMetadata(metadata, this.sessionId).pipe(\r\n            switchMap( (r: any) => {\r\n                if (r.ok) {\r\n                    const uri = JSON.parse(metadata.content).DataSource.Uri;\r\n                    return  this.buildHelpVmDll(uri);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    buildHelpVmDll(vmFullPath: string) {\r\n        const url = environment.SERVER_IP + '/api/dev/main/v1.0/lookup/publish';\r\n\r\n        return this.http.post(url, '\"' + vmFullPath + '\"', {\r\n            headers: new HttpHeaders({ 'Content-Type': 'text/json' })\r\n        });\r\n    }\r\n\r\n     /**\r\n     * 根据选中的BE字段和beActions筛选beMetadata，并调用API转换为VM\r\n     */\r\n    parseBeFields2VM(beMetadata, selectedBeFields, selectedBeActions): Observable<any> {\r\n        if (!beMetadata || !beMetadata.metadata) {\r\n            return;\r\n        }\r\n        const metadataContent = JSON.parse(beMetadata.metadata.content);\r\n\r\n        // 选择的动作列表\r\n        metadataContent.BizMgrActions = selectedBeActions || [];\r\n\r\n        // 选择的字段列表\r\n        metadataContent.MainObject = this.getBeMainObjectByIds(metadataContent.MainObject, selectedBeFields);\r\n\r\n        beMetadata.metadata.content = JSON.stringify(metadataContent);\r\n\r\n        // 调用API 生成VM\r\n        const url = environment.SERVER_IP + '/api/dev/main/v1.0/viewmodel/convertBizEntity';\r\n        const convertBeInfo = {\r\n            bizEntityJson: beMetadata.metadata.content,\r\n            bePkgName: beMetadata.packageHeader.name,\r\n            beId: beMetadata.metadata.id\r\n        };\r\n        return this.http.put(url, convertBeInfo);\r\n\r\n    }\r\n\r\n    /**\r\n     * 根据字段ID筛选元数据主对象\r\n     */\r\n    getBeMainObjectByIds(mainObject, selectedBeFields) {\r\n        const beFields = selectedBeFields.map(field => {\r\n            return field['ID'];\r\n        });\r\n        const primaryFieldID = mainObject.ColumnGenerateID.ElementID;\r\n        if (beFields.indexOf(primaryFieldID) === -1 ) {\r\n            beFields.push(primaryFieldID);\r\n        }\r\n\r\n        const containElements = mainObject.ContainElements;\r\n        // 主表\r\n        for (let i = 0; i < containElements.length; i++) {\r\n            const element = containElements[i];\r\n            if (element.ChildAssociations.length === 0) { // 无关联表\r\n                if (beFields.indexOf(element.ID) < 0) {\r\n                    containElements.splice(i, 1);\r\n                    i--;\r\n                    continue;\r\n                }\r\n            } else { // 有关联表\r\n                element.ChildAssociations.forEach(child => {\r\n                    const refElementCollection = child.RefElementCollection;\r\n                    let isSelected = false;\r\n                    for (let refIndex = 0; refIndex < refElementCollection.length; refIndex++) {\r\n                        const refElement = refElementCollection[refIndex];\r\n                        if (beFields.indexOf(refElement.ID) < 0) {\r\n                            refElementCollection.splice(refIndex, 1);\r\n                            refIndex--;\r\n                        } else {\r\n                            isSelected = true; // 关联表字段选中\r\n                        }\r\n                    }\r\n                    if (!isSelected) {\r\n                        containElements.splice(i, 1);\r\n                        i--;\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n\r\n        // // 子表\r\n        // const containChildObjects = mainObject.ContainChildObjects;\r\n        // for (let i = 0; i < containChildObjects.length; i++) {\r\n        //     let childObject = containChildObjects[i];\r\n        //     childObject = this.getBeMainObjectByIds(childObject, beFields);\r\n        //     if (childObject.ContainElements.length === 0 && childObject.ContainChildObjects.length === 0) {\r\n        //         // 未选中子表字段和子子表字段\r\n        //         containChildObjects.splice(i, 1);\r\n        //         i--;\r\n        //     }\r\n        // }\r\n        return mainObject;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/service/helpmetadata.service.ts","/*\r\n * @Author: Lucas.Huang（疯狂秀才）\r\n * @Date: 2018-09-28 16:08:02\r\n * @Last Modified by: Lucas.Huang（疯狂秀才）\r\n * @Last Modified time: 2018-10-01 10:17:19\r\n */\r\n\r\nimport { HelpMetadataContent } from './help.metadata';\r\n\r\nexport const helpMeatadataDefault: HelpMetadataContent = {\r\n    dataSource: {\r\n        sourceType: 'BE',\r\n        pageInfo: {\r\n            enablePager: true,\r\n            pageSize: 20,\r\n            pageList: [10, 20, 30, 50]\r\n        }\r\n    },\r\n    displayType: 'List'\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/types/help-metadata.defaultvalue.ts","/*\r\n * @Author: Lucas.Huang（疯狂秀才）\r\n * @Date: 2018-09-28 19:46:16\r\n * @Last Modified by: Lucas.Huang（疯狂秀才）\r\n * @Last Modified time: 2018-10-20 11:00:49\r\n */\r\nimport { Component, HostBinding, ViewChild, OnInit } from '@angular/core';\r\nimport { GSPMetadataService, MetadataDto } from '@gsp-lcm/metadata-selector';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\nimport { NotifyService, LoadingService } from '@farris/ui';\r\nimport { AngularMonacoEditorComponent } from '@farris/ide-devkit';\r\nimport { HelpMetaDataService } from '../../service/helpmetadata.service';\r\n\r\n\r\n@Component({\r\n    selector: 'lookup-designer',\r\n    template: `\r\n\r\n        <nav class=\"navbar navbar-expand-lg bg-light\">\r\n            <button type=\"button\" class=\"btn btn-primary\" (click)=\"saveForm()\">Save</button>\r\n        </nav>\r\n\r\n        <div class=\"d-flex flex-fill\" style=\"overflow:hidden\">\r\n            <ng-container *ngIf=\"currentTabIndex === 0\">\r\n\r\n                <div class=\"flex-fill\">\r\n                    <div style=\"background:url(assets/imgs/building.png) no-repeat; height: 200px;\r\n                    background-size: 200px;\r\n                    background-position: center top;\r\n                    opacity: 0.5;\">\r\n                        <h1 style=\"text-align: center; padding-top: 200px; margin-top: 100px;\">正在研发中...</h1>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <app-property-panel [(propertyConfig)]=\"propertyConfig\" [width]=\"300\"\r\n                    [(propertyData)]=\"propertyData\" [showCloseBtn]=\"false\">\r\n                </app-property-panel>\r\n\r\n            </ng-container>\r\n            <ng-container *ngIf=\"currentTabIndex === 1\">\r\n                <angular-monaco-editor #codeEditor class=\"controlMatadataEditor\" style=\"width:100%\"\r\n                    [options]=\"options\"  [(ngModel)]=\"content\"  (onInit)=\"onInitHandler($event)\"></angular-monaco-editor>\r\n            </ng-container>\r\n        </div>\r\n\r\n        <div style=\"background: #f8f9fa; height: 32px; line-height: 32px;\" class=\"d-flex\">\r\n                <div style=\"margin-left: 10px;\" class=\"tab-item\" [class.active]=\"currentTabIndex === 0\"\r\n                        (click)=\" currentTabIndex = 0 \">帮助定义</div>\r\n                <div class=\"tab-item\" [class.active]=\"currentTabIndex === 1\" (click)=\" currentTabIndex = 1 \">元数据代码</div>\r\n        </div>\r\n    `,\r\n    styles: [\r\n        `\r\n        .active {\r\n            background: white;\r\n            color: blue;\r\n            cursor: default;\r\n            border-top: 2px solid blue;\r\n        }\r\n\r\n        .tab-item {\r\n            padding: 0 15px 0 15px;\r\n        }\r\n\r\n        .tab-item:not(.active):hover{\r\n            background: #ededed;\r\n            color: #404040;\r\n            cursor:pointer\r\n        }\r\n\r\n        .controlMatadataEditor {\r\n            height: calc(100vh - 180px);\r\n        }\r\n    `\r\n    ]\r\n\r\n})\r\nexport class HelpMetadataDesignerComponent implements OnInit {\r\n\r\n    @HostBinding('class') cls = 'd-flex flex-fill flex-column';\r\n\r\n    currentTabIndex = 1;\r\n\r\n    @ViewChild('codeEditor') codeEditor: AngularMonacoEditorComponent;\r\n\r\n    editorInstance: any;\r\n\r\n    private _uri: string;\r\n    get uri() {\r\n        return this._uri;\r\n    }\r\n    set uri(val: string) {\r\n        this._uri = val;\r\n        const fileName = val.substr(val.lastIndexOf('/') + 1);\r\n        const path = '/projects' + val.substring(0, val.lastIndexOf('/'));\r\n\r\n        this.getMetadata(fileName, path);\r\n    }\r\n\r\n    public metadataDto: MetadataDto;\r\n    public content;\r\n    private sessionId: string;\r\n    options = {\r\n        theme: 'vs',\r\n        language: 'json',\r\n        minimap: {\r\n            enabled: true  // 小地图\r\n        }\r\n    };\r\n\r\n    constructor(\r\n        private metadataService: GSPMetadataService,\r\n        private cache: CacheService,\r\n        private notify: NotifyService,\r\n        private helpService: HelpMetaDataService,\r\n        private loadingSer: LoadingService\r\n    ) {\r\n        this.sessionId = this.cache.get('sessionId');\r\n    }\r\n\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    /**\r\n     * 获取元数据信息\r\n     */\r\n    getMetadata(fullname?: string, path?: string) {\r\n        this.metadataService.LoadMetadata(fullname, path).subscribe(data => {\r\n            this.metadataDto = data;\r\n            this.content = data.content;\r\n        });\r\n    }\r\n\r\n    /**\r\n   * 保存修改后的控件元数据\r\n   */\r\n    saveForm() {\r\n        this.metadataDto.content = this.content;\r\n        const loading = this.loadingSer.show();\r\n        this.helpService.save(this.metadataDto).subscribe(\r\n            (data: any) => {\r\n                loading.close();\r\n                if (data.success) {\r\n                    this.notify.success('保存成功');\r\n                }\r\n            },\r\n            error => {\r\n                loading.close();\r\n                this.notify.error('保存失败！');\r\n            }\r\n        );\r\n    }\r\n\r\n    onInitHandler(event: any) {\r\n        this.editorInstance = event.editor;\r\n        setTimeout(() => {\r\n            this.editorInstance.getAction('editor.action.formatDocument').run();\r\n        }, 200);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/designer/help-metadata-designer.component.ts","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".display-type {\\r\\n    list-style: none; padding: 0;     margin: 0;\\r\\n }\\r\\n\\r\\n .display-type li {\\r\\n     width: 125px;\\r\\n     height: 125px;\\r\\n     float: left;\\r\\n     margin-left: 20px;\\r\\n     margin-bottom: 20px;\\r\\n     text-align: center;\\r\\n     background-color: #f5f5f5;\\r\\n     border-radius: 10px;\\r\\n    cursor: pointer;\\r\\n }\\r\\n\\r\\n .display-type li.selected {\\r\\n    box-shadow: 0px 0px 20px #000cff;\\r\\n }\\r\\n\\r\\n .display-type li.disabled {\\r\\n    opacity: 0.3;\\r\\n    background-color: #d5d5d5!important;\\r\\n }\\r\\n\\r\\n .display-type li:hover:not(.disabled) {\\r\\n    box-shadow: 0px 0px 20px #000cff;\\r\\n }\\r\\n\\r\\n .display-type-image {\\r\\n    height: 100px;\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAl4AAAB4CAYAAAAjS/yEAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA5LTI1VDEwOjAxOjM2KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA5LTI1VDEwOjAxOjM2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wOS0yNVQxMDowMTozNiswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozMWJiMGQ3NS1jZDE2LTlkNDMtODBiNi1kYmZiYTMxNjNkYmEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4Mjc2ZmUxYy1kNDg2LTRjNDMtODA3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');\\r\\n    background-position: 0 -4px;\\r\\n    background-repeat: no-repeat;\\r\\n }\\r\\n\\r\\n .tree-list {\\r\\n    background-position: -120px -4px;\\r\\n }\\r\\n\\r\\n .double-list {\\r\\n    background-position: -360px -4px;\\r\\n }\\r\\n\\r\\n .left-tree_right-list {\\r\\n    background-position: -240px -4px;\\r\\n }\\r\\n\\r\\n .custom {\\r\\n    background-position: -480px -4px;\\r\\n }\\r\\n\\r\\n .custom-control-label::before {\\r\\n     background-color: #d4e9ff;\\r\\n }\\r\\n\\r\\n :host .container {\\r\\n    height: 100%;\\r\\n    padding: 20px;\\r\\n    padding-top: 40px;\\r\\n }\\r\\n\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/help-metadata/views/guide/css/css.css\n// module id = ./src/packages/help-metadata/views/guide/css/css.css\n// module chunks = help-metadata.module","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\r\\n.icon {\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n    background-size: 26px;\\r\\n    height: 30px;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n.right {\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 16 16%22%3E%3Cstyle%3E.icon-canvas-transparent%7Bopacity%3A0%3Bfill%3A%23f6f6f6%7D.icon-vs-bg%7Bfill%3A%23424242%7D.icon-vs-out%7Bfill%3A%23f6f6f6%7D%3C%2Fstyle%3E%3Cpath class%3D%22icon-canvas-transparent%22 d%3D%22M16 16H0V0h16v16z%22 id%3D%22canvas%22%2F%3E%3Cpath class%3D%22icon-vs-out%22 d%3D%22M6.391 13.694L3.916 11.22 7.135 8 3.916 4.78l2.475-2.475L12.084 8l-5.693 5.694z%22 id%3D%22outline%22%2F%3E%3Cg id%3D%22iconBg%22%3E%3Cpath class%3D%22icon-vs-bg%22 d%3D%22M6.39 12.28l-1.06-1.06L8.549 8 5.33 4.78l1.06-1.06L10.67 8l-4.28 4.28z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\");\\r\\n}\\r\\n.right-all {\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 16 16%22 enable-background%3D%22new 0 0 16 16%22%3E%3Cstyle type%3D%22text%2Fcss%22%3E.icon-canvas-transparent%7Bopacity%3A0%3Bfill%3A%23F6F6F6%3B%7D .icon-vs-out%7Bfill%3A%23F6F6F6%3B%7D .icon-vs-bg%7Bfill%3A%23424242%3B%7D%3C%2Fstyle%3E%3Cpath class%3D%22icon-canvas-transparent%22 d%3D%22M0 0h16v16h-16v-16z%22 id%3D%22canvas%22%2F%3E%3Cpath class%3D%22icon-vs-out%22 d%3D%22M5 7.684l-2.58-2.58 2.121-2.121 2.018 2.017h.34l2.018-2.018 5.017 5.018-5.018 5.018-2.018-2.018h-.34l-2.018 2.018-2.12-2.122 2.58-2.58v-.632z%22 id%3D%22outline%22%2F%3E%3Cpath class%3D%22icon-vs-bg%22 d%3D%22M3.834 10.896l2.896-2.896-2.896-2.897.707-.707 3.604 3.604-3.604 3.604-.707-.708zm5.082.708l3.604-3.604-3.604-3.604-.707.707 2.896 2.897-2.896 2.896.707.708z%22 id%3D%22iconBg%22%2F%3E%3C%2Fsvg%3E\\\");\\r\\n}\\r\\n.left {\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 16 16%22%3E%3Cstyle%3E.icon-canvas-transparent%7Bopacity%3A0%3Bfill%3A%23f6f6f6%7D.icon-vs-bg%7Bfill%3A%23424242%7D.icon-vs-out%7Bfill%3A%23f6f6f6%7D%3C%2Fstyle%3E%3Cpath class%3D%22icon-canvas-transparent%22 d%3D%22M0 0h16v16H0V0z%22 id%3D%22canvas%22%2F%3E%3Cpath class%3D%22icon-vs-out%22 d%3D%22M9.609 2.306l2.475 2.475L8.865 8l3.219 3.22-2.475 2.475L3.916 8l5.693-5.694z%22 id%3D%22outline%22%2F%3E%3Cg id%3D%22iconBg%22%3E%3Cpath class%3D%22icon-vs-bg%22 d%3D%22M9.61 3.72l1.06 1.06L7.451 8l3.22 3.22-1.061 1.06L5.33 8l4.28-4.28z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\");\\r\\n}\\r\\n\\r\\n.left-all{\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 16 16%22 enable-background%3D%22new 0 0 16 16%22%3E%3Cstyle type%3D%22text%2Fcss%22%3E.icon-canvas-transparent%7Bopacity%3A0%3Bfill%3A%23F6F6F6%3B%7D .icon-vs-out%7Bfill%3A%23F6F6F6%3B%7D .icon-vs-bg%7Bfill%3A%23424242%3B%7D%3C%2Fstyle%3E%3Cpath class%3D%22icon-canvas-transparent%22 d%3D%22M16 16h-16v-16h16v16z%22 id%3D%22canvas%22%2F%3E%3Cpath class%3D%22icon-vs-out%22 d%3D%22M11 8.316l2.58 2.58-2.121 2.121-2.018-2.017h-.34l-2.018 2.018-5.017-5.018 5.018-5.018 2.018 2.018h.34l2.018-2.018 2.121 2.121-2.581 2.581v.632z%22 id%3D%22outline%22%2F%3E%3Cpath class%3D%22icon-vs-bg%22 d%3D%22M11.459 11.604l-3.604-3.604 3.604-3.604.707.707-2.896 2.897 2.896 2.897-.707.707zm-3.668-.708l-2.896-2.896 2.897-2.897-.708-.707-3.604 3.604 3.604 3.604.707-.708z%22 id%3D%22iconBg%22%2F%3E%3C%2Fsvg%3E\\\");\\r\\n}\\r\\n\\r\\n.up {\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2216%22 height%3D%2216%22%3E%3Cstyle type%3D%22text%2Fcss%22%3E.icon-canvas-transparent%7Bopacity%3A0%3Bfill%3A%23F6F6F6%3B%7D .icon-vs-out%7Bfill%3A%23F6F6F6%3B%7D .icon-vs-bg%7Bfill%3A%23424242%3B%7D%3C%2Fstyle%3E%3Cpath class%3D%22icon-canvas-transparent%22 d%3D%22M16 16h-16v-16h16v16z%22 id%3D%22canvas%22%2F%3E%3Cpath class%3D%22icon-vs-out%22 d%3D%22M1.586 11l6.414-6.414 6.414 6.414h-12.828z%22 id%3D%22outline%22%2F%3E%3Cpath class%3D%22icon-vs-bg%22 d%3D%22M12 10h-8l4-4 4 4z%22 id%3D%22iconBg%22%2F%3E%3C%2Fsvg%3E\\\");\\r\\n}\\r\\n\\r\\n.down {\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 16 16%22%3E%3Cstyle%3E.icon-canvas-transparent%7Bopacity%3A0%3Bfill%3A%23f6f6f6%7D.icon-vs-out%7Bfill%3A%23f6f6f6%7D.icon-vs-bg%7Bfill%3A%23424242%7D%3C%2Fstyle%3E%3Cpath class%3D%22icon-canvas-transparent%22 d%3D%22M16 16H0V0h16v16z%22 id%3D%22canvas%22%2F%3E%3Cpath class%3D%22icon-vs-out%22 d%3D%22M1.586 5h12.828L8 11.414 1.586 5z%22 id%3D%22outline%22%2F%3E%3Cg id%3D%22iconBg%22%3E%3Cpath class%3D%22icon-vs-bg%22 d%3D%22M8 10L4 6h8l-4 4z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\\\");\\r\\n}\\r\\n\\r\\n.end {\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAgMAAACf9p+rAAAACVBMVEUAAAAzMzMyMjIH2j3VAAAAA3RSTlMA/4CE6rqMAAAAc0lEQVR4Ae3NoQ0CUBAFQXLuCrmSHkFSCk1cvySo0QQB5I9dsZfjDXk54YTPhQ2uhAluhA7uhAoeTtaFxoXahSoutC40LtQuVHGhdaFxoXahigutC40LtQtVXGhdaFyoXajiQutC40LtQuXivyT63XB8iycdcJ0OPAoNRAAAAABJRU5ErkJggg==');\\r\\n}\\r\\n\\r\\n.top {\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAgMAAACf9p+rAAAACVBMVEUAAAAzMzMyMjIH2j3VAAAAA3RSTlMA/4CE6rqMAAAAd0lEQVR4Ae3ToQ2AABAEwQ+OQijpCJJSaIJ+sRNAYYDk154YddV9sMT+NrzRsBXRuBbRtBTRPhdBJCASCYhEAiKRiEiISEREIiISEZE4IxAiEiISIhJXBEJEQkRCREJEQkTiDoEQkRCREJEQkQAxT9NDD8+Gb9YdVAydDo2xY38AAAAASUVORK5CYII=');\\r\\n}\\r\\n\\r\\n:host fieldset { height: 550px; }\\r\\n\\r\\n:host .v-center {\\r\\n    -webkit-box-pack: center;\\r\\n        -ms-flex-pack: center;\\r\\n            justify-content: center;\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n}\\r\\n.columns-box {\\r\\n    height: 510px; padding: 0; border: 1px solid #d0d0d0;\\r\\n }\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/help-metadata/views/guide/css/step4.css\n// module id = ./src/packages/help-metadata/views/guide/css/step4.css\n// module chunks = help-metadata.module","import { LookupComponent, BsModalService, BsModalRef } from '@farris/ui';\r\nimport { Component, Injector, Output, EventEmitter, Input, ElementRef } from '@angular/core';\r\nimport { ModalOptions } from '@farris/ui/container/modal/modal';\r\n\r\n@Component({\r\n    selector: 'custom-lookup',\r\n    template: `\r\n    <div class=\"input-group\">\r\n        <input class=\"form-control\" [value]=\"text\" [disabled]=\"disabled\"/>\r\n        <div class=\"input-group-append\">\r\n            <span class=\"f-select input-group-text\"  (click)=\"showDialog()\">\r\n                <i class=\"f-icon f-icon-lookup\"></i>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    `\r\n})\r\nexport class CustomLookupComponent extends LookupComponent {\r\n\r\n    @Input() text = '';\r\n\r\n    @Output() openDialog = new EventEmitter();\r\n\r\n    constructor(injector: Injector, private modalService: BsModalService, public el: ElementRef) {\r\n        super(injector, el);\r\n    }\r\n\r\n    showDialog() {\r\n        if (!this.disabled) {\r\n            this.openDialog.emit();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/custom-lookup.component.ts","import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { GuideData } from '../../types/guide.data';\r\nimport { Step } from './step';\r\nimport { DisplayColumnsComponent } from './setps/step4.displayColumns.component';\r\nimport { BasicInfoSettingComponent } from './setps/step3.basicInfoSetting.component';\r\nimport { SelectDataSourceComponent } from './setps/step2.selectDataSource.component';\r\nimport { SelectDisplayTypeComponent } from './setps/step1.selectDisplayType.component';\r\nimport { HelpMetaDataService } from '../../service/helpmetadata.service';\r\nimport { LoadingService, NotifyService } from '@farris/ui';\r\n\r\n@Component({\r\n    template: `\r\n\r\n    <app-wizard [steps]=\"steps\" (clickCancelBtn)=\"closeModal()\" (clickFinishBtn)=\"finshGuide()\"></app-wizard>\r\n\r\n    `\r\n})\r\nexport class HelpMetadataGuidComponent {\r\n    _metadata: GuideData = {\r\n    };\r\n    get metadata() {\r\n        return this._metadata;\r\n    }\r\n\r\n    set metadata(data) {\r\n        this._metadata = data;\r\n        if (data.beMetadata.content) {\r\n            this._metadata.beMetadata.content = JSON.parse(data.beMetadata.content);\r\n        }\r\n    }\r\n\r\n    steps: Step[] = [];\r\n\r\n    @Output() modalClosed = new EventEmitter();\r\n    @Output() finished = new EventEmitter();\r\n\r\n    constructor(private helpSer: HelpMetaDataService, private loadingSer: LoadingService, private notify: NotifyService) {\r\n        this.initSteps();\r\n    }\r\n\r\n    private initSteps() {\r\n        const step1 = new Step({\r\n            stepId: 'selectHelpType',\r\n            title: '帮助类型',\r\n            component: SelectDisplayTypeComponent,\r\n            data: this.metadata,\r\n            show: true,\r\n            nextStep: 'selectDataSource',\r\n            showFinishBtn: false,\r\n            showCancelBtn: true,\r\n            showLastStepBtn: false,\r\n            showNextStepBtn: true\r\n        });\r\n\r\n        this.steps.push(step1);\r\n\r\n        const step2 = new Step({\r\n            stepId: 'selectDataSource',\r\n            title: '选择数据源',\r\n            component: SelectDataSourceComponent,\r\n            data: this.metadata,\r\n            show: true,\r\n            nextStep: 'setBasicInfo',\r\n            showFinishBtn: false,\r\n            showCancelBtn: true,\r\n            showLastStepBtn: true,\r\n            showNextStepBtn: true\r\n        });\r\n\r\n        this.steps.push(step2);\r\n\r\n\r\n        const step3 = new Step({\r\n            stepId: 'setBasicInfo',\r\n            title: '基本信息',\r\n            component: BasicInfoSettingComponent,\r\n            data: this.metadata,\r\n            show: true,\r\n            nextStep: 'setDisplayColumns',\r\n            showFinishBtn: false,\r\n            showCancelBtn: true,\r\n            showLastStepBtn: true,\r\n            showNextStepBtn: true\r\n        });\r\n\r\n        this.steps.push(step3);\r\n\r\n        const step4 = new Step({\r\n            stepId: 'setDisplayColumns',\r\n            title: '显示列设置',\r\n            component: DisplayColumnsComponent,\r\n            data: this.metadata,\r\n            show: true,\r\n            nextStep: '',\r\n            showFinishBtn: true,\r\n            showCancelBtn: true,\r\n            showLastStepBtn: true,\r\n            showNextStepBtn: false\r\n        });\r\n\r\n        this.steps.push(step4);\r\n\r\n    }\r\n\r\n    closeModal() {\r\n        this.modalClosed.emit();\r\n    }\r\n\r\n    finshGuide() {\r\n        // console.log(this.metadata);\r\n        const help = this.metadata.metadata;\r\n        const content = this.metadata.helpMetadata;\r\n        const loading = this.loadingSer.show();\r\n        this.helpSer.createHelpMetadata( this.metadata, content).subscribe((v: any) => {\r\n            loading.close();\r\n            if (v.success) {\r\n                this.notify.success('帮助元数据创建成功。');\r\n                this.closeModal();\r\n                this.finished.emit('/' + help.relativePath + '/' + help.fileName);\r\n            }\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/help-meatadata-guid.component.ts","import { Component, Input, OnInit } from '@angular/core';\r\nimport { GuideData } from '../../../types/guide.data';\r\n\r\n@Component({\r\n    selector: 'stpe1-displaytype',\r\n    template: `\r\n        <div class=\"container\">\r\n            <ul class=\"display-type\" style=\"list-style: none;\">\r\n                <li  *ngFor=\"let d of displayTypes\"\r\n                    [class.selected]=\"d.isSelected\" [class.disabled]=\"d.disabled\"\r\n                    (click)=\"selected($event, d)\">\r\n                    <div class=\"display-type-image\" [ngClass]=\"d.id\">\r\n                    </div>\r\n\r\n                    <div class=\"custom-control custom-radio custom-control-inline\">\r\n                        <input type=\"radio\" id=\"{{d.id}}\" name=\"displayType\" class=\"custom-control-input\"\r\n                         [checked]=\"d.isSelected\" [disabled]=\"d.disabled\">\r\n                        <label class=\"custom-control-label\" for=\"{{d.id}}\">{{ d.disabled ? '开发中':  d.title }}</label>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    `,\r\n    styleUrls: [`../css/css.css`]\r\n})\r\nexport class SelectDisplayTypeComponent implements OnInit {\r\n    @Input() data: GuideData;\r\n\r\n    displayTypes = [\r\n        { id: 'list', code: 'List', title: '简单列表', isSelected: true, disabled: false  },\r\n        { id: 'tree-list', code: 'TreeList', title: '树列表', isSelected: false,  disabled: false   },\r\n        { id: 'double-list', code: 'DoubleList', title: '双列表', isSelected: false,  disabled: true   },\r\n        { id: 'left-tree_right-list', code: 'LeftTreeRightList', title: '左树右列表', isSelected: false ,  disabled: true  },\r\n        { id: 'custom', title: '自定义表单', code: 'CustomForm', isSelected: false, disabled: true   }\r\n    ];\r\n\r\n    ngOnInit() {\r\n        if (!this.data.helpMetadata) {\r\n            this.data.helpMetadata = {};\r\n        }\r\n\r\n        this.initData();\r\n    }\r\n\r\n    initData() {\r\n        if (this.data && this.data.helpMetadata) {\r\n            if (this.data.helpMetadata.displayType) {\r\n                this.displayTypes = this.displayTypes.map(item => {\r\n                    item.isSelected = false;\r\n                    if (item.code === this.data.helpMetadata.displayType) {\r\n                        item.isSelected = true;\r\n                    }\r\n                    return item;\r\n                });\r\n            }\r\n        } else {\r\n            this.data.helpMetadata.displayType = 'List';\r\n        }\r\n    }\r\n\r\n    selected(event: Event, data: any) {\r\n\r\n        if (!data.disabled) {\r\n            this.displayTypes = this.displayTypes.map(item => {\r\n                item.isSelected = false;\r\n                return item;\r\n            });\r\n\r\n            if (!data.isSelected) {\r\n                data.isSelected = true;\r\n                this.data.helpMetadata.displayType = data.code;\r\n            }\r\n        }\r\n    }\r\n\r\n    validation = () => {\r\n        return this.data.helpMetadata.displayType;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/setps/step1.selectDisplayType.component.ts","import { BsModalService, NotifyService } from '@farris/ui';\r\nimport { Component, ComponentFactoryResolver, Injector, Input, OnInit } from '@angular/core';\r\nimport { SelectMetadataComponent } from '@gsp-lcm/metadata-selector';\r\nimport { GuideData } from '../../../types/guide.data';\r\n\r\n@Component({\r\n    template: `\r\n        <form style=\"padding:20px; padding-top: 40px\">\r\n            <div class=\"form-group\">\r\n                <label for=\"dataSourceType\">选择数据源类型</label>\r\n                <select class=\"form-control\" id=\"dataSourceType\"\r\n                    name=\"sourceType\" [(ngModel)]=\"data.helpMetadata.dataSource.sourceType\">\r\n                    <option *ngFor=\"let st of sourceTypeList\" [value]=\"st.value\"\r\n                        [selected]=\"st.value === data.helpMetadata.dataSource.sourceType\">{{st.title}}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"exampleFormControlInput1\">选择实体</label>\r\n                <custom-lookup (openDialog)=\"open()\" [text]=\"beMetadata?.name || ''\"></custom-lookup>\r\n            </div>\r\n        </form>\r\n    `\r\n})\r\nexport class SelectDataSourceComponent implements OnInit {\r\n\r\n    @Input() data: GuideData;\r\n\r\n    get beMetadata() {\r\n        if (this.data.beMetadata) {\r\n            return this.data.beMetadata.metadata;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    sourceTypeList = [\r\n        { value: 'BE', title: 'BE' }\r\n        // { value: 'VM', title: 'View Model' },\r\n        // { value: 'ODATA', title: 'ODATA' },\r\n        // { value: 'WEBAPI', title: 'WebApi' },\r\n        // { value: 'WEBSERVICE', title: 'Web Service' },\r\n    ];\r\n\r\n    // displayText = '';\r\n\r\n    constructor(private modalService: BsModalService,\r\n        private resolver: ComponentFactoryResolver,\r\n        private injector: Injector,\r\n        private notify: NotifyService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log(this.data);\r\n    }\r\n\r\n    open() {\r\n        const compFactory = this.resolver.resolveComponentFactory(SelectMetadataComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.metadataPath = this.data.metadata.relativePath;\r\n        compRef.instance.typeName = 'GSPBusinessEntity';\r\n        compRef.instance.selectedMetadata.subscribe($event => {\r\n            if (!$event || !$event.metadata) {\r\n                return;\r\n            }\r\n\r\n            // this.displayText = $event.metadata.name;\r\n            this.data.beMetadata = $event;\r\n\r\n            // TODO: 清空第3 第4步中的相关数据\r\n            this.data.helpMetadata.idField = '';\r\n            this.data.helpMetadata.textField = '';\r\n            this.data.helpMetadata.valueField = '';\r\n\r\n            if (this.data.helpMetadata.dataSource) {\r\n                this.data.helpMetadata.dataSource.columns = [];\r\n                this.data.selectedFields = [];\r\n            }\r\n\r\n            console.log('beMetadata:', $event);\r\n        });\r\n        const modalConfig = {\r\n            title: '元数据选择',\r\n            width: 870,\r\n            height: 565,\r\n            showButtons: false\r\n        };\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n        compRef.instance.closeModalEmitter.subscribe((data) => {\r\n            dialog.close();\r\n        });\r\n    }\r\n\r\n    validation = () => {\r\n        if (this.beMetadata && this.beMetadata.id) {\r\n            return true;\r\n        } else {\r\n            this.notify.warning('请选择BE实体');\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/setps/step2.selectDataSource.component.ts","import { Component, Input, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { GuideData } from '../../../types/guide.data';\r\nimport { NgForm, FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n    template: `\r\n        <form #frm=\"ngForm\" style=\"padding: 20px;\" >\r\n            <div class=\"form-row\">\r\n                <div class=\"form-group col-md-6\">\r\n                    <label for=\"txtHelpCode\">帮助编号</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"txtHelpCode\" name=\"code\"\r\n                        [(ngModel)]=\"data.helpMetadata.code\" placeholder=\"\" required>\r\n                </div>\r\n                <div class=\"form-group col-md-6\">\r\n                    <label for=\"txtHelpName\">帮助名称</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"txtHelpName\" placeholder=\"\"\r\n                        name=\"name\" [(ngModel)]=\"data.helpMetadata.name\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-row\">\r\n                <div class=\"form-group col-md-6\">\r\n                    <label for=\"txtHelpTitle\">帮助显示标题</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"txtHelpTitle\" placeholder=\"\"\r\n                        name=\"title\" [(ngModel)]=\"data.helpMetadata.title\" required>\r\n                </div>\r\n                <div class=\"form-group col-md-6\">\r\n                    <label for=\"inputPassword4\">标识字段</label>\r\n                    <farris-lookup-grid name=\"idField\"\r\n                    [(ngModel)]=\"data.helpMetadata.idField\"\r\n\r\n                    [columns]=\"lookupGridOpts.columns\"\r\n                    [pagination]=\"false\"\r\n                    [items]=\"lookupGridOpts.items\"\r\n                    [idField]=\"'ID'\"\r\n\r\n                    [textField]= \"'Name'\"\r\n                    [valueField]=\"'Code'\"\r\n                    [dictPicked]=\"helpDictPicked\" required></farris-lookup-grid>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-row\">\r\n                <div class=\"form-group col-md-6\">\r\n                    <label for=\"inputEmail4\">Text 字段</label>\r\n                    <farris-lookup-grid name=\"textField\"\r\n                    [(ngModel)]=\"data.helpMetadata.textField\"\r\n\r\n                    [columns]=\"lookupGridOpts.columns\"\r\n                    [pagination]=\"false\"\r\n                    [items]=\"lookupGridOpts.items\"\r\n                    [idField]=\"'ID'\"\r\n\r\n                    [textField]= \"'Name'\"\r\n                    [valueField]=\"'Code'\"\r\n                    [dictPicked]=\"helpDictPicked\" required></farris-lookup-grid>\r\n                </div>\r\n                <div class=\"form-group col-md-6\">\r\n                    <label for=\"inputPassword4\">Value 字段</label>\r\n                    <farris-lookup-grid name=\"valueField\"\r\n                    [(ngModel)]=\"data.helpMetadata.valueField\"\r\n\r\n                    [columns]=\"lookupGridOpts.columns\"\r\n                    [pagination]=\"false\"\r\n                    [items]=\"lookupGridOpts.items\"\r\n                    [idField]=\"'ID'\"\r\n\r\n\r\n                    [textField]= \"'Name'\"\r\n                    [valueField]=\"'Code'\"\r\n                    [dictPicked]=\"helpDictPicked\" required></farris-lookup-grid>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"inputAddress\">过滤条件</label>\r\n                <custom-lookup [disabled]=\"true\"></custom-lookup>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"inputAddress\">排序</label>\r\n                <custom-lookup  [disabled]=\"true\"></custom-lookup>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"inputAddress\">帮助描述信息</label>\r\n                <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"\r\n                name=\"description\" [(ngModel)]=\"data.helpMetadata.description\">\r\n                </textarea>\r\n            </div>\r\n        </form>\r\n    `,\r\n    styles: [\r\n        `.form-control.ng-invalid.ng-touched { border-color: #ff0303}`\r\n    ]\r\n})\r\nexport class BasicInfoSettingComponent implements OnChanges {\r\n    @Input() data: GuideData = {};\r\n    @ViewChild('frm') frm: NgForm;\r\n    get beMetadataContent() {\r\n        if (this.data && this.data.beMetadata) {\r\n            if (this.data.beMetadata.metadata.content) {\r\n                return JSON.parse(this.data.beMetadata.metadata.content);\r\n            }\r\n            return null;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    get lookupGridOpts() {\r\n        return {\r\n            columns: [\r\n                {field: 'Code', title: '编号', width: 100},\r\n                {field: 'Name', title: '名称', width: 100}\r\n            ],\r\n            pagination: false,\r\n            idField: 'ID',\r\n            items: this.beMetadataContent.MainObject.ContainElements.map(col => {\r\n                return {\r\n                    ID: col.ID,\r\n                    Code: col.Code,\r\n                    Name: col.Name,\r\n                    LabelID: col.LabelID\r\n                };\r\n            }),\r\n            singleSelect: true\r\n        };\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        // console.log(changes.data);\r\n    }\r\n\r\n    helpDictPicked = (rowData) => {\r\n        if (!this.data.selectedFields.find(n => n['ID'] === rowData['ID'])) {\r\n            this.data.selectedFields.push(rowData);\r\n        }\r\n        return of(true);\r\n    }\r\n\r\n    validation = () => {\r\n        this.markControlTouched();\r\n        return this.frm.valid;\r\n    }\r\n\r\n    private markControlTouched() {\r\n        Object.values(this.frm.controls).forEach( (ctrl: FormControl) => {\r\n            ctrl.markAsTouched();\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/setps/step3.basicInfoSetting.component.ts","/*\r\n* @Author: Lucas.Huang（疯狂秀才）\r\n* @Date: 2018-09-27 21:32:38\r\n * @Last Modified by: Lucas.Huang（疯狂秀才））\r\n * @Last Modified time: 2018-10-03 16:43:166\r\n*/\r\n\r\nimport { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { GuideData } from '../../../types/guide.data';\r\nimport { MessagerService, TreeNode, TreeTableComponent } from '@farris/ui';\r\nimport { NotifyService } from '@farris/ui';\r\n\r\nconst SELECT_MOVE_COLUMN_MESSAGE = '请选择要移动显示的列。';\r\n\r\n@Component({\r\n    template: `\r\n    <div class=\"row\" style=\"padding: 10px 30px;\">\r\n        <div class=\"col-6\">\r\n            <div class=\"row\">\r\n                <div class=\"col-10\">\r\n                    <fieldset>\r\n                        <legend>可选列：</legend>\r\n                        <div class=\"container columns-box\">\r\n                        <!--\r\n                            <perfect-scrollbar [config]=\"{}\">\r\n                                <ul class=\"list-group list-group-flush\" style=\"margin: 0 15px\">\r\n                                    <li  class=\"list-group-item\" *ngFor=\"let col of columns\">\r\n                                        <div class=\"custom-control custom-checkbox  custom-control-inline\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" [checked]=\"isChecked(col, 'l')\"\r\n                                                                        [disabled]=\"!canChecked(col)\">\r\n                                            <label class=\"custom-control-label\" (click)=\"leftColumnChecked(col)\">\r\n                                                {{ col.Name }} [{{ col.Code }}]\r\n                                            </label>\r\n                                        </div>\r\n                                    </li>\r\n                                </ul>\r\n                            </perfect-scrollbar>\r\n                            -->\r\n                            <perfect-scrollbar [config]=\"{}\">\r\n                                <farris-treetable #tt [data]=\"sourceColumnsTreeData\" [idField]=\"idField\"\r\n                                    [singleSelect]=\"false\" [showIcon]=\"false\"\r\n                                    [showFilterBar]=\"false\"\r\n                                    [checkOnSelect]=\"true\">\r\n                                    <ng-template farrisTemplate=\"body\" let-rowNode let-rowData=\"rowData\" >\r\n                                        <tr #row=\"row\" [selectRow]=\"rowNode\" [dblclick]=\"true\" [selectRowDisabled]=\"!canChecked(rowData)\">\r\n                                            <td style=\"border: 0\" [style.color]=\"row.selectRowDisabled? '#a6a6a6': '#333'\">\r\n                                                <farris-treeTableToggler [disabled]=\"!canChecked(rowData)\"\r\n                                                                [rowNode]=\"rowNode\"></farris-treeTableToggler>\r\n                                                {{rowData['Name']}} [{{ rowData['LabelID'] }}]\r\n                                            </td>\r\n                                        </tr>\r\n                                    </ng-template>\r\n                                </farris-treetable>\r\n                            </perfect-scrollbar>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n                <div class=\"col-2 v-center\">\r\n                    <button title=\"右移\" class=\"btn btn-outline-light icon right\" type=\"button\" (click)=\"moveToRight()\"></button>\r\n                    <button title=\"全部右移\" class=\"btn btn-outline-light icon right-all\" type=\"button\" (click)=\"moveAllToRight()\"></button>\r\n                    <button title=\"左移\" class=\"btn btn-outline-light icon left\" type=\"button\" (click)=\"moveToLeft()\"></button>\r\n                    <button title=\"全部左移\" class=\"btn btn-outline-light icon left-all\" type=\"button\" (click)=\"moveAllToLeft()\"></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-6\">\r\n            <div class=\"row\">\r\n                <div class=\"col-10\">\r\n                    <fieldset>\r\n                        <legend>已选列：</legend>\r\n                        <div class=\"container columns-box\">\r\n                            <perfect-scrollbar [config]=\"{}\">\r\n                                <ul class=\"list-group list-group-flush\"  style=\"margin: 0 15px\">\r\n                                    <li class=\"list-group-item\" (click)=\"rightColumnChecked(col)\"\r\n                                        *ngFor=\"let col of selectedColumns\" [class.active]=\"isChecked(col, 'r')\">\r\n                                        {{ col.Name }} [{{ col.LabelID }}]\r\n                                    </li>\r\n                                </ul>\r\n                            </perfect-scrollbar>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n                <div class=\"col-2 v-center\">\r\n                    <button title=\"置顶\" type=\"button\" class=\"btn btn-outline-light icon top\" (click)=\"moveTop()\"></button>\r\n                    <button title=\"上移\" type=\"button\" class=\"btn btn-outline-light icon up\" (click)=\"moveUp()\"></button>\r\n                    <button title=\"下移\" type=\"button\" class=\"btn btn-outline-light icon down\" (click)=\"moveDown()\"></button>\r\n                    <button title=\"置底\" type=\"button\" class=\"btn btn-outline-light icon end\" (click)=\"moveBottom()\"></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    `,\r\n    styleUrls: ['../css/step4.css']\r\n})\r\nexport class DisplayColumnsComponent implements OnInit {\r\n    @Input() data: GuideData;\r\n    idField = 'ID';\r\n\r\n    // 左侧选中的列\r\n    get leftCheckeds() {\r\n        if (this.sourceTree.selections) {\r\n            return this.sourceTree.selections.map(n => {\r\n                return n.data;\r\n            });\r\n        }else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    // 显示列\r\n    selectedColumns = [];\r\n\r\n    // 右侧选中的列\r\n    rightCheckeds: any = {};\r\n\r\n    // 左侧树\r\n    sourceColumnsTreeData: TreeNode[] = [];\r\n\r\n    @ViewChild('tt') sourceTree: TreeTableComponent;\r\n\r\n\r\n    get elements() {\r\n        return JSON.parse(this.data.beMetadata.metadata.content).MainObject.ContainElements;\r\n    }\r\n\r\n    constructor(private mesagerSer: MessagerService, private notify: NotifyService) {\r\n    }\r\n\r\n    // getColumns(): any[] {\r\n    //     if (this.data && this.data.beMetadata) {\r\n    //         return this.elements.map(col => {\r\n    //             return {\r\n    //                 ID: col.ID,\r\n    //                 Code: col.Code,\r\n    //                 Name: col.Name,\r\n    //                 LabelID: col.LabelID\r\n    //             };\r\n    //         });\r\n    //     }\r\n    // }\r\n\r\n    _updateHelpMetadata() {\r\n        this.data.helpMetadata.dataSource = this.data.helpMetadata.dataSource || {};\r\n        if (this.selectedColumns.length) {\r\n            this.data.helpMetadata.dataSource.columns = this.selectedColumns.map(col => {\r\n                return {\r\n                    field: col.Code,\r\n                    title: col.Name,\r\n                    width: 100\r\n                };\r\n            });\r\n        } else {\r\n            this.data.helpMetadata.dataSource.columns = [];\r\n        }\r\n\r\n        this.data.selectedFields = this.selectedColumns;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // this.columns = this.getColumns();\r\n        this.sourceColumnsTreeData = this.convert2TreeNodes(this.elements);\r\n        this.selectedColumns = this.data.selectedFields || [];\r\n        if (this.selectedColumns.length) {\r\n            this._updateHelpMetadata();\r\n        }\r\n    }\r\n\r\n    isChecked(col: any, direction: string): boolean {\r\n        if (direction === 'l') {\r\n            return this.leftCheckeds[col['ID']] !== undefined;\r\n        } else {\r\n            return this.rightCheckeds[col['ID']] !== undefined;\r\n        }\r\n    }\r\n\r\n    canChecked(col) {\r\n        if (this.selectedColumns.length === 0) {\r\n            return true;\r\n        }\r\n        // return this.selectedColumns.indexOf(col) === -1;\r\n        return this.selectedColumns.findIndex(c => c['ID'] === col['ID']) === -1;\r\n    }\r\n\r\n    // leftColumnChecked(col) {\r\n    //     if (this.canChecked(col)) {\r\n    //         if (this.isChecked(col, 'l')) {\r\n    //             delete this.leftCheckeds[col['ID']];\r\n    //         } else {\r\n    //             this.leftCheckeds[col['ID']] = col;\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    hasCheckeds(side: string) {\r\n        if (side === 'l') {\r\n            return this.leftCheckeds.length > 0;\r\n        } else {\r\n            return Object.keys(this.rightCheckeds).length > 0;\r\n        }\r\n    }\r\n\r\n    rightColumnChecked(col) {\r\n        if (this.isChecked(col, 'r')) {\r\n            this.rightCheckeds = {};\r\n            return;\r\n        } else {\r\n            this.rightCheckeds = {};\r\n            this.rightCheckeds[col['ID']] = col;\r\n        }\r\n    }\r\n\r\n    //#region 左右移动\r\n\r\n    /** 右移 */\r\n    moveToRight() {\r\n        if (this.hasCheckeds('l')) {\r\n            this.leftCheckeds.forEach(col => {\r\n                if (this.selectedColumns.indexOf(col) === -1) {\r\n                    this.selectedColumns.push(col);\r\n                }\r\n            });\r\n            this.clearSelections();\r\n            this._updateHelpMetadata();\r\n\r\n        } else {\r\n            this.mesagerSer.warning('请选择要显示的列。');\r\n        }\r\n    }\r\n\r\n    private clearSelections() {\r\n        this.sourceTree.selectedRow = undefined;\r\n        this.sourceTree.clearSelections();\r\n    }\r\n\r\n    /** 全部右移 */\r\n    moveAllToRight() {\r\n        this.convertTreeNodes2PlainObject(this.sourceColumnsTreeData).filter(col => {\r\n            return this.selectedColumns.indexOf(col.data) === -1;\r\n        }).forEach(col => {\r\n            this.selectedColumns.push(col.data);\r\n        });\r\n\r\n        this._updateHelpMetadata();\r\n        // this.leftCheckeds = {};\r\n        this.clearSelections();\r\n    }\r\n\r\n    /** 左移 */\r\n    moveToLeft() {\r\n        if (this.hasCheckeds('r')) {\r\n            this.selectedColumns = this.selectedColumns.filter(v => {\r\n                return Object.values(this.rightCheckeds).indexOf(v) === -1;\r\n            });\r\n            this._updateHelpMetadata();\r\n            this.rightCheckeds = {};\r\n        } else {\r\n            this.mesagerSer.warning('请选择要取消显示的列。');\r\n        }\r\n    }\r\n\r\n    /** 全部左移 */\r\n    moveAllToLeft() {\r\n        this.selectedColumns = [];\r\n        this._updateHelpMetadata();\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 上下移动显示列顺序\r\n\r\n    _getSelectColumnInfo() {\r\n        if (this.hasCheckeds('r')) {\r\n            const cols = Object.values(this.rightCheckeds);\r\n            const index = this.selectedColumns.findIndex(c => c === cols[0]);\r\n            return {\r\n                cols, index\r\n            };\r\n        }\r\n\r\n        return null;\r\n    }\r\n    /** 置顶 */\r\n    moveTop() {\r\n        const obj = this._getSelectColumnInfo();\r\n        if (obj) {\r\n            this.selectedColumns.unshift(this.selectedColumns[obj.index]);\r\n            this.selectedColumns.splice(obj.index + 1, 1);\r\n            this._updateHelpMetadata();\r\n        } else {\r\n            this.mesagerSer.warning(SELECT_MOVE_COLUMN_MESSAGE);\r\n        }\r\n    }\r\n\r\n    /** 上移 */\r\n    moveUp() {\r\n        if (this.hasCheckeds('r')) {\r\n            const obj = this._getSelectColumnInfo();\r\n            if (obj) {\r\n                const len = obj.cols.length;\r\n                const index = obj.index;\r\n                if (index !== 0) {\r\n                    const tempArr = this.selectedColumns.splice(index, len);\r\n                    this.selectedColumns.splice(index - 1, 0, ...tempArr);\r\n                }\r\n                this._updateHelpMetadata();\r\n            }\r\n        } else {\r\n            this.mesagerSer.warning(SELECT_MOVE_COLUMN_MESSAGE);\r\n        }\r\n    }\r\n\r\n    /** 下移 */\r\n    moveDown() {\r\n        if (this.hasCheckeds('r')) {\r\n            const obj = this._getSelectColumnInfo();\r\n            if (obj) {\r\n                const len = this.selectedColumns.length;\r\n                const index = obj.index;\r\n                if (index === 0 || index !== len - 1) {\r\n                    const tempArr = this.selectedColumns.splice(index, 1);\r\n                    this.selectedColumns.splice(index + 1, 0, ...tempArr);\r\n                }\r\n                this._updateHelpMetadata();\r\n            }\r\n        } else {\r\n            this.mesagerSer.warning(SELECT_MOVE_COLUMN_MESSAGE);\r\n        }\r\n    }\r\n\r\n    /** 置底 */\r\n    moveBottom() {\r\n        const obj = this._getSelectColumnInfo();\r\n        if (obj) {\r\n            this.selectedColumns.push(obj.cols[0]);\r\n            this.selectedColumns.splice(obj.index, 1);\r\n            this._updateHelpMetadata();\r\n        } else {\r\n            this.mesagerSer.warning(SELECT_MOVE_COLUMN_MESSAGE);\r\n        }\r\n    }\r\n\r\n    //#endregion\r\n\r\n    private convert2TreeNodes(data: any[]): TreeNode[] {\r\n        if (data.length) {\r\n            // const nodes = data.filter((v) => v.ChildAssociations.length === );\r\n            return data.map(n => {\r\n                const node = {\r\n                    data: n,\r\n                    children: []\r\n                };\r\n\r\n                if (n.ChildAssociations.length) {\r\n                    node.children = this.convert2TreeNodes(n.ChildAssociations[0].RefElementCollection);\r\n                }\r\n\r\n                return node;\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n\r\n    private convertTreeNodes2PlainObject(nodes: TreeNode[], r: any[] = []) {\r\n        if (nodes) {\r\n            nodes.forEach(n => {\r\n                r.push(n);\r\n                if (n.children) {\r\n                    this.convertTreeNodes2PlainObject(n.children, r);\r\n                }\r\n            });\r\n        }\r\n\r\n        return r;\r\n    }\r\n\r\n    validation = () => {\r\n        if (this.selectedColumns.length) {\r\n            return true;\r\n        } else {\r\n            this.notify.warning('请选择要显示的列。');\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/setps/step4.displayColumns.component.ts","import { Type } from '@angular/core';\r\n\r\n\r\nexport interface IStep {\r\n    /**\r\n     * 步骤ID\r\n     */\r\n    stepId: string; // 'basicInfo'\r\n    /**\r\n     * 步骤名称\r\n     */\r\n    title: string; // '填写基本信息',\r\n    /**\r\n     * 加载的组件类型\r\n     */\r\n    component: Type<any>; // FormBasicInfoComponent,\r\n    /**\r\n     * 初始数据\r\n     */\r\n    data: any; // this.formInfo.basicInfo,\r\n    /**\r\n     * 是否启用\r\n     */\r\n    show: boolean;\r\n    /**\r\n     * 下一步ID\r\n     */\r\n    nextStep: string; // 'selectTemplate',\r\n    /**\r\n     * 显示完成按钮\r\n     */\r\n    showFinishBtn: boolean;\r\n\r\n    disabledFinishBtn?: boolean;\r\n    /**\r\n     * 显示取按钮\r\n     */\r\n    showCancelBtn: boolean;\r\n    /**\r\n     * 显示上一步按钮\r\n     */\r\n    showLastStepBtn: boolean;\r\n    /**\r\n     * 显示下一步按钮\r\n     */\r\n    showNextStepBtn: boolean;\r\n\r\n    disabledNextStepBtn?: boolean;\r\n}\r\n\r\n\r\n\r\nexport class Step {\r\n    /**\r\n     * 步骤ID\r\n     */\r\n    stepId: string; // 'basicInfo'\r\n    /**\r\n     * 步骤名称\r\n     */\r\n    title: string; // '填写基本信息',\r\n    /**\r\n     * 加载的组件类型\r\n     */\r\n    component: Type<any>; // FormBasicInfoComponent,\r\n    /**\r\n     * 初始数据\r\n     */\r\n    data: any; // this.formInfo.basicInfo,\r\n    /**\r\n     * 是否启用\r\n     */\r\n    show = true;\r\n    /**\r\n     * 下一步ID\r\n     */\r\n    nextStep: string; // 'selectTemplate',\r\n    /**\r\n     * 显示完成按钮\r\n     */\r\n    showFinishBtn: boolean;\r\n    /**\r\n     * 显示取按钮\r\n     */\r\n    showCancelBtn: boolean;\r\n    /**\r\n     * 显示上一步按钮\r\n     */\r\n    showLastStepBtn: boolean;\r\n    /**\r\n     * 显示下一步按钮\r\n     */\r\n    showNextStepBtn: boolean;\r\n\r\n    disabledNextBtn = false;\r\n\r\n    _data: any;\r\n\r\n    constructor(initData?: IStep) {\r\n        if (initData) {\r\n            this._data = initData;\r\n            this.initProperty();\r\n        }\r\n    }\r\n\r\n    private initProperty() {\r\n        Object.keys(this._data).forEach((key) => {\r\n            this[key] = this._data[key];\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/guide/step.ts","/*\r\n * @Author: Lucas.Huang（疯狂秀才）\r\n * @Date: 2018-09-28 17:24:44\r\n * @Last Modified by:   Lucas.Huang（疯狂秀才）\r\n * @Last Modified time: 2018-09-28 17:24:44\r\n */\r\n\r\nimport { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { PackageView } from '@farris/ide-devkit';\r\nimport { HelpMetadataDesignerComponent } from './designer/help-metadata-designer.component';\r\n\r\nexport class HelpMetadataDesignerPackageView extends PackageView {\r\n    constructor(state: any, private cfr: ComponentFactoryResolver, private injector: Injector) {\r\n        super(state);\r\n\r\n        const componentFactory = this.cfr.resolveComponentFactory(HelpMetadataDesignerComponent);\r\n        this.element = componentFactory.create(this.injector);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/help-metadata-desginer.packageview.ts","import { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { PackageView } from '@farris/ide-devkit';\r\nimport { HelpMetadataGuidComponent } from './guide/help-meatadata-guid.component';\r\n\r\nexport class HelpMetadataGuidePackageView extends PackageView {\r\n    constructor(state: any, private cfr: ComponentFactoryResolver, private injector: Injector) {\r\n        super(state);\r\n\r\n        const componentFactory = this.cfr.resolveComponentFactory(HelpMetadataGuidComponent);\r\n        this.element = componentFactory.create(this.injector);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/help-metadata-guide.packageview.ts","export * from './help-metadata-desginer.packageview';\r\nexport * from './help-metadata-guide.packageview';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/help-metadata/views/index.ts"],"sourceRoot":"webpack:///"}