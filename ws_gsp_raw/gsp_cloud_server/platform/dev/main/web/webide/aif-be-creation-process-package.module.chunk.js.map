{"version":3,"sources":["./src/packages/aif-be-creation-process/aif-be-creation-process-package.module.js","./src/packages/aif-be-creation-process/package.ts","./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.css","./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.html","./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.ts","./src/packages/aif-be-creation-process/views/aif-be-creation-process-entity.ts","./src/packages/aif-be-creation-process/views/aif-be-creation-process.module.ts","./src/packages/aif-be-creation-process/views/aif-be-creation-process.service.ts","./src/packages/aif-be-creation-process/views/index.ts"],"names":[],"mappings":"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","file":"aif-be-creation-process-package.module.chunk.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { ComponentFactoryResolver, Injector, NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { PackageModule } from '@farris/ide-devkit';\r\nimport { GSPMetadataServiceModule } from '@gsp-lcm/metadata-selector';\r\nimport { AifBeCreationProcessPackage } from './package';\r\nimport { AifBeCreationProcessModule } from './views/aif-be-creation-process.module';\r\nimport { environment } from '../../environments/environment';\r\nvar AifBeCreationProcessPackageModule = (function (_super) {\r\n    __extends(AifBeCreationProcessPackageModule, _super);\r\n    function AifBeCreationProcessPackageModule(cfr, injector) {\r\n        var _this = _super.call(this) || this;\r\n        _this.cfr = cfr;\r\n        _this.injector = injector;\r\n        return _this;\r\n    }\r\n    AifBeCreationProcessPackageModule.prototype.initPackage = function (gsp) {\r\n        this.package = new AifBeCreationProcessPackage(gsp, this.cfr, this.injector);\r\n    };\r\n    AifBeCreationProcessPackageModule = __decorate([\r\n        NgModule({\r\n            imports: [\r\n                HttpModule,\r\n                AifBeCreationProcessModule,\r\n                GSPMetadataServiceModule.forRoot(environment.SERVER_IP)\r\n            ],\r\n            providers: []\r\n        }),\r\n        __metadata(\"design:paramtypes\", [ComponentFactoryResolver, Injector])\r\n    ], AifBeCreationProcessPackageModule);\r\n    return AifBeCreationProcessPackageModule;\r\n}(PackageModule));\r\nexport { AifBeCreationProcessPackageModule };\r\n//# sourceMappingURL=aif-be-creation-process-package.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-creation-process/aif-be-creation-process-package.module.js\n// module id = ./src/packages/aif-be-creation-process/aif-be-creation-process-package.module.js\n// module chunks = aif-be-creation-process-package.module","import { ComponentFactoryResolver, Injector, Type } from '@angular/core';\r\nimport { GSP, Package } from '@farris/ide-devkit';\r\nimport { AifBeCreationProcessPackageView } from './views';\r\nimport { AifBeCreationProcessDesignerComponent } from './views/aif-be-creation-process-designer/aif-be-creation-process-designer.component';\r\n\r\nexport class AifBeCreationProcessPackage extends Package {\r\n  constructor(\r\n    gsp: GSP,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector\r\n  ) {\r\n    super(gsp);\r\n  }\r\n\r\n  activate(state) {\r\n    this.gsp.workspace.addOpener((uri: string) => this.openBeCreationProcess(uri));\r\n  }\r\n\r\n  openBeCreationProcess(uri) {\r\n    if (uri.endsWith('.aifcp')) {\r\n      const pkgView = new AifBeCreationProcessPackageView({}, this.cfr, this.injector);\r\n      const currentElement = pkgView.getElement().instance as AifBeCreationProcessDesignerComponent;\r\n      currentElement.metadataUri = uri;\r\n      return {\r\n        getTitle: () => uri.substring(uri.lastIndexOf('/') + 1),\r\n        getElement: () => pkgView.getElement()\r\n      };\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-creation-process/package.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n    -webkit-box-flex: 1;\\r\\n        -ms-flex: 1;\\r\\n            flex: 1;\\r\\n}\\r\\n\\r\\n#bemain .k-content {\\r\\n    padding: 0 !important;\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: column;\\r\\n            flex-direction: column;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav {\\r\\n    background: #e8edf2;\\r\\n    height: 40px;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle {\\r\\n    padding: 0px 10px;\\r\\n    color: #666666;\\r\\n    line-height: 40px;\\r\\n    cursor: pointer;\\r\\n    font-size: 0.875rem;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle.active {\\r\\n    color: #FFFFFF;\\r\\n    background-color: #0072c6 !important;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle:not(:first-child).active {\\r\\n    margin-left: -17px;\\r\\n    padding-left: 25px;\\r\\n}\\r\\n\\r\\n.calc-rules.createNav .stepTitle.disable {\\r\\n    color: #cdcdcf;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right {\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    border-width: 20px 0 20px 18px;\\r\\n    border-style: solid;\\r\\n    border-color: transparent transparent transparent #cccccc;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right span {\\r\\n    display: block;\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    border-width: 20px 0px 20px 18px;\\r\\n    border-style: solid;\\r\\n    border-color: transparent transparent transparent #e8edf2;\\r\\n    position: absolute;\\r\\n    top: -20px;\\r\\n    left: -20px;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right.active {\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    border-width: 20px 0 20px 20px;\\r\\n    border-color: transparent transparent transparent #e8edf2;\\r\\n}\\r\\n\\r\\n.calc-rules .triangle_border_right.active span {\\r\\n    border-width: 20px 0 20px 20px;\\r\\n    border-color: transparent transparent transparent #0072c6;\\r\\n}\\r\\n\\r\\n#beFrameObjTab {\\r\\n    position: absolute;\\r\\n    top: 3em;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n#beFrameBeTab {\\r\\n    position: absolute;\\r\\n    top: 0em;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.aifHeader{\\r\\n    background-color:#C0C0C0;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.css\n// module id = ./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.css\n// module chunks = aif-be-creation-process-package.module","module.exports = \"<div class=\\\"d-flex flex-column\\\" style=\\\"flex:1;\\\">\\r\\n  <div class=\\\"border-bottom\\\">\\r\\n    <button kendoButton [look]=\\\"'bare'\\\" (click)=\\\"saveMetadata()\\\">保存</button>\\r\\n    <button kendoButton [look]=\\\"'bare'\\\" (click)=\\\"publishMetadata()\\\">发布</button>\\r\\n    <button kendoButton [look]=\\\"'bare'\\\" (click)=\\\"unPublishMetadata()\\\">撤销发布</button>\\r\\n  </div>\\r\\n\\r\\n  <div>\\r\\n    <h5 class=\\\"float-left aifHeader\\\">生单流程</h5>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"flex-auto\\\" style=\\\"overflow-y:auto;\\\" id=\\\"attachmentParent\\\">\\r\\n    <form class=\\\"k-form\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"id\\\">\\r\\n            <span>\\r\\n              ID\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"id\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.Id\\\"\\r\\n              #ID=\\\"ngModel\\\">\\r\\n            <div [hidden]=\\\"ID.valid || ID.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"ID\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field \\\" for=\\\"name\\\">\\r\\n            <span>名称</span>\\r\\n            <input class=\\\"k-textbox w-100\\\" placeholder=\\\"\\\" name=\\\"name\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.Name\\\">\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"isEnabled\\\">\\r\\n            <div class=\\\"d-flex mr-5\\\">\\r\\n              <br/>\\r\\n              <input type=\\\"checkbox\\\" id=\\\"isEnabled\\\" class=\\\"k-checkbox\\\" name=\\\"isEnabled\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.IsEnabled\\\">\\r\\n              <label class=\\\"k-checkbox-label\\\" for=\\\"isEnabled\\\">是否启用</label>\\r\\n              <br/>\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"beCreationRuleId\\\">\\r\\n            <span>\\r\\n              生单规则ID\\r\\n              <span style=\\\"color:red\\\">*</span>\\r\\n            </span>\\r\\n            <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearBeCreationRuleIdable(true)\\\" (mouseleave)=\\\"setClearBeCreationRuleIdable(false)\\\">\\r\\n              <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"beCreationRuleId\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.BeCreationRuleId\\\"\\r\\n                  #BeCreationRuleId=\\\"ngModel\\\">\\r\\n                <span *ngIf=\\\"clearBeCreationRuleIdable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearBeCreationRuleId()\\\">x</span>\\r\\n              </span>\\r\\n\\r\\n              <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('AifBeCreationRule')\\\">\\r\\n                <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n              </button>\\r\\n            </div>\\r\\n\\r\\n            <div [hidden]=\\\"BeCreationRuleId.valid || BeCreationRuleId.pristine\\\" class=\\\"alert-danger\\\">\\r\\n              \\\"生单规则ID\\\"不能为空\\r\\n            </div>\\r\\n          </label>\\r\\n\\r\\n          <label class=\\\"k-form-field\\\" for=\\\"description\\\">\\r\\n            <span>描述</span>\\r\\n            <textarea kendoTextArea class=\\\"form-control\\\" placeholder=\\\"\\\" name=\\\"description\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.Description\\\"></textarea>\\r\\n          </label>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 pb-1\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"k-form-field\\\" for=\\\"sourceBeType\\\">\\r\\n              <span>\\r\\n                来源BE类型\\r\\n                <span style=\\\"color:red\\\">*</span>\\r\\n              </span>\\r\\n              <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearSourceBeTypeable(true)\\\" (mouseleave)=\\\"setClearSourceBeTypeable(false)\\\">\\r\\n                <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                  <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"sourceBeType\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.SourceBeType\\\"\\r\\n                    #SourceBeType=\\\"ngModel\\\">\\r\\n                  <span *ngIf=\\\"clearSourceBeTypeable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearSourceBeType()\\\">x</span>\\r\\n                </span>\\r\\n\\r\\n                <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('GSPBusinessEntity',true)\\\">\\r\\n                  <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n                </button>\\r\\n              </div>\\r\\n\\r\\n              <div [hidden]=\\\"SourceBeType.valid || SourceBeType.pristine\\\" class=\\\"alert-danger\\\">\\r\\n                \\\"来源BE类型\\\"不能为空\\r\\n              </div>\\r\\n            </label>\\r\\n\\r\\n            <label class=\\\"k-form-field \\\" for=\\\"beEventId\\\">\\r\\n              <span>\\r\\n                来源业务事件编号\\r\\n                <span style=\\\"color:red\\\">*</span>\\r\\n              </span>\\r\\n              <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearBeEventIdable(true)\\\" (mouseleave)=\\\"setClearBeEventIdable(false)\\\">\\r\\n                <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                  <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"beEventId\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.BeEventId\\\"\\r\\n                    #BeEventId=\\\"ngModel\\\">\\r\\n                  <span *ngIf=\\\"clearBeEventIdable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearBeEventId()\\\">x</span>\\r\\n                </span>\\r\\n\\r\\n                <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('AifBeEvent')\\\">\\r\\n                  <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n                </button>\\r\\n              </div>\\r\\n\\r\\n              <div [hidden]=\\\"BeEventId.valid || BeEventId.pristine\\\" class=\\\"alert-danger\\\">\\r\\n                \\\"来源业务事件编号\\\"不能为空\\r\\n              </div>\\r\\n            </label>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"k-form-field\\\" for=\\\"targetBeType\\\">\\r\\n              <span>\\r\\n                目标BE类型\\r\\n                <span style=\\\"color:red\\\">*</span>\\r\\n              </span>\\r\\n              <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearTargetBeTypeable(true)\\\" (mouseleave)=\\\"setClearTargetBeTypeable(false)\\\">\\r\\n                <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                  <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"targetBeType\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.TargetBeType\\\"\\r\\n                    #TargetBeType=\\\"ngModel\\\">\\r\\n                  <span *ngIf=\\\"clearTargetBeTypeable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearTargetBeType()\\\">x</span>\\r\\n                </span>\\r\\n\\r\\n                <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('GSPBusinessEntity',false)\\\">\\r\\n                  <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n                </button>\\r\\n              </div>\\r\\n\\r\\n              <div [hidden]=\\\"TargetBeType.valid || TargetBeType.pristine\\\" class=\\\"alert-danger\\\">\\r\\n                \\\"目标BE类型\\\"不能为空\\r\\n              </div>\\r\\n            </label>\\r\\n\\r\\n            <label class=\\\"k-form-field \\\" for=\\\"beActionId\\\">\\r\\n              <span>\\r\\n                目标业务动作编号\\r\\n                <span style=\\\"color:red\\\">*</span>\\r\\n              </span>\\r\\n              <div class=\\\"d-flex\\\" (mouseenter)=\\\"setClearBeActionIdable(true)\\\" (mouseleave)=\\\"setClearBeActionIdable(false)\\\">\\r\\n                <span style=\\\"opacity: 1; width: 100%; position: relative;\\\">\\r\\n                  <input class=\\\"k-textbox w-100\\\" readonly required placeholder=\\\"\\\" name=\\\"beActionId\\\" [(ngModel)]=\\\"toDesignerBeCreationProcess&&toDesignerBeCreationProcess.BeActionId\\\"\\r\\n                    #BeActionId=\\\"ngModel\\\">\\r\\n                  <span *ngIf=\\\"clearBeActionIdable\\\" style=\\\"position: absolute; right: 4px; top: 2px; color:red;font-weight: bold\\\" (click)=\\\"clearBeActionId()\\\">x</span>\\r\\n                </span>\\r\\n\\r\\n                <button class=\\\"k-button k-bare\\\" type=\\\"button\\\" (click)=\\\"selectMetadata('AifBeAction')\\\">\\r\\n                  <i class=\\\"material-icons align-middle\\\" style=\\\" font-size: 18px;\\\">filter_none</i>\\r\\n                </button>\\r\\n              </div>\\r\\n\\r\\n              <div [hidden]=\\\"BeActionId.valid || BeActionId.pristine\\\" class=\\\"alert-danger\\\">\\r\\n                \\\"BeActionId\\\"不能为空\\r\\n              </div>\\r\\n            </label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.html\n// module id = ./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.html\n// module chunks = aif-be-creation-process-package.module","import { Component, OnInit, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { CacheService } from '@farris/ide-devkit/services';\r\nimport { BsModalService } from '@farris/ui';\r\nimport { MetadataDto, GSPMetadataService, SelectMetadataComponent } from '@gsp-lcm/metadata-selector';\r\nimport { AifBeCreationProcessEntity } from '../aif-be-creation-process-entity';\r\nimport { AifBeCreationProcessService } from '../aif-be-creation-process.service';\r\n\r\n@Component({\r\n    selector: 'app-aif-be-creation-process-designer',\r\n    templateUrl: './aif-be-creation-process-designer.component.html',\r\n    styleUrls: ['./aif-be-creation-process-designer.component.css'],\r\n    providers: [AifBeCreationProcessService]\r\n})\r\nexport class AifBeCreationProcessDesignerComponent implements OnInit {\r\n    toDesignerBeCreationProcess: AifBeCreationProcessEntity;\r\n    metadataDto: MetadataDto;\r\n    title = 'app';\r\n    private _metadataUri: string;\r\n    set metadataUri(metadataUri: string) {\r\n        this._metadataUri = metadataUri;\r\n\r\n        let fullname: string = this._metadataUri.substring(this._metadataUri.lastIndexOf('/') + 1);\r\n        let path: string = this._metadataUri.substring(1, this._metadataUri.lastIndexOf('/'));\r\n        this.lcmService.LoadMetadata(fullname, path).subscribe(data => {\r\n            this.metadataDto = data;\r\n            this.loadMetadata(this.metadataDto);\r\n        }, error => {\r\n            alert(\"加载元数据失败。\")\r\n        });\r\n    }\r\n\r\n    constructor(private lcmService: GSPMetadataService, private cache: CacheService, private beCreationProcessService: AifBeCreationProcessService,\r\n        private modalService: BsModalService, private resolver: ComponentFactoryResolver, private injector: Injector) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    saveMetadata() {\r\n        this.saveMetadataService().subscribe(() => {\r\n            alert(\"保存成功\");\r\n        }, error => {\r\n            alert(\"保存失败\")\r\n        });\r\n    }\r\n\r\n    saveMetadataService() {\r\n        let beCreationProcess: string = JSON.stringify(this.toDesignerBeCreationProcess);\r\n        let entity: any = {};\r\n        entity.Entity = beCreationProcess;\r\n        this.metadataDto.content = JSON.stringify(entity);\r\n\r\n        return this.lcmService.SaveMetadata(this.metadataDto, this.cache.get(\"sessionId\"));\r\n    }\r\n\r\n    publishMetadata(): void {\r\n        this.saveMetadataService().subscribe(() => {\r\n            this.lcmService.GetProjectInfo(this.metadataDto.relativePath).subscribe(data => {\r\n                this.toDesignerBeCreationProcess.MetadataID = this.metadataDto.id;\r\n                this.toDesignerBeCreationProcess.MetadataPackageName = data.metadataPackageInfo.name;\r\n                this.lcmService.GetGspProjInfo(data.projectPath).subscribe(data => {\r\n                    this.toDesignerBeCreationProcess.SuName = data.serviceUnitCode;\r\n                    this.beCreationProcessService.publishBeCreationProcess(this.toDesignerBeCreationProcess).subscribe(() => {\r\n                        alert(\"发布成功。\");\r\n                    }, error => {\r\n                        let errorString: string = error.error ? error.error.Message : error.statusText;\r\n                        alert(\"发布失败。\\n\" + errorString);\r\n                    });\r\n                })\r\n            })\r\n        });\r\n    }\r\n\r\n    unPublishMetadata(): void {\r\n        this.beCreationProcessService.unPublishBeCreationProcess(this.metadataDto.id).subscribe(() => {\r\n            alert(\"撤销发布成功\");\r\n        }, error => {\r\n            let errorString: string = error.error ? error.error.Message : error.statusText;\r\n            alert(\"撤销发布失败。\\n\" + errorString);\r\n        });\r\n    }\r\n\r\n    private loadMetadata(dto: MetadataDto) {\r\n        this.metadataDto = dto;\r\n        if (this.metadataDto.content && this.metadataDto.content != \"\") {\r\n            let entity = JSON.parse(this.metadataDto.content);\r\n            if (entity.Entity != \"null\") {\r\n                this.toDesignerBeCreationProcess = JSON.parse(entity.Entity);\r\n            }\r\n            else {\r\n                this.toDesignerBeCreationProcess = new AifBeCreationProcessEntity();\r\n            }\r\n\r\n            if (this.toDesignerBeCreationProcess.Id == null) {\r\n                this.toDesignerBeCreationProcess.Id = this.metadataDto.id;\r\n                this.toDesignerBeCreationProcess.IsEnabled = true;\r\n                this.toDesignerBeCreationProcess.Name = this.metadataDto.name;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    selectMetadata(typeName: string, isSourceBe?: boolean) {\r\n        const compFactory = this.resolver.resolveComponentFactory(SelectMetadataComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.metadataPath = this.metadataDto.relativePath;\r\n        compRef.instance.typeName = typeName;\r\n        compRef.instance.selectedMetadata.subscribe($event => {\r\n            if (typeName == 'AifBeEvent') {\r\n                let beEventEntity = JSON.parse($event.metadata.content);\r\n                this.toDesignerBeCreationProcess.BeEventId = JSON.parse(beEventEntity.Entity).Id;\r\n            }\r\n            else if (typeName == 'AifBeAction') {\r\n                let beActionEntity = JSON.parse($event.metadata.content);\r\n                this.toDesignerBeCreationProcess.BeActionId = JSON.parse(beActionEntity.Entity).Id;\r\n            }\r\n            else if (typeName == 'AifBeCreationRule') {\r\n                let beCreationRuleEntity = JSON.parse($event.metadata.content);\r\n                this.toDesignerBeCreationProcess.BeCreationRuleId = JSON.parse(beCreationRuleEntity.Entity).Id;\r\n            }\r\n            else if (typeName == 'GSPBusinessEntity' && isSourceBe == true) {\r\n                this.toDesignerBeCreationProcess.SourceBeType = $event.metadata.code;\r\n            }\r\n            else if (typeName == 'GSPBusinessEntity' && isSourceBe == false) {\r\n                this.toDesignerBeCreationProcess.TargetBeType = $event.metadata.code;\r\n            }\r\n        });\r\n        const modalConfig = {\r\n            title: '元数据选择',\r\n            width: 882,\r\n            height: 573,\r\n            showButtons: false\r\n        };\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n\r\n        compRef.instance.closeModalEmitter.subscribe($event => {\r\n            dialog.close();\r\n        });\r\n    }\r\n\r\n    clearBeCreationRuleId() {\r\n        this.toDesignerBeCreationProcess.BeCreationRuleId = null;\r\n    }\r\n\r\n    clearSourceBeType() {\r\n        this.toDesignerBeCreationProcess.SourceBeType = null;\r\n    }\r\n\r\n    clearBeEventId() {\r\n        this.toDesignerBeCreationProcess.BeEventId = null;\r\n    }\r\n\r\n    clearTargetBeType() {\r\n        this.toDesignerBeCreationProcess.TargetBeType = null;\r\n    }\r\n\r\n    clearBeActionId() {\r\n        this.toDesignerBeCreationProcess.BeActionId = null;\r\n    }\r\n\r\n    clearBeCreationRuleIdable: boolean = false;\r\n    setClearBeCreationRuleIdable(display: boolean) {\r\n        if (this.toDesignerBeCreationProcess.BeCreationRuleId != null) {\r\n            this.clearBeCreationRuleIdable = display;\r\n        }\r\n        else {\r\n            this.clearBeCreationRuleIdable = false;\r\n        }\r\n    }\r\n\r\n    clearSourceBeTypeable: boolean = false;\r\n    setClearSourceBeTypeable(display: boolean) {\r\n        if (this.toDesignerBeCreationProcess.SourceBeType != null) {\r\n            this.clearSourceBeTypeable = display;\r\n        }\r\n        else {\r\n            this.clearSourceBeTypeable = false;\r\n        }\r\n    }\r\n\r\n    clearBeEventIdable: boolean = false;\r\n    setClearBeEventIdable(display: boolean) {\r\n        if (this.toDesignerBeCreationProcess.BeEventId != null) {\r\n            this.clearBeEventIdable = display;\r\n        }\r\n        else {\r\n            this.clearBeEventIdable = false;\r\n        }\r\n    }\r\n\r\n    clearTargetBeTypeable: boolean = false;\r\n    setClearTargetBeTypeable(display: boolean) {\r\n        if (this.toDesignerBeCreationProcess.TargetBeType != null) {\r\n            this.clearTargetBeTypeable = display;\r\n        }\r\n        else {\r\n            this.clearTargetBeTypeable = false;\r\n        }\r\n    }\r\n\r\n    clearBeActionIdable: boolean = false;\r\n    setClearBeActionIdable(display: boolean) {\r\n        if (this.toDesignerBeCreationProcess.BeActionId != null) {\r\n            this.clearBeActionIdable = display;\r\n        }\r\n        else {\r\n            this.clearBeActionIdable = false;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-creation-process/views/aif-be-creation-process-designer/aif-be-creation-process-designer.component.ts","export class AifBeCreationProcessEntity {\r\n    Id: string;\r\n\r\n    Name: string;\r\n\r\n    Description: string;\r\n\r\n    MetadataPackageName: string;\r\n\r\n    MetadataID: string;\r\n\r\n    SuName: string;\r\n\r\n    IsEnabled: boolean;\r\n\r\n    SourceBeType: string;\r\n\r\n    TargetBeType: string;\r\n\r\n    BeEventId: string;\r\n\r\n    BeActionId: string;\r\n\r\n    BeCreationRuleId: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-creation-process/views/aif-be-creation-process-entity.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ButtonsModule } from '@progress/kendo-angular-buttons';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { WindowModule, DialogModule } from '@progress/kendo-angular-dialog';\r\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\r\nimport { FarrisDialogModule } from '@farris/ui';\r\nimport { MetadataSelectModule } from '@gsp-lcm/metadata-selector';\r\nimport { AifBeCreationProcessDesignerComponent } from './aif-be-creation-process-designer/aif-be-creation-process-designer.component';\r\nimport { GSPHttpModule } from '@farris/ide-devkit/services';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpClientModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        ButtonsModule,\r\n        GridModule,\r\n        WindowModule,\r\n        DropDownsModule,\r\n        DialogModule,\r\n        GSPHttpModule,\r\n        FarrisDialogModule,\r\n        MetadataSelectModule\r\n    ],\r\n    declarations: [AifBeCreationProcessDesignerComponent],\r\n    entryComponents: [AifBeCreationProcessDesignerComponent]\r\n})\r\nexport class AifBeCreationProcessModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-creation-process/views/aif-be-creation-process.module.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/observable';\r\nimport { HttpService } from '@farris/ide-devkit/services';\r\n\r\n@Injectable()\r\nexport class AifBeCreationProcessService {\r\n  private baseUrl = '/api/dev/sys/v1.0/BeCreationProcessEntities';\r\n\r\n  constructor(private http: HttpService) { }\r\n\r\n  publishBeCreationProcess(item: any): Observable<any> {\r\n    return this.http.post(this.baseUrl, item);\r\n  }\r\n\r\n  unPublishBeCreationProcess(metadataId: string): Observable<any> {\r\n    let param: any = {\r\n      \"parameters\": metadataId\r\n    }\r\n\r\n    const url = ` ${this.baseUrl}/UnPublishBeCreationProcess`;\r\n    return this.http.post(url, param);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-creation-process/views/aif-be-creation-process.service.ts","import { ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { PackageView } from '@farris/ide-devkit';\r\nimport { AifBeCreationProcessDesignerComponent } from './aif-be-creation-process-designer/aif-be-creation-process-designer.component';\r\n\r\nexport class AifBeCreationProcessPackageView extends PackageView {\r\n\r\n  constructor(serializedState: any,\r\n    private cfr: ComponentFactoryResolver,\r\n    private injector: Injector) {\r\n    super(serializedState);\r\n    const componentFactory = this.cfr.resolveComponentFactory(AifBeCreationProcessDesignerComponent);\r\n    this.element = componentFactory.create(this.injector);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/packages/aif-be-creation-process/views/index.ts"],"sourceRoot":"webpack:///"}